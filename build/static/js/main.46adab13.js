/*! For license information please see main.46adab13.js.LICENSE.txt */
!function(){var e={757:function(e,t,n){e.exports=n(727)},110:function(e,t,n){"use strict";var r=n(441),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},u={};function s(e){return r.isMemo(e)?o:u[e.$$typeof]||i}u[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},u[r.Memo]=o;var c=Object.defineProperty,l=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(p){var i=d(n);i&&i!==p&&e(t,i,r)}var o=l(n);f&&(o=o.concat(f(n)));for(var u=s(t),v=s(n),m=0;m<o.length;++m){var y=o[m];if(!a[y]&&(!r||!r[y])&&(!v||!v[y])&&(!u||!u[y])){var g=h(n,y);try{c(t,y,g)}catch(k){}}}}return t}},151:function(e,t,n){var r=n(878);e.exports=d,e.exports.parse=a,e.exports.compile=function(e,t){return u(a(e,t),t)},e.exports.tokensToFunction=u,e.exports.tokensToRegExp=h;var i=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g");function a(e,t){for(var n,r=[],a=0,o=0,u="",l=t&&t.delimiter||"/";null!=(n=i.exec(e));){var f=n[0],h=n[1],d=n.index;if(u+=e.slice(o,d),o=d+f.length,h)u+=h[1];else{var p=e[o],v=n[2],m=n[3],y=n[4],g=n[5],k=n[6],w=n[7];u&&(r.push(u),u="");var b=null!=v&&null!=p&&p!==v,x="+"===k||"*"===k,_="?"===k||"*"===k,I=n[2]||l,S=y||g;r.push({name:m||a++,prefix:v||"",delimiter:I,optional:_,repeat:x,partial:b,asterisk:!!w,pattern:S?c(S):w?".*":"[^"+s(I)+"]+?"})}}return o<e.length&&(u+=e.substr(o)),u&&r.push(u),r}function o(e){return encodeURI(e).replace(/[\/?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()}))}function u(e,t){for(var n=new Array(e.length),i=0;i<e.length;i++)"object"===typeof e[i]&&(n[i]=new RegExp("^(?:"+e[i].pattern+")$",f(t)));return function(t,i){for(var a="",u=t||{},s=(i||{}).pretty?o:encodeURIComponent,c=0;c<e.length;c++){var l=e[c];if("string"!==typeof l){var f,h=u[l.name];if(null==h){if(l.optional){l.partial&&(a+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(r(h)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(h)+"`");if(0===h.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var d=0;d<h.length;d++){if(f=s(h[d]),!n[c].test(f))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(f)+"`");a+=(0===d?l.prefix:l.delimiter)+f}}else{if(f=l.asterisk?encodeURI(h).replace(/[?#]/g,(function(e){return"%"+e.charCodeAt(0).toString(16).toUpperCase()})):s(h),!n[c].test(f))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+f+'"');a+=l.prefix+f}}else a+=l}return a}}function s(e){return e.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(e){return e.replace(/([=!:$\/()])/g,"\\$1")}function l(e,t){return e.keys=t,e}function f(e){return e&&e.sensitive?"":"i"}function h(e,t,n){r(t)||(n=t||n,t=[]);for(var i=(n=n||{}).strict,a=!1!==n.end,o="",u=0;u<e.length;u++){var c=e[u];if("string"===typeof c)o+=s(c);else{var h=s(c.prefix),d="(?:"+c.pattern+")";t.push(c),c.repeat&&(d+="(?:"+h+d+")*"),o+=d=c.optional?c.partial?h+"("+d+")?":"(?:"+h+"("+d+"))?":h+"("+d+")"}}var p=s(n.delimiter||"/"),v=o.slice(-p.length)===p;return i||(o=(v?o.slice(0,-p.length):o)+"(?:"+p+"(?=$))?"),o+=a?"$":i&&v?"":"(?="+p+"|$)",l(new RegExp("^"+o,f(n)),t)}function d(e,t,n){return r(t)||(n=t||n,t=[]),n=n||{},e instanceof RegExp?function(e,t){var n=e.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)t.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return l(e,t)}(e,t):r(e)?function(e,t,n){for(var r=[],i=0;i<e.length;i++)r.push(d(e[i],t,n).source);return l(new RegExp("(?:"+r.join("|")+")",f(n)),t)}(e,t,n):function(e,t,n){return h(a(e,n),t,n)}(e,t,n)}},878:function(e){e.exports=Array.isArray||function(e){return"[object Array]"==Object.prototype.toString.call(e)}},888:function(e,t,n){"use strict";var r=n(47);function i(){}function a(){}a.resetWarningCache=i,e.exports=function(){function e(e,t,n,i,a,o){if(o!==r){var u=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw u.name="Invariant Violation",u}}function t(){return e}e.isRequired=e;var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:a,resetWarningCache:i};return n.PropTypes=n,n}},7:function(e,t,n){e.exports=n(888)()},47:function(e){"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},463:function(e,t,n){"use strict";var r=n(791),i=n(296);function a(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,u={};function s(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(u[e]=t,e=0;e<t.length;e++)o.add(t[e])}var l=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,d={},p={};function v(e,t,n,r,i,a,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=o}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new v(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new v(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new v(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new v(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new v(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new v(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new v(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new v(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new v(e,5,!1,e.toLowerCase(),null,!1,!1)}));var y=/[\-:]([a-z])/g;function g(e){return e[1].toUpperCase()}function k(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!f.call(p,e)||!f.call(d,e)&&(h.test(e)?p[e]=!0:(d[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(y,g);m[t]=new v(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new v("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new v(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,b=Symbol.for("react.element"),x=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),I=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),E=Symbol.for("react.provider"),T=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var O=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var D=Symbol.iterator;function L(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=D&&e[D]||e["@@iterator"])?e:null}var M,F=Object.assign;function j(e){if(void 0===M)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);M=t&&t[1]||""}return"\n"+M+e}var U=!1;function V(e,t){if(!e||U)return"";U=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),a=r.stack.split("\n"),o=i.length-1,u=a.length-1;1<=o&&0<=u&&i[o]!==a[u];)u--;for(;1<=o&&0<=u;o--,u--)if(i[o]!==a[u]){if(1!==o||1!==u)do{if(o--,0>--u||i[o]!==a[u]){var s="\n"+i[o].replace(" at new "," at ");return e.displayName&&s.includes("<anonymous>")&&(s=s.replace("<anonymous>",e.displayName)),s}}while(1<=o&&0<=u);break}}}finally{U=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function z(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=V(e.type,!1);case 11:return e=V(e.type.render,!1);case 1:return e=V(e.type,!0);default:return""}}function B(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case _:return"Fragment";case x:return"Portal";case S:return"Profiler";case I:return"StrictMode";case N:return"Suspense";case A:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case T:return(e.displayName||"Context")+".Consumer";case E:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:B(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return B(e(t))}catch(n){}}return null}function q(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return B(t);case 8:return t===I?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function W(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function K(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=K(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,a.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function H(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Q(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function $(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=W(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&k(e,"checked",t,!1)}function X(e,t){J(e,t);var n=W(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,W(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Q(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+W(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(a(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(a(92));if(te(n)){if(1<n.length)throw Error(a(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:W(n)}}function ae(e,t){var n=W(t.value),r=W(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ue(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function se(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ue(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,le,fe=(le=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return le(e,t)}))}:le);function he(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var de={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},pe=["Webkit","ms","Moz","O"];function ve(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||de.hasOwnProperty(e)&&de[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ve(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(de).forEach((function(e){pe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),de[t]=de[e]}))}));var ye=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ge(e,t){if(t){if(ye[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(a(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(a(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(a(62))}}function ke(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function be(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var xe=null,_e=null,Ie=null;function Se(e){if(e=ki(e)){if("function"!==typeof xe)throw Error(a(280));var t=e.stateNode;t&&(t=bi(t),xe(e.stateNode,e.type,t))}}function Ee(e){_e?Ie?Ie.push(e):Ie=[e]:_e=e}function Te(){if(_e){var e=_e,t=Ie;if(Ie=_e=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Ne(){}var Ae=!1;function Pe(e,t,n){if(Ae)return e(t,n);Ae=!0;try{return Ce(e,t,n)}finally{Ae=!1,(null!==_e||null!==Ie)&&(Ne(),Te())}}function Re(e,t){var n=e.stateNode;if(null===n)return null;var r=bi(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(a(231,t,typeof n));return n}var Oe=!1;if(l)try{var De={};Object.defineProperty(De,"passive",{get:function(){Oe=!0}}),window.addEventListener("test",De,De),window.removeEventListener("test",De,De)}catch(le){Oe=!1}function Le(e,t,n,r,i,a,o,u,s){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(l){this.onError(l)}}var Me=!1,Fe=null,je=!1,Ue=null,Ve={onError:function(e){Me=!0,Fe=e}};function ze(e,t,n,r,i,a,o,u,s){Me=!1,Fe=null,Le.apply(Ve,arguments)}function Be(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(a(188))}function Ke(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(a(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return We(i),e;if(o===r)return We(i),t;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var u=!1,s=i.child;s;){if(s===n){u=!0,n=i,r=o;break}if(s===r){u=!0,r=i,n=o;break}s=s.sibling}if(!u){for(s=o.child;s;){if(s===n){u=!0,n=o,r=i;break}if(s===r){u=!0,r=o,n=i;break}s=s.sibling}if(!u)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?e:t}(e))?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var He=i.unstable_scheduleCallback,Qe=i.unstable_cancelCallback,$e=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,Xe=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,at=null;var ot=Math.clz32?Math.clz32:function(e){return 0===(e>>>=0)?32:31-(ut(e)/st|0)|0},ut=Math.log,st=Math.LN2;var ct=64,lt=4194304;function ft(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function ht(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,o=268435455&n;if(0!==o){var u=o&~i;0!==u?r=ft(u):0!==(a&=o)&&(r=ft(a))}else 0!==(o=n&~i)?r=ft(o):0!==a&&(r=ft(a));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(a=t&-t)||16===i&&0!==(4194240&a)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-ot(t)),r|=e[n],t&=~i;return r}function dt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function pt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function vt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function yt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-ot(t)]=n}function gt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-ot(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var kt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var bt,xt,_t,It,St,Et=!1,Tt=[],Ct=null,Nt=null,At=null,Pt=new Map,Rt=new Map,Ot=[],Dt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Lt(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Nt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Rt.delete(t.pointerId)}}function Mt(e,t,n,r,i,a){return null===e||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},null!==t&&(null!==(t=ki(t))&&xt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=gi(e.target);if(null!==t){var n=Be(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=qe(n)))return e.blockedOn=t,void St(e.priority,(function(){_t(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=$t(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ki(n))&&xt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Ut(e,t,n){jt(e)&&n.delete(t)}function Vt(){Et=!1,null!==Ct&&jt(Ct)&&(Ct=null),null!==Nt&&jt(Nt)&&(Nt=null),null!==At&&jt(At)&&(At=null),Pt.forEach(Ut),Rt.forEach(Ut)}function zt(e,t){e.blockedOn===t&&(e.blockedOn=null,Et||(Et=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,Vt)))}function Bt(e){function t(t){return zt(t,e)}if(0<Tt.length){zt(Tt[0],e);for(var n=1;n<Tt.length;n++){var r=Tt[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&zt(Ct,e),null!==Nt&&zt(Nt,e),null!==At&&zt(At,e),Pt.forEach(t),Rt.forEach(t),n=0;n<Ot.length;n++)(r=Ot[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Ot.length&&null===(n=Ot[0]).blockedOn;)Ft(n),null===n.blockedOn&&Ot.shift()}var qt=w.ReactCurrentBatchConfig,Wt=!0;function Kt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=1,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Gt(e,t,n,r){var i=kt,a=qt.transition;qt.transition=null;try{kt=4,Ht(e,t,n,r)}finally{kt=i,qt.transition=a}}function Ht(e,t,n,r){if(Wt){var i=$t(e,t,n,r);if(null===i)Wr(e,t,r,Qt,n),Lt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Ct=Mt(Ct,e,t,n,r,i),!0;case"dragenter":return Nt=Mt(Nt,e,t,n,r,i),!0;case"mouseover":return At=Mt(At,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Pt.set(a,Mt(Pt.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,Rt.set(a,Mt(Rt.get(a)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Lt(e,r),4&t&&-1<Dt.indexOf(e)){for(;null!==i;){var a=ki(i);if(null!==a&&bt(a),null===(a=$t(e,t,n,r))&&Wr(e,t,r,Qt,n),a===i)break;i=a}null!==i&&r.stopPropagation()}else Wr(e,t,r,null,n)}}var Qt=null;function $t(e,t,n,r){if(Qt=null,null!==(e=gi(e=be(r))))if(null===(t=Be(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Qt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,Xt=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=Xt,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,a=i.length;for(e=0;e<r&&n[e]===i[e];e++);var o=r-e;for(t=1;t<=o&&n[r-t]===i[a-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,i,a){for(var o in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=a,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(i):i[o]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var on,un,sn,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ln=an(cn),fn=F({},cn,{view:0,detail:0}),hn=an(fn),dn=F({},fn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==sn&&(sn&&"mousemove"===e.type?(on=e.screenX-sn.screenX,un=e.screenY-sn.screenY):un=on=0,sn=e),on)},movementY:function(e){return"movementY"in e?e.movementY:un}}),pn=an(dn),vn=an(F({},dn,{dataTransfer:0})),mn=an(F({},fn,{relatedTarget:0})),yn=an(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),gn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),kn=an(gn),wn=an(F({},cn,{data:0})),bn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},xn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function In(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=_n[e])&&!!t[e]}function Sn(){return In}var En=F({},fn,{key:function(e){if(e.key){var t=bn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?xn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Tn=an(En),Cn=an(F({},dn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Nn=an(F({},fn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),An=an(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=F({},dn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Rn=an(Pn),On=[9,13,27,32],Dn=l&&"CompositionEvent"in window,Ln=null;l&&"documentMode"in document&&(Ln=document.documentMode);var Mn=l&&"TextEvent"in window&&!Ln,Fn=l&&(!Dn||Ln&&8<Ln&&11>=Ln),jn=String.fromCharCode(32),Un=!1;function Vn(e,t){switch(e){case"keyup":return-1!==On.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function zn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Bn=!1;var qn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!qn[e.type]:"textarea"===t}function Kn(e,t,n,r){Ee(r),0<(t=Gr(t,"onChange")).length&&(n=new ln("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Hn=null;function Qn(e){jr(e,0)}function $n(e){if(H(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(l){var Xn;if(l){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}Xn=Zn}else Xn=!1;Jn=Xn&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Hn=Gn=null)}function nr(e){if("value"===e.propertyName&&$n(Hn)){var t=[];Kn(t,Hn,e,be(e)),Pe(Qn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Hn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return $n(Hn)}function ar(e,t){if("click"===e)return $n(t)}function or(e,t){if("input"===e||"change"===e)return $n(t)}var ur="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function sr(e,t){if(ur(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!f.call(t,i)||!ur(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function lr(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function fr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?fr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function hr(){for(var e=window,t=Q();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Q((e=t.contentWindow).document)}return t}function dr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function pr(e){var t=hr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&fr(n.ownerDocument.documentElement,n)){if(null!==r&&dr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=void 0===r.end?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=lr(n,a);var o=lr(n,r);i&&o&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var vr=l&&"documentMode"in document&&11>=document.documentMode,mr=null,yr=null,gr=null,kr=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;kr||null==mr||mr!==Q(r)||("selectionStart"in(r=mr)&&dr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},gr&&sr(gr,r)||(gr=r,0<(r=Gr(yr,"onSelect")).length&&(t=new ln("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function br(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xr={animationend:br("Animation","AnimationEnd"),animationiteration:br("Animation","AnimationIteration"),animationstart:br("Animation","AnimationStart"),transitionend:br("Transition","TransitionEnd")},_r={},Ir={};function Sr(e){if(_r[e])return _r[e];if(!xr[e])return e;var t,n=xr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ir)return _r[e]=n[t];return e}l&&(Ir=document.createElement("div").style,"AnimationEvent"in window||(delete xr.animationend.animation,delete xr.animationiteration.animation,delete xr.animationstart.animation),"TransitionEvent"in window||delete xr.transitionend.transition);var Er=Sr("animationend"),Tr=Sr("animationiteration"),Cr=Sr("animationstart"),Nr=Sr("transitionend"),Ar=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rr(e,t){Ar.set(e,t),s(t,[e])}for(var Or=0;Or<Pr.length;Or++){var Dr=Pr[Or];Rr(Dr.toLowerCase(),"on"+(Dr[0].toUpperCase()+Dr.slice(1)))}Rr(Er,"onAnimationEnd"),Rr(Tr,"onAnimationIteration"),Rr(Cr,"onAnimationStart"),Rr("dblclick","onDoubleClick"),Rr("focusin","onFocus"),Rr("focusout","onBlur"),Rr(Nr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),s("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),s("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),s("onBeforeInput",["compositionend","keypress","textInput","paste"]),s("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),s("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Mr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,o,u,s,c){if(ze.apply(this,arguments),Me){if(!Me)throw Error(a(198));var l=Fe;Me=!1,Fe=null,je||(je=!0,Ue=l)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var o=r.length-1;0<=o;o--){var u=r[o],s=u.instance,c=u.currentTarget;if(u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}else for(o=0;o<r.length;o++){if(s=(u=r[o]).instance,c=u.currentTarget,u=u.listener,s!==a&&i.isPropagationStopped())break e;Fr(i,u,c),a=s}}}if(je)throw e=Ue,je=!1,Ue=null,e}function Ur(e,t){var n=t[vi];void 0===n&&(n=t[vi]=new Set);var r=e+"__bubble";n.has(r)||(qr(t,e,2,!1),n.add(r))}function Vr(e,t,n){var r=0;t&&(r|=4),qr(n,e,r,t)}var zr="_reactListening"+Math.random().toString(36).slice(2);function Br(e){if(!e[zr]){e[zr]=!0,o.forEach((function(t){"selectionchange"!==t&&(Mr.has(t)||Vr(t,!1,e),Vr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[zr]||(t[zr]=!0,Vr("selectionchange",!1,t))}}function qr(e,t,n,r){switch(Yt(t)){case 1:var i=Kt;break;case 4:i=Gt;break;default:i=Ht}n=i.bind(null,t,n,e),i=void 0,!Oe||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Wr(e,t,n,r,i){var a=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var o=r.tag;if(3===o||4===o){var u=r.stateNode.containerInfo;if(u===i||8===u.nodeType&&u.parentNode===i)break;if(4===o)for(o=r.return;null!==o;){var s=o.tag;if((3===s||4===s)&&((s=o.stateNode.containerInfo)===i||8===s.nodeType&&s.parentNode===i))return;o=o.return}for(;null!==u;){if(null===(o=gi(u)))return;if(5===(s=o.tag)||6===s){r=a=o;continue e}u=u.parentNode}}r=r.return}Pe((function(){var r=a,i=be(n),o=[];e:{var u=Ar.get(e);if(void 0!==u){var s=ln,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":s=Tn;break;case"focusin":c="focus",s=mn;break;case"focusout":c="blur",s=mn;break;case"beforeblur":case"afterblur":s=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":s=pn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":s=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":s=Nn;break;case Er:case Tr:case Cr:s=yn;break;case Nr:s=An;break;case"scroll":s=hn;break;case"wheel":s=Rn;break;case"copy":case"cut":case"paste":s=kn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":s=Cn}var l=0!==(4&t),f=!l&&"scroll"===e,h=l?null!==u?u+"Capture":null:u;l=[];for(var d,p=r;null!==p;){var v=(d=p).stateNode;if(5===d.tag&&null!==v&&(d=v,null!==h&&(null!=(v=Re(p,h))&&l.push(Kr(p,v,d)))),f)break;p=p.return}0<l.length&&(u=new s(u,c,null,n,i),o.push({event:u,listeners:l}))}}if(0===(7&t)){if(s="mouseout"===e||"pointerout"===e,(!(u="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!gi(c)&&!c[pi])&&(s||u)&&(u=i.window===i?i:(u=i.ownerDocument)?u.defaultView||u.parentWindow:window,s?(s=r,null!==(c=(c=n.relatedTarget||n.toElement)?gi(c):null)&&(c!==(f=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(s=null,c=r),s!==c)){if(l=pn,v="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(l=Cn,v="onPointerLeave",h="onPointerEnter",p="pointer"),f=null==s?u:wi(s),d=null==c?u:wi(c),(u=new l(v,p+"leave",s,n,i)).target=f,u.relatedTarget=d,v=null,gi(i)===r&&((l=new l(h,p+"enter",c,n,i)).target=d,l.relatedTarget=f,v=l),f=v,s&&c)e:{for(h=c,p=0,d=l=s;d;d=Hr(d))p++;for(d=0,v=h;v;v=Hr(v))d++;for(;0<p-d;)l=Hr(l),p--;for(;0<d-p;)h=Hr(h),d--;for(;p--;){if(l===h||null!==h&&l===h.alternate)break e;l=Hr(l),h=Hr(h)}l=null}else l=null;null!==s&&Qr(o,u,s,l,!1),null!==c&&null!==f&&Qr(o,f,c,l,!0)}if("select"===(s=(u=r?wi(r):window).nodeName&&u.nodeName.toLowerCase())||"input"===s&&"file"===u.type)var m=Yn;else if(Wn(u))if(Jn)m=or;else{m=ir;var y=rr}else(s=u.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===u.type||"radio"===u.type)&&(m=ar);switch(m&&(m=m(e,r))?Kn(o,m,n,i):(y&&y(e,u,r),"focusout"===e&&(y=u._wrapperState)&&y.controlled&&"number"===u.type&&ee(u,"number",u.value)),y=r?wi(r):window,e){case"focusin":(Wn(y)||"true"===y.contentEditable)&&(mr=y,yr=r,gr=null);break;case"focusout":gr=yr=mr=null;break;case"mousedown":kr=!0;break;case"contextmenu":case"mouseup":case"dragend":kr=!1,wr(o,n,i);break;case"selectionchange":if(vr)break;case"keydown":case"keyup":wr(o,n,i)}var g;if(Dn)e:{switch(e){case"compositionstart":var k="onCompositionStart";break e;case"compositionend":k="onCompositionEnd";break e;case"compositionupdate":k="onCompositionUpdate";break e}k=void 0}else Bn?Vn(e,n)&&(k="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(k="onCompositionStart");k&&(Fn&&"ko"!==n.locale&&(Bn||"onCompositionStart"!==k?"onCompositionEnd"===k&&Bn&&(g=en()):(Xt="value"in(Jt=i)?Jt.value:Jt.textContent,Bn=!0)),0<(y=Gr(r,k)).length&&(k=new wn(k,e,null,n,i),o.push({event:k,listeners:y}),g?k.data=g:null!==(g=zn(n))&&(k.data=g))),(g=Mn?function(e,t){switch(e){case"compositionend":return zn(t);case"keypress":return 32!==t.which?null:(Un=!0,jn);case"textInput":return(e=t.data)===jn&&Un?null:e;default:return null}}(e,n):function(e,t){if(Bn)return"compositionend"===e||!Dn&&Vn(e,t)?(e=en(),Zt=Xt=Jt=null,Bn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),o.push({event:i,listeners:r}),i.data=g))}jr(o,t)}))}function Kr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,a=i.stateNode;5===i.tag&&null!==a&&(i=a,null!=(a=Re(e,n))&&r.unshift(Kr(e,a,i)),null!=(a=Re(e,t))&&r.push(Kr(e,a,i))),e=e.return}return r}function Hr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Qr(e,t,n,r,i){for(var a=t._reactName,o=[];null!==n&&n!==r;){var u=n,s=u.alternate,c=u.stateNode;if(null!==s&&s===r)break;5===u.tag&&null!==c&&(u=c,i?null!=(s=Re(n,a))&&o.unshift(Kr(n,s,u)):i||null!=(s=Re(n,a))&&o.push(Kr(n,s,u))),n=n.return}0!==o.length&&e.push({event:t,listeners:o})}var $r=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace($r,"\n").replace(Yr,"")}function Xr(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(a(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,ai="function"===typeof Promise?Promise:void 0,oi="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ai?function(e){return ai.resolve(null).then(e).catch(ui)}:ri;function ui(e){setTimeout((function(){throw e}))}function si(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Bt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Bt(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function li(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var fi=Math.random().toString(36).slice(2),hi="__reactFiber$"+fi,di="__reactProps$"+fi,pi="__reactContainer$"+fi,vi="__reactEvents$"+fi,mi="__reactListeners$"+fi,yi="__reactHandles$"+fi;function gi(e){var t=e[hi];if(t)return t;for(var n=e.parentNode;n;){if(t=n[pi]||n[hi]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=li(e);null!==e;){if(n=e[hi])return n;e=li(e)}return t}n=(e=n).parentNode}return null}function ki(e){return!(e=e[hi]||e[pi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(a(33))}function bi(e){return e[di]||null}var xi=[],_i=-1;function Ii(e){return{current:e}}function Si(e){0>_i||(e.current=xi[_i],xi[_i]=null,_i--)}function Ei(e,t){_i++,xi[_i]=e.current,e.current=t}var Ti={},Ci=Ii(Ti),Ni=Ii(!1),Ai=Ti;function Pi(e,t){var n=e.type.contextTypes;if(!n)return Ti;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,a={};for(i in n)a[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ri(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Oi(){Si(Ni),Si(Ci)}function Di(e,t,n){if(Ci.current!==Ti)throw Error(a(168));Ei(Ci,t),Ei(Ni,n)}function Li(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(a(108,q(e)||"Unknown",i));return F({},n,r)}function Mi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ti,Ai=Ci.current,Ei(Ci,e),Ei(Ni,Ni.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(a(169));n?(e=Li(e,t,Ai),r.__reactInternalMemoizedMergedChildContext=e,Si(Ni),Si(Ci),Ei(Ci,e)):Si(Ni),Ei(Ni,n)}var ji=null,Ui=!1,Vi=!1;function zi(e){null===ji?ji=[e]:ji.push(e)}function Bi(){if(!Vi&&null!==ji){Vi=!0;var e=0,t=kt;try{var n=ji;for(kt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Ui=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),He(Ze,Bi),i}finally{kt=t,Vi=!1}}return null}var qi=w.ReactCurrentBatchConfig;function Wi(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}var Ki=Ii(null),Gi=null,Hi=null,Qi=null;function $i(){Qi=Hi=Gi=null}function Yi(e){var t=Ki.current;Si(Ki),e._currentValue=t}function Ji(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Xi(e,t){Gi=e,Qi=Hi=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(bu=!0),e.firstContext=null)}function Zi(e){var t=e._currentValue;if(Qi!==e)if(e={context:e,memoizedValue:t,next:null},null===Hi){if(null===Gi)throw Error(a(308));Hi=e,Gi.dependencies={lanes:0,firstContext:e}}else Hi=Hi.next=e;return t}var ea=null,ta=!1;function na(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ra(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ia(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function aa(e,t){var n=e.updateQueue;null!==n&&(n=n.shared,tc(e)?(null===(e=n.interleaved)?(t.next=t,null===ea?ea=[n]:ea.push(n)):(t.next=e.next,e.next=t),n.interleaved=t):(null===(e=n.pending)?t.next=t:(t.next=e.next,e.next=t),n.pending=t))}function oa(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}function ua(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,a=null;if(null!==(n=n.firstBaseUpdate)){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===a?i=a=o:a=a.next=o,n=n.next}while(null!==n);null===a?i=a=t:a=a.next=t}else i=a=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function sa(e,t,n,r){var i=e.updateQueue;ta=!1;var a=i.firstBaseUpdate,o=i.lastBaseUpdate,u=i.shared.pending;if(null!==u){i.shared.pending=null;var s=u,c=s.next;s.next=null,null===o?a=c:o.next=c,o=s;var l=e.alternate;null!==l&&((u=(l=l.updateQueue).lastBaseUpdate)!==o&&(null===u?l.firstBaseUpdate=c:u.next=c,l.lastBaseUpdate=s))}if(null!==a){var f=i.baseState;for(o=0,l=c=s=null,u=a;;){var h=u.lane,d=u.eventTime;if((r&h)===h){null!==l&&(l=l.next={eventTime:d,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var p=e,v=u;switch(h=t,d=n,v.tag){case 1:if("function"===typeof(p=v.payload)){f=p.call(d,f,h);break e}f=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=v.payload)?p.call(d,f,h):p)||void 0===h)break e;f=F({},f,h);break e;case 2:ta=!0}}null!==u.callback&&0!==u.lane&&(e.flags|=64,null===(h=i.effects)?i.effects=[u]:h.push(u))}else d={eventTime:d,lane:h,tag:u.tag,payload:u.payload,callback:u.callback,next:null},null===l?(c=l=d,s=f):l=l.next=d,o|=h;if(null===(u=u.next)){if(null===(u=i.shared.pending))break;u=(h=u).next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}if(null===l&&(s=f),i.baseState=s,i.firstBaseUpdate=c,i.lastBaseUpdate=l,null!==(t=i.shared.interleaved)){i=t;do{o|=i.lane,i=i.next}while(i!==t)}else null===a&&(i.shared.lanes=0);Os|=o,e.lanes=o,e.memoizedState=f}}function ca(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var la=(new r.Component).refs;function fa(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ha={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Js(),i=Xs(e),a=ia(r,i);a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zs(e,i,r))&&oa(t,e,i)},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Js(),i=Xs(e),a=ia(r,i);a.tag=1,a.payload=t,void 0!==n&&null!==n&&(a.callback=n),aa(e,a),null!==(t=Zs(e,i,r))&&oa(t,e,i)},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Js(),r=Xs(e),i=ia(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),aa(e,i),null!==(t=Zs(e,r,n))&&oa(t,e,r)}};function da(e,t,n,r,i,a,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,a,o):!t.prototype||!t.prototype.isPureReactComponent||(!sr(n,r)||!sr(i,a))}function pa(e,t,n){var r=!1,i=Ti,a=t.contextType;return"object"===typeof a&&null!==a?a=Zi(a):(i=Ri(t)?Ai:Ci.current,a=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pi(e,i):Ti),t=new t(n,a),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ha,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function va(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ha.enqueueReplaceState(t,t.state,null)}function ma(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs=la,na(e);var a=t.contextType;"object"===typeof a&&null!==a?i.context=Zi(a):(a=Ri(t)?Ai:Ci.current,i.context=Pi(e,a)),i.state=e.memoizedState,"function"===typeof(a=t.getDerivedStateFromProps)&&(fa(e,t,a,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ha.enqueueReplaceState(i,i.state,null),sa(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}var ya=[],ga=0,ka=null,wa=0,ba=[],xa=0,_a=null,Ia=1,Sa="";function Ea(e,t){ya[ga++]=wa,ya[ga++]=ka,ka=e,wa=t}function Ta(e,t,n){ba[xa++]=Ia,ba[xa++]=Sa,ba[xa++]=_a,_a=e;var r=Ia;e=Sa;var i=32-ot(r)-1;r&=~(1<<i),n+=1;var a=32-ot(t)+i;if(30<a){var o=i-i%5;a=(r&(1<<o)-1).toString(32),r>>=o,i-=o,Ia=1<<32-ot(t)+i|n<<i|r,Sa=a+e}else Ia=1<<a|n<<i|r,Sa=e}function Ca(e){null!==e.return&&(Ea(e,1),Ta(e,1,0))}function Na(e){for(;e===ka;)ka=ya[--ga],ya[ga]=null,wa=ya[--ga],ya[ga]=null;for(;e===_a;)_a=ba[--xa],ba[xa]=null,Sa=ba[--xa],ba[xa]=null,Ia=ba[--xa],ba[xa]=null}var Aa=null,Pa=null,Ra=!1,Oa=null;function Da(e,t){var n=Ac(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function La(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,Aa=e,Pa=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,Aa=e,Pa=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==_a?{id:Ia,overflow:Sa}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Ac(18,null,null,0)).stateNode=t,n.return=e,e.child=n,Aa=e,Pa=null,!0);default:return!1}}function Ma(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function Fa(e){if(Ra){var t=Pa;if(t){var n=t;if(!La(e,t)){if(Ma(e))throw Error(a(418));t=ci(n.nextSibling);var r=Aa;t&&La(e,t)?Da(r,n):(e.flags=-4097&e.flags|2,Ra=!1,Aa=e)}}else{if(Ma(e))throw Error(a(418));e.flags=-4097&e.flags|2,Ra=!1,Aa=e}}}function ja(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;Aa=e}function Ua(e){if(e!==Aa)return!1;if(!Ra)return ja(e),Ra=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=Pa)){if(Ma(e)){for(e=Pa;e;)e=ci(e.nextSibling);throw Error(a(418))}for(;t;)Da(e,t),t=ci(t.nextSibling)}if(ja(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(a(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){Pa=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}Pa=null}}else Pa=Aa?ci(e.stateNode.nextSibling):null;return!0}function Va(){Pa=Aa=null,Ra=!1}function za(e){null===Oa?Oa=[e]:Oa.push(e)}function Ba(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,e));var i=r,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=i.refs;t===la&&(t=i.refs={}),null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(a(284));if(!n._owner)throw Error(a(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(a(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Wa(e){return(0,e._init)(e._payload)}function Ka(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Rc(e,t)).index=0,e.sibling=null,e}function o(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function u(t){return e&&null===t.alternate&&(t.flags|=2),t}function s(e,t,n,r){return null===t||6!==t.tag?((t=Mc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var a=n.type;return a===_?f(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===a||"object"===typeof a&&null!==a&&a.$$typeof===R&&Wa(a)===t.type)?((r=i(t,n.props)).ref=Ba(e,t,n),r.return=e,r):((r=Oc(n.type,n.key,n.props,null,e.mode,r)).ref=Ba(e,t,n),r.return=e,r)}function l(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Fc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function f(e,t,n,r,a){return null===t||7!==t.tag?((t=Dc(n,e.mode,r,a)).return=e,t):((t=i(t,n)).return=e,t)}function h(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Mc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case b:return(n=Oc(t.type,t.key,t.props,null,e.mode,n)).ref=Ba(e,null,t),n.return=e,n;case x:return(t=Fc(t,e.mode,n)).return=e,t;case R:return h(e,(0,t._init)(t._payload),n)}if(te(t)||L(t))return(t=Dc(t,e.mode,n,null)).return=e,t;qa(e,t)}return null}function d(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:s(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case b:return n.key===i?c(e,t,n,r):null;case x:return n.key===i?l(e,t,n,r):null;case R:return d(e,t,(i=n._init)(n._payload),r)}if(te(n)||L(n))return null!==i?null:f(e,t,n,r,null);qa(e,n)}return null}function p(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return s(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case b:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case x:return l(t,e=e.get(null===r.key?n:r.key)||null,r,i);case R:return p(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||L(r))return f(t,e=e.get(n)||null,r,i,null);qa(t,r)}return null}function v(i,a,u,s){for(var c=null,l=null,f=a,v=a=0,m=null;null!==f&&v<u.length;v++){f.index>v?(m=f,f=null):m=f.sibling;var y=d(i,f,u[v],s);if(null===y){null===f&&(f=m);break}e&&f&&null===y.alternate&&t(i,f),a=o(y,a,v),null===l?c=y:l.sibling=y,l=y,f=m}if(v===u.length)return n(i,f),Ra&&Ea(i,v),c;if(null===f){for(;v<u.length;v++)null!==(f=h(i,u[v],s))&&(a=o(f,a,v),null===l?c=f:l.sibling=f,l=f);return Ra&&Ea(i,v),c}for(f=r(i,f);v<u.length;v++)null!==(m=p(f,i,v,u[v],s))&&(e&&null!==m.alternate&&f.delete(null===m.key?v:m.key),a=o(m,a,v),null===l?c=m:l.sibling=m,l=m);return e&&f.forEach((function(e){return t(i,e)})),Ra&&Ea(i,v),c}function m(i,u,s,c){var l=L(s);if("function"!==typeof l)throw Error(a(150));if(null==(s=l.call(s)))throw Error(a(151));for(var f=l=null,v=u,m=u=0,y=null,g=s.next();null!==v&&!g.done;m++,g=s.next()){v.index>m?(y=v,v=null):y=v.sibling;var k=d(i,v,g.value,c);if(null===k){null===v&&(v=y);break}e&&v&&null===k.alternate&&t(i,v),u=o(k,u,m),null===f?l=k:f.sibling=k,f=k,v=y}if(g.done)return n(i,v),Ra&&Ea(i,m),l;if(null===v){for(;!g.done;m++,g=s.next())null!==(g=h(i,g.value,c))&&(u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return Ra&&Ea(i,m),l}for(v=r(i,v);!g.done;m++,g=s.next())null!==(g=p(v,i,m,g.value,c))&&(e&&null!==g.alternate&&v.delete(null===g.key?m:g.key),u=o(g,u,m),null===f?l=g:f.sibling=g,f=g);return e&&v.forEach((function(e){return t(i,e)})),Ra&&Ea(i,m),l}return function e(r,a,o,s){if("object"===typeof o&&null!==o&&o.type===_&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case b:e:{for(var c=o.key,l=a;null!==l;){if(l.key===c){if((c=o.type)===_){if(7===l.tag){n(r,l.sibling),(a=i(l,o.props.children)).return=r,r=a;break e}}else if(l.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Wa(c)===l.type){n(r,l.sibling),(a=i(l,o.props)).ref=Ba(r,l,o),a.return=r,r=a;break e}n(r,l);break}t(r,l),l=l.sibling}o.type===_?((a=Dc(o.props.children,r.mode,s,o.key)).return=r,r=a):((s=Oc(o.type,o.key,o.props,null,r.mode,s)).ref=Ba(r,a,o),s.return=r,r=s)}return u(r);case x:e:{for(l=o.key;null!==a;){if(a.key===l){if(4===a.tag&&a.stateNode.containerInfo===o.containerInfo&&a.stateNode.implementation===o.implementation){n(r,a.sibling),(a=i(a,o.children||[])).return=r,r=a;break e}n(r,a);break}t(r,a),a=a.sibling}(a=Fc(o,r.mode,s)).return=r,r=a}return u(r);case R:return e(r,a,(l=o._init)(o._payload),s)}if(te(o))return v(r,a,o,s);if(L(o))return m(r,a,o,s);qa(r,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==a&&6===a.tag?(n(r,a.sibling),(a=i(a,o)).return=r,r=a):(n(r,a),(a=Mc(o,r.mode,s)).return=r,r=a),u(r)):n(r,a)}}var Ga=Ka(!0),Ha=Ka(!1),Qa={},$a=Ii(Qa),Ya=Ii(Qa),Ja=Ii(Qa);function Xa(e){if(e===Qa)throw Error(a(174));return e}function Za(e,t){switch(Ei(Ja,t),Ei(Ya,e),Ei($a,Qa),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:se(null,"");break;default:t=se(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Si($a),Ei($a,t)}function eo(){Si($a),Si(Ya),Si(Ja)}function to(e){Xa(Ja.current);var t=Xa($a.current),n=se(t,e.type);t!==n&&(Ei(Ya,e),Ei($a,n))}function no(e){Ya.current===e&&(Si($a),Si(Ya))}var ro=Ii(0);function io(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ao=[];function oo(){for(var e=0;e<ao.length;e++)ao[e]._workInProgressVersionPrimary=null;ao.length=0}var uo=w.ReactCurrentDispatcher,so=w.ReactCurrentBatchConfig,co=0,lo=null,fo=null,ho=null,po=!1,vo=!1,mo=0,yo=0;function go(){throw Error(a(321))}function ko(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!ur(e[n],t[n]))return!1;return!0}function wo(e,t,n,r,i,o){if(co=o,lo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,uo.current=null===e||null===e.memoizedState?ru:iu,e=n(r,i),vo){o=0;do{if(vo=!1,mo=0,25<=o)throw Error(a(301));o+=1,ho=fo=null,t.updateQueue=null,uo.current=au,e=n(r,i)}while(vo)}if(uo.current=nu,t=null!==fo&&null!==fo.next,co=0,ho=fo=lo=null,po=!1,t)throw Error(a(300));return e}function bo(){var e=0!==mo;return mo=0,e}function xo(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===ho?lo.memoizedState=ho=e:ho=ho.next=e,ho}function _o(){if(null===fo){var e=lo.alternate;e=null!==e?e.memoizedState:null}else e=fo.next;var t=null===ho?lo.memoizedState:ho.next;if(null!==t)ho=t,fo=e;else{if(null===e)throw Error(a(310));e={memoizedState:(fo=e).memoizedState,baseState:fo.baseState,baseQueue:fo.baseQueue,queue:fo.queue,next:null},null===ho?lo.memoizedState=ho=e:ho=ho.next=e}return ho}function Io(e,t){return"function"===typeof t?t(e):t}function So(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=fo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var u=i.next;i.next=o.next,o.next=u}r.baseQueue=i=o,n.pending=null}if(null!==i){o=i.next,r=r.baseState;var s=u=null,c=null,l=o;do{var f=l.lane;if((co&f)===f)null!==c&&(c=c.next={lane:0,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null}),r=l.hasEagerState?l.eagerState:e(r,l.action);else{var h={lane:f,action:l.action,hasEagerState:l.hasEagerState,eagerState:l.eagerState,next:null};null===c?(s=c=h,u=r):c=c.next=h,lo.lanes|=f,Os|=f}l=l.next}while(null!==l&&l!==o);null===c?u=r:c.next=s,ur(r,t.memoizedState)||(bu=!0),t.memoizedState=r,t.baseState=u,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{o=i.lane,lo.lanes|=o,Os|=o,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Eo(e){var t=_o(),n=t.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,o=t.memoizedState;if(null!==i){n.pending=null;var u=i=i.next;do{o=e(o,u.action),u=u.next}while(u!==i);ur(o,t.memoizedState)||(bu=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function To(){}function Co(e,t){var n=lo,r=_o(),i=t(),o=!ur(r.memoizedState,i);if(o&&(r.memoizedState=i,bu=!0),r=r.queue,Uo(Po.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||null!==ho&&1&ho.memoizedState.tag){if(n.flags|=2048,Do(9,Ao.bind(null,n,r,i,t),void 0,null),null===Es)throw Error(a(349));0!==(30&co)||No(n,t,i)}return i}function No(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Ao(e,t,n,r){t.value=n,t.getSnapshot=r,Ro(t)&&Zs(e,1,-1)}function Po(e,t,n){return n((function(){Ro(t)&&Zs(e,1,-1)}))}function Ro(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!ur(e,n)}catch(r){return!0}}function Oo(e){var t=xo();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Io,lastRenderedState:e},t.queue=e,e=e.dispatch=Jo.bind(null,lo,e),[t.memoizedState,e]}function Do(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=lo.updateQueue)?(t={lastEffect:null,stores:null},lo.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Lo(){return _o().memoizedState}function Mo(e,t,n,r){var i=xo();lo.flags|=e,i.memoizedState=Do(1|t,n,void 0,void 0===r?null:r)}function Fo(e,t,n,r){var i=_o();r=void 0===r?null:r;var a=void 0;if(null!==fo){var o=fo.memoizedState;if(a=o.destroy,null!==r&&ko(r,o.deps))return void(i.memoizedState=Do(t,n,a,r))}lo.flags|=e,i.memoizedState=Do(1|t,n,a,r)}function jo(e,t){return Mo(8390656,8,e,t)}function Uo(e,t){return Fo(2048,8,e,t)}function Vo(e,t){return Fo(4,2,e,t)}function zo(e,t){return Fo(4,4,e,t)}function Bo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function qo(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fo(4,4,Bo.bind(null,t,e),n)}function Wo(){}function Ko(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Go(e,t){var n=_o();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&ko(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ho(e,t,n){return 0===(21&co)?(e.baseState&&(e.baseState=!1,bu=!0),e.memoizedState=n):(ur(n,t)||(n=vt(),lo.lanes|=n,Os|=n,e.baseState=!0),t)}function Qo(e,t){var n=kt;kt=0!==n&&4>n?n:4,e(!0);var r=so.transition;so.transition={};try{e(!1),t()}finally{kt=n,so.transition=r}}function $o(){return _o().memoizedState}function Yo(e,t,n){var r=Xs(e);n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xo(e)?Zo(t,n):(eu(e,t,n),null!==(e=Zs(e,r,n=Js()))&&tu(e,t,r))}function Jo(e,t,n){var r=Xs(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xo(e))Zo(t,i);else{eu(e,t,i);var a=e.alternate;if(0===e.lanes&&(null===a||0===a.lanes)&&null!==(a=t.lastRenderedReducer))try{var o=t.lastRenderedState,u=a(o,n);if(i.hasEagerState=!0,i.eagerState=u,ur(u,o))return}catch(s){}null!==(e=Zs(e,r,n=Js()))&&tu(e,t,r)}}function Xo(e){var t=e.alternate;return e===lo||null!==t&&t===lo}function Zo(e,t){vo=po=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function eu(e,t,n){tc(e)?(null===(e=t.interleaved)?(n.next=n,null===ea?ea=[t]:ea.push(t)):(n.next=e.next,e.next=n),t.interleaved=n):(null===(e=t.pending)?n.next=n:(n.next=e.next,e.next=n),t.pending=n)}function tu(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,gt(e,n)}}var nu={readContext:Zi,useCallback:go,useContext:go,useEffect:go,useImperativeHandle:go,useInsertionEffect:go,useLayoutEffect:go,useMemo:go,useReducer:go,useRef:go,useState:go,useDebugValue:go,useDeferredValue:go,useTransition:go,useMutableSource:go,useSyncExternalStore:go,useId:go,unstable_isNewReconciler:!1},ru={readContext:Zi,useCallback:function(e,t){return xo().memoizedState=[e,void 0===t?null:t],e},useContext:Zi,useEffect:jo,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Mo(4194308,4,Bo.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Mo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Mo(4,2,e,t)},useMemo:function(e,t){var n=xo();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=xo();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Yo.bind(null,lo,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},xo().memoizedState=e},useState:Oo,useDebugValue:Wo,useDeferredValue:function(e){return xo().memoizedState=e},useTransition:function(){var e=Oo(!1),t=e[0];return e=Qo.bind(null,e[1]),xo().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=lo,i=xo();if(Ra){if(void 0===n)throw Error(a(407));n=n()}else{if(n=t(),null===Es)throw Error(a(349));0!==(30&co)||No(r,t,n)}i.memoizedState=n;var o={value:n,getSnapshot:t};return i.queue=o,jo(Po.bind(null,r,o,e),[e]),r.flags|=2048,Do(9,Ao.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=xo(),t=Es.identifierPrefix;if(Ra){var n=Sa;t=":"+t+"R"+(n=(Ia&~(1<<32-ot(Ia)-1)).toString(32)+n),0<(n=mo++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=yo++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},iu={readContext:Zi,useCallback:Ko,useContext:Zi,useEffect:Uo,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:zo,useMemo:Go,useReducer:So,useRef:Lo,useState:function(){return So(Io)},useDebugValue:Wo,useDeferredValue:function(e){return Ho(_o(),fo.memoizedState,e)},useTransition:function(){return[So(Io)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:$o,unstable_isNewReconciler:!1},au={readContext:Zi,useCallback:Ko,useContext:Zi,useEffect:Uo,useImperativeHandle:qo,useInsertionEffect:Vo,useLayoutEffect:zo,useMemo:Go,useReducer:Eo,useRef:Lo,useState:function(){return Eo(Io)},useDebugValue:Wo,useDeferredValue:function(e){var t=_o();return null===fo?t.memoizedState=e:Ho(t,fo.memoizedState,e)},useTransition:function(){return[Eo(Io)[0],_o().memoizedState]},useMutableSource:To,useSyncExternalStore:Co,useId:$o,unstable_isNewReconciler:!1};function ou(e,t){try{var n="",r=t;do{n+=z(r),r=r.return}while(r);var i=n}catch(a){i="\nError generating stack: "+a.message+"\n"+a.stack}return{value:e,source:t,stack:i}}function uu(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var su,cu,lu,fu="function"===typeof WeakMap?WeakMap:Map;function hu(e,t,n){(n=ia(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){zs||(zs=!0,Bs=r),uu(0,t)},n}function du(e,t,n){(n=ia(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){uu(0,t)}}var a=e.stateNode;return null!==a&&"function"===typeof a.componentDidCatch&&(n.callback=function(){uu(0,t),"function"!==typeof r&&(null===qs?qs=new Set([this]):qs.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function pu(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new fu;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=Ic.bind(null,e,t,n),t.then(e,e))}function vu(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function mu(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=ia(-1,1)).tag=2,aa(n,t))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}function yu(e,t){if(!Ra)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function gu(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function ku(e,t,n){var r=t.pendingProps;switch(Na(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gu(t),null;case 1:case 17:return Ri(t.type)&&Oi(),gu(t),null;case 3:return r=t.stateNode,eo(),Si(Ni),Si(Ci),oo(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(Ua(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==Oa&&(ac(Oa),Oa=null))),gu(t),null;case 5:no(t);var i=Xa(Ja.current);if(n=t.type,null!==e&&null!=t.stateNode)cu(e,t,n,r),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(a(166));return gu(t),null}if(e=Xa($a.current),Ua(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[hi]=t,r[di]=o,e=0!==(1&t.mode),n){case"dialog":Ur("cancel",r),Ur("close",r);break;case"iframe":case"object":case"embed":Ur("load",r);break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],r);break;case"source":Ur("error",r);break;case"img":case"image":case"link":Ur("error",r),Ur("load",r);break;case"details":Ur("toggle",r);break;case"input":Y(r,o),Ur("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Ur("invalid",r);break;case"textarea":ie(r,o),Ur("invalid",r)}for(var s in ge(n,o),i=null,o)if(o.hasOwnProperty(s)){var c=o[s];"children"===s?"string"===typeof c?r.textContent!==c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&Xr(r.textContent,c,e),i=["children",""+c]):u.hasOwnProperty(s)&&null!=c&&"onScroll"===s&&Ur("scroll",r)}switch(n){case"input":G(r),Z(r,o,!0);break;case"textarea":G(r),oe(r);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{s=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ue(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=s.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),"select"===n&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[hi]=t,e[di]=r,su(e,t),t.stateNode=e;e:{switch(s=ke(n,r),n){case"dialog":Ur("cancel",e),Ur("close",e),i=r;break;case"iframe":case"object":case"embed":Ur("load",e),i=r;break;case"video":case"audio":for(i=0;i<Lr.length;i++)Ur(Lr[i],e);i=r;break;case"source":Ur("error",e),i=r;break;case"img":case"image":case"link":Ur("error",e),Ur("load",e),i=r;break;case"details":Ur("toggle",e),i=r;break;case"input":Y(e,r),i=$(e,r),Ur("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Ur("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Ur("invalid",e)}for(o in ge(n,i),c=i)if(c.hasOwnProperty(o)){var l=c[o];"style"===o?me(e,l):"dangerouslySetInnerHTML"===o?null!=(l=l?l.__html:void 0)&&fe(e,l):"children"===o?"string"===typeof l?("textarea"!==n||""!==l)&&he(e,l):"number"===typeof l&&he(e,""+l):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(u.hasOwnProperty(o)?null!=l&&"onScroll"===o&&Ur("scroll",e):null!=l&&k(e,o,l,s))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),oe(e);break;case"option":null!=r.value&&e.setAttribute("value",""+W(r.value));break;case"select":e.multiple=!!r.multiple,null!=(o=r.value)?ne(e,!!r.multiple,o,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return gu(t),null;case 6:if(e&&null!=t.stateNode)lu(0,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(a(166));if(n=Xa(Ja.current),Xa($a.current),Ua(t)){if(r=t.stateNode,n=t.memoizedProps,r[hi]=t,(o=r.nodeValue!==n)&&null!==(e=Aa))switch(e.tag){case 3:Xr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Xr(r.nodeValue,n,0!==(1&e.mode))}o&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[hi]=t,t.stateNode=r}return gu(t),null;case 13:if(Si(ro),r=t.memoizedState,Ra&&null!==Pa&&0!==(1&t.mode)&&0===(128&t.flags)){for(r=Pa;r;)r=ci(r.nextSibling);return Va(),t.flags|=98560,t}if(null!==r&&null!==r.dehydrated){if(r=Ua(t),null===e){if(!r)throw Error(a(318));if(!(r=null!==(r=t.memoizedState)?r.dehydrated:null))throw Error(a(317));r[hi]=t}else Va(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;return gu(t),null}return null!==Oa&&(ac(Oa),Oa=null),0!==(128&t.flags)?(t.lanes=n,t):(r=null!==r,n=!1,null===e?Ua(t):n=null!==e.memoizedState,r!==n&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&ro.current)?0===Ps&&(Ps=3):pc())),null!==t.updateQueue&&(t.flags|=4),gu(t),null);case 4:return eo(),null===e&&Br(t.stateNode.containerInfo),gu(t),null;case 10:return Yi(t.type._context),gu(t),null;case 19:if(Si(ro),null===(o=t.memoizedState))return gu(t),null;if(r=0!==(128&t.flags),null===(s=o.rendering))if(r)yu(o,!1);else{if(0!==Ps||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(s=io(e))){for(t.flags|=128,yu(o,!1),null!==(r=s.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(o=n).flags&=14680066,null===(s=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,e=s.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ei(ro,1&ro.current|2),t.child}e=e.sibling}null!==o.tail&&Je()>Us&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=io(s))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),yu(o,!0),null===o.tail&&"hidden"===o.tailMode&&!s.alternate&&!Ra)return gu(t),null}else 2*Je()-o.renderingStartTime>Us&&1073741824!==n&&(t.flags|=128,r=!0,yu(o,!1),t.lanes=4194304);o.isBackwards?(s.sibling=t.child,t.child=s):(null!==(n=o.last)?n.sibling=s:t.child=s,o.last=s)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Je(),t.sibling=null,n=ro.current,Ei(ro,r?1&n|2:1&n),t):(gu(t),null);case 22:case 23:return lc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Ns)&&(gu(t),6&t.subtreeFlags&&(t.flags|=8192)):gu(t),null;case 24:case 25:return null}throw Error(a(156,t.tag))}su=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},cu=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xa($a.current);var a,o=null;switch(n){case"input":i=$(e,i),r=$(e,r),o=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),o=[];break;case"textarea":i=re(e,i),r=re(e,r),o=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(l in ge(n,r),n=null,i)if(!r.hasOwnProperty(l)&&i.hasOwnProperty(l)&&null!=i[l])if("style"===l){var s=i[l];for(a in s)s.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==l&&"children"!==l&&"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&"autoFocus"!==l&&(u.hasOwnProperty(l)?o||(o=[]):(o=o||[]).push(l,null));for(l in r){var c=r[l];if(s=null!=i?i[l]:void 0,r.hasOwnProperty(l)&&c!==s&&(null!=c||null!=s))if("style"===l)if(s){for(a in s)!s.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in c)c.hasOwnProperty(a)&&s[a]!==c[a]&&(n||(n={}),n[a]=c[a])}else n||(o||(o=[]),o.push(l,n)),n=c;else"dangerouslySetInnerHTML"===l?(c=c?c.__html:void 0,s=s?s.__html:void 0,null!=c&&s!==c&&(o=o||[]).push(l,c)):"children"===l?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(l,""+c):"suppressContentEditableWarning"!==l&&"suppressHydrationWarning"!==l&&(u.hasOwnProperty(l)?(null!=c&&"onScroll"===l&&Ur("scroll",e),o||s===c||(o=[])):(o=o||[]).push(l,c))}n&&(o=o||[]).push("style",n);var l=o;(t.updateQueue=l)&&(t.flags|=4)}},lu=function(e,t,n,r){n!==r&&(t.flags|=4)};var wu=w.ReactCurrentOwner,bu=!1;function xu(e,t,n,r){t.child=null===e?Ha(t,null,n,r):Ga(t,e.child,n,r)}function _u(e,t,n,r,i){n=n.render;var a=t.ref;return Xi(t,i),r=wo(e,t,n,r,a,i),n=bo(),null===e||bu?(Ra&&n&&Ca(t),t.flags|=1,xu(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Iu(e,t,n,r,i){if(null===e){var a=n.type;return"function"!==typeof a||Pc(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Oc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=a,Su(e,t,a,r,i))}if(a=e.child,0===(e.lanes&i)){var o=a.memoizedProps;if((n=null!==(n=n.compare)?n:sr)(o,r)&&e.ref===t.ref)return Wu(e,t,i)}return t.flags|=1,(e=Rc(a,r)).ref=t.ref,e.return=t,t.child=e}function Su(e,t,n,r,i){if(null!==e){var a=e.memoizedProps;if(sr(a,r)&&e.ref===t.ref){if(bu=!1,t.pendingProps=r=a,0===(e.lanes&i))return t.lanes=e.lanes,Wu(e,t,i);0!==(131072&e.flags)&&(bu=!0)}}return Cu(e,t,n,r,i)}function Eu(e,t,n){var r=t.pendingProps,i=r.children,a=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ei(As,Ns),Ns|=n;else{if(0===(1073741824&n))return e=null!==a?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ei(As,Ns),Ns|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==a?a.baseLanes:n,Ei(As,Ns),Ns|=r}else null!==a?(r=a.baseLanes|n,t.memoizedState=null):r=n,Ei(As,Ns),Ns|=r;return xu(e,t,i,n),t.child}function Tu(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Cu(e,t,n,r,i){var a=Ri(n)?Ai:Ci.current;return a=Pi(t,a),Xi(t,i),n=wo(e,t,n,r,a,i),r=bo(),null===e||bu?(Ra&&r&&Ca(t),t.flags|=1,xu(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,Wu(e,t,i))}function Nu(e,t,n,r,i){if(Ri(n)){var a=!0;Mi(t)}else a=!1;if(Xi(t,i),null===t.stateNode)null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),pa(t,n,r),ma(t,n,r,i),r=!0;else if(null===e){var o=t.stateNode,u=t.memoizedProps;o.props=u;var s=o.context,c=n.contextType;"object"===typeof c&&null!==c?c=Zi(c):c=Pi(t,c=Ri(n)?Ai:Ci.current);var l=n.getDerivedStateFromProps,f="function"===typeof l||"function"===typeof o.getSnapshotBeforeUpdate;f||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==r||s!==c)&&va(t,o,r,c),ta=!1;var h=t.memoizedState;o.state=h,sa(t,r,o,i),s=t.memoizedState,u!==r||h!==s||Ni.current||ta?("function"===typeof l&&(fa(t,n,l,r),s=t.memoizedState),(u=ta||da(t,n,u,r,h,s,c))?(f||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=s),o.props=r,o.state=s,o.context=c,r=u):("function"===typeof o.componentDidMount&&(t.flags|=4194308),r=!1)}else{o=t.stateNode,ra(e,t),u=t.memoizedProps,c=t.type===t.elementType?u:Wi(t.type,u),o.props=c,f=t.pendingProps,h=o.context,"object"===typeof(s=n.contextType)&&null!==s?s=Zi(s):s=Pi(t,s=Ri(n)?Ai:Ci.current);var d=n.getDerivedStateFromProps;(l="function"===typeof d||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(u!==f||h!==s)&&va(t,o,r,s),ta=!1,h=t.memoizedState,o.state=h,sa(t,r,o,i);var p=t.memoizedState;u!==f||h!==p||Ni.current||ta?("function"===typeof d&&(fa(t,n,d,r),p=t.memoizedState),(c=ta||da(t,n,c,r,h,p,s)||!1)?(l||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(r,p,s),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(r,p,s)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),o.props=r,o.state=p,o.context=s,r=c):("function"!==typeof o.componentDidUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||u===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return Au(e,t,n,r,a,i)}function Au(e,t,n,r,i,a){Tu(e,t);var o=0!==(128&t.flags);if(!r&&!o)return i&&Fi(t,n,!1),Wu(e,t,a);r=t.stateNode,wu.current=t;var u=o&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&o?(t.child=Ga(t,e.child,null,a),t.child=Ga(t,null,u,a)):xu(e,t,u,a),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Pu(e){var t=e.stateNode;t.pendingContext?Di(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Di(0,t.context,!1),Za(e,t.containerInfo)}function Ru(e,t,n,r,i){return Va(),za(i),t.flags|=256,xu(e,t,n,r),t.child}var Ou={dehydrated:null,treeContext:null,retryLane:0};function Du(e){return{baseLanes:e,cachePool:null,transitions:null}}function Lu(e,t){return{baseLanes:e.baseLanes|t,cachePool:null,transitions:e.transitions}}function Mu(e,t,n){var r,i=t.pendingProps,o=ro.current,u=!1,s=0!==(128&t.flags);if((r=s)||(r=(null===e||null!==e.memoizedState)&&0!==(2&o)),r?(u=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Ei(ro,1&o),null===e)return Fa(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=i.children,e=i.fallback,u?(i=t.mode,u=t.child,o={mode:"hidden",children:o},0===(1&i)&&null!==u?(u.childLanes=0,u.pendingProps=o):u=Lc(o,i,0,null),e=Dc(e,i,n,null),u.return=t,e.return=t,u.sibling=e,t.child=u,t.child.memoizedState=Du(n),t.memoizedState=Ou,e):Fu(t,o));if(null!==(o=e.memoizedState)){if(null!==(r=o.dehydrated)){if(s)return 256&t.flags?(t.flags&=-257,Vu(e,t,n,Error(a(422)))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(u=i.fallback,o=t.mode,i=Lc({mode:"visible",children:i.children},o,0,null),(u=Dc(u,o,n,null)).flags|=2,i.return=t,u.return=t,i.sibling=u,t.child=i,0!==(1&t.mode)&&Ga(t,e.child,null,n),t.child.memoizedState=Du(n),t.memoizedState=Ou,u);if(0===(1&t.mode))t=Vu(e,t,n,null);else if("$!"===r.data)t=Vu(e,t,n,Error(a(419)));else if(i=0!==(n&e.childLanes),bu||i){if(null!==(i=Es)){switch(n&-n){case 4:u=2;break;case 16:u=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:u=32;break;case 536870912:u=268435456;break;default:u=0}0!==(i=0!==(u&(i.suspendedLanes|n))?0:u)&&i!==o.retryLane&&(o.retryLane=i,Zs(e,i,-1))}pc(),t=Vu(e,t,n,Error(a(421)))}else"$?"===r.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),r._reactRetry=t,t=null):(n=o.treeContext,Pa=ci(r.nextSibling),Aa=t,Ra=!0,Oa=null,null!==n&&(ba[xa++]=Ia,ba[xa++]=Sa,ba[xa++]=_a,Ia=n.id,Sa=n.overflow,_a=t),(t=Fu(t,t.pendingProps.children)).flags|=4096);return t}return u?(i=Uu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Du(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Ou,i):(n=ju(e,t,i.children,n),t.memoizedState=null,n)}return u?(i=Uu(e,t,i.children,i.fallback,n),u=t.child,o=e.child.memoizedState,u.memoizedState=null===o?Du(n):Lu(o,n),u.childLanes=e.childLanes&~n,t.memoizedState=Ou,i):(n=ju(e,t,i.children,n),t.memoizedState=null,n)}function Fu(e,t){return(t=Lc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function ju(e,t,n,r){var i=e.child;return e=i.sibling,n=Rc(i,{mode:"visible",children:n}),0===(1&t.mode)&&(n.lanes=r),n.return=t,n.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=n}function Uu(e,t,n,r,i){var a=t.mode,o=(e=e.child).sibling,u={mode:"hidden",children:n};return 0===(1&a)&&t.child!==e?((n=t.child).childLanes=0,n.pendingProps=u,t.deletions=null):(n=Rc(e,u)).subtreeFlags=14680064&e.subtreeFlags,null!==o?r=Rc(o,r):(r=Dc(r,a,i,null)).flags|=2,r.return=t,n.return=t,n.sibling=r,t.child=n,r}function Vu(e,t,n,r){return null!==r&&za(r),Ga(t,e.child,null,n),(e=Fu(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function zu(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ji(e.return,t,n)}function Bu(e,t,n,r,i){var a=e.memoizedState;null===a?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function qu(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(xu(e,t,r.children,n),0!==(2&(r=ro.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&zu(e,n,t);else if(19===e.tag)zu(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Ei(ro,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===io(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Bu(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===io(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Bu(t,!0,n,null,a);break;case"together":Bu(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Wu(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Os|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(a(153));if(null!==t.child){for(n=Rc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Rc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Ku(e,t){switch(Na(t),t.tag){case 1:return Ri(t.type)&&Oi(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return eo(),Si(Ni),Si(Ci),oo(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return no(t),null;case 13:if(Si(ro),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(a(340));Va()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Si(ro),null;case 4:return eo(),null;case 10:return Yi(t.type._context),null;case 22:case 23:return lc(),null;default:return null}}var Gu=!1,Hu=!1,Qu="function"===typeof WeakSet?WeakSet:Set,$u=null;function Yu(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){_c(e,t,r)}else n.current=null}function Ju(e,t,n){try{n()}catch(r){_c(e,t,r)}}var Xu=!1;function Zu(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,void 0!==a&&Ju(t,n,a)}i=i.next}while(i!==r)}}function es(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ts(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ns(e){var t=e.alternate;null!==t&&(e.alternate=null,ns(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[hi],delete t[di],delete t[vi],delete t[mi],delete t[yi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function rs(e){return 5===e.tag||3===e.tag||4===e.tag}function is(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||rs(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function as(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(as(e,t,n),e=e.sibling;null!==e;)as(e,t,n),e=e.sibling}function os(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(os(e,t,n),e=e.sibling;null!==e;)os(e,t,n),e=e.sibling}var us=null,ss=!1;function cs(e,t,n){for(n=n.child;null!==n;)ls(e,t,n),n=n.sibling}function ls(e,t,n){if(at&&"function"===typeof at.onCommitFiberUnmount)try{at.onCommitFiberUnmount(it,n)}catch(u){}switch(n.tag){case 5:Hu||Yu(n,t);case 6:var r=us,i=ss;us=null,cs(e,t,n),ss=i,null!==(us=r)&&(ss?(e=us,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):us.removeChild(n.stateNode));break;case 18:null!==us&&(ss?(e=us,n=n.stateNode,8===e.nodeType?si(e.parentNode,n):1===e.nodeType&&si(e,n),Bt(e)):si(us,n.stateNode));break;case 4:r=us,i=ss,us=n.stateNode.containerInfo,ss=!0,cs(e,t,n),us=r,ss=i;break;case 0:case 11:case 14:case 15:if(!Hu&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var a=i,o=a.destroy;a=a.tag,void 0!==o&&(0!==(2&a)||0!==(4&a))&&Ju(n,t,o),i=i.next}while(i!==r)}cs(e,t,n);break;case 1:if(!Hu&&(Yu(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){_c(n,t,u)}cs(e,t,n);break;case 21:cs(e,t,n);break;case 22:1&n.mode?(Hu=(r=Hu)||null!==n.memoizedState,cs(e,t,n),Hu=r):cs(e,t,n);break;default:cs(e,t,n)}}function fs(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Qu),t.forEach((function(t){var r=Tc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function hs(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var o=e,u=t,s=u;e:for(;null!==s;){switch(s.tag){case 5:us=s.stateNode,ss=!1;break e;case 3:case 4:us=s.stateNode.containerInfo,ss=!0;break e}s=s.return}if(null===us)throw Error(a(160));ls(o,u,i),us=null,ss=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(l){_c(i,t,l)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)ds(t,e),t=t.sibling}function ds(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hs(t,e),ps(e),4&r){try{Zu(3,e,e.return),es(3,e)}catch(v){_c(e,e.return,v)}try{Zu(5,e,e.return)}catch(v){_c(e,e.return,v)}}break;case 1:hs(t,e),ps(e),512&r&&null!==n&&Yu(n,n.return);break;case 5:if(hs(t,e),ps(e),512&r&&null!==n&&Yu(n,n.return),32&e.flags){var i=e.stateNode;try{he(i,"")}catch(v){_c(e,e.return,v)}}if(4&r&&null!=(i=e.stateNode)){var o=e.memoizedProps,u=null!==n?n.memoizedProps:o,s=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===s&&"radio"===o.type&&null!=o.name&&J(i,o),ke(s,u);var l=ke(s,o);for(u=0;u<c.length;u+=2){var f=c[u],h=c[u+1];"style"===f?me(i,h):"dangerouslySetInnerHTML"===f?fe(i,h):"children"===f?he(i,h):k(i,f,h,l)}switch(s){case"input":X(i,o);break;case"textarea":ae(i,o);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?ne(i,!!o.multiple,p,!1):d!==!!o.multiple&&(null!=o.defaultValue?ne(i,!!o.multiple,o.defaultValue,!0):ne(i,!!o.multiple,o.multiple?[]:"",!1))}i[di]=o}catch(v){_c(e,e.return,v)}}break;case 6:if(hs(t,e),ps(e),4&r){if(null===e.stateNode)throw Error(a(162));l=e.stateNode,f=e.memoizedProps;try{l.nodeValue=f}catch(v){_c(e,e.return,v)}}break;case 3:if(hs(t,e),ps(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Bt(t.containerInfo)}catch(v){_c(e,e.return,v)}break;case 4:default:hs(t,e),ps(e);break;case 13:hs(t,e),ps(e),8192&(l=e.child).flags&&null!==l.memoizedState&&(null===l.alternate||null===l.alternate.memoizedState)&&(js=Je()),4&r&&fs(e);break;case 22:if(l=null!==n&&null!==n.memoizedState,1&e.mode?(Hu=(f=Hu)||l,hs(t,e),Hu=f):hs(t,e),ps(e),8192&r){f=null!==e.memoizedState;e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,f?"function"===typeof(o=i.style).setProperty?o.setProperty("display","none","important"):o.display="none":(s=d.stateNode,u=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,s.style.display=ve("display",u))}catch(v){_c(e,e.return,v)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=f?"":d.memoizedProps}catch(v){_c(e,e.return,v)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}if(f&&!l&&0!==(1&e.mode))for($u=e,e=e.child;null!==e;){for(l=$u=e;null!==$u;){switch(h=(f=$u).child,f.tag){case 0:case 11:case 14:case 15:Zu(4,f,f.return);break;case 1:if(Yu(f,f.return),"function"===typeof(o=f.stateNode).componentWillUnmount){d=f,p=f.return;try{i=d,o.props=i.memoizedProps,o.state=i.memoizedState,o.componentWillUnmount()}catch(v){_c(d,p,v)}}break;case 5:Yu(f,f.return);break;case 22:if(null!==f.memoizedState){gs(l);continue}}null!==h?(h.return=f,$u=h):gs(l)}e=e.sibling}}break;case 19:hs(t,e),ps(e),4&r&&fs(e);case 21:}}function ps(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(rs(n)){var r=n;break e}n=n.return}throw Error(a(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(he(i,""),r.flags&=-33),os(e,is(e),i);break;case 3:case 4:var o=r.stateNode.containerInfo;as(e,is(e),o);break;default:throw Error(a(161))}}catch(u){_c(e,e.return,u)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vs(e,t,n){$u=e,ms(e,t,n)}function ms(e,t,n){for(var r=0!==(1&e.mode);null!==$u;){var i=$u,a=i.child;if(22===i.tag&&r){var o=null!==i.memoizedState||Gu;if(!o){var u=i.alternate,s=null!==u&&null!==u.memoizedState||Hu;u=Gu;var c=Hu;if(Gu=o,(Hu=s)&&!c)for($u=i;null!==$u;)s=(o=$u).child,22===o.tag&&null!==o.memoizedState?ks(i):null!==s?(s.return=o,$u=s):ks(i);for(;null!==a;)$u=a,ms(a,t,n),a=a.sibling;$u=i,Gu=u,Hu=c}ys(e)}else 0!==(8772&i.subtreeFlags)&&null!==a?(a.return=i,$u=a):ys(e)}}function ys(e){for(;null!==$u;){var t=$u;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Hu||es(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Hu)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Wi(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&ca(t,o,r);break;case 3:var u=t.updateQueue;if(null!==u){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}ca(t,u,n)}break;case 5:var s=t.stateNode;if(null===n&&4&t.flags){n=s;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:break;case 13:if(null===t.memoizedState){var l=t.alternate;if(null!==l){var f=l.memoizedState;if(null!==f){var h=f.dehydrated;null!==h&&Bt(h)}}}break;default:throw Error(a(163))}Hu||512&t.flags&&ts(t)}catch(d){_c(t,t.return,d)}}if(t===e){$u=null;break}if(null!==(n=t.sibling)){n.return=t.return,$u=n;break}$u=t.return}}function gs(e){for(;null!==$u;){var t=$u;if(t===e){$u=null;break}var n=t.sibling;if(null!==n){n.return=t.return,$u=n;break}$u=t.return}}function ks(e){for(;null!==$u;){var t=$u;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{es(4,t)}catch(s){_c(t,n,s)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(s){_c(t,i,s)}}var a=t.return;try{ts(t)}catch(s){_c(t,a,s)}break;case 5:var o=t.return;try{ts(t)}catch(s){_c(t,o,s)}}}catch(s){_c(t,t.return,s)}if(t===e){$u=null;break}var u=t.sibling;if(null!==u){u.return=t.return,$u=u;break}$u=t.return}}var ws,bs=Math.ceil,xs=w.ReactCurrentDispatcher,_s=w.ReactCurrentOwner,Is=w.ReactCurrentBatchConfig,Ss=0,Es=null,Ts=null,Cs=0,Ns=0,As=Ii(0),Ps=0,Rs=null,Os=0,Ds=0,Ls=0,Ms=null,Fs=null,js=0,Us=1/0,Vs=null,zs=!1,Bs=null,qs=null,Ws=!1,Ks=null,Gs=0,Hs=0,Qs=null,$s=-1,Ys=0;function Js(){return 0!==(6&Ss)?Je():-1!==$s?$s:$s=Je()}function Xs(e){return 0===(1&e.mode)?1:0!==(2&Ss)&&0!==Cs?Cs&-Cs:null!==qi.transition?(0===Ys&&(Ys=vt()),Ys):0!==(e=kt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function Zs(e,t,n){if(50<Hs)throw Hs=0,Qs=null,Error(a(185));var r=ec(e,t);return null===r?null:(yt(r,t,n),0!==(2&Ss)&&r===Es||(r===Es&&(0===(2&Ss)&&(Ds|=t),4===Ps&&oc(r,Cs)),nc(r,n),1===t&&0===Ss&&0===(1&e.mode)&&(Us=Je()+500,Ui&&Bi())),r)}function ec(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}function tc(e){return(null!==Es||null!==ea)&&0!==(1&e.mode)&&0===(2&Ss)}function nc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var o=31-ot(a),u=1<<o,s=i[o];-1===s?0!==(u&n)&&0===(u&r)||(i[o]=dt(u,t)):s<=t&&(e.expiredLanes|=u),a&=~u}}(e,t);var r=ht(e,e===Es?Cs:0);if(0===r)null!==n&&Qe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Qe(n),1===t)0===e.tag?function(e){Ui=!0,zi(e)}(uc.bind(null,e)):zi(uc.bind(null,e)),oi((function(){0===Ss&&Bi()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Cc(n,rc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function rc(e,t){if($s=-1,Ys=0,0!==(6&Ss))throw Error(a(327));var n=e.callbackNode;if(bc()&&e.callbackNode!==n)return null;var r=ht(e,e===Es?Cs:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Ss;Ss|=2;var o=dc();for(Es===e&&Cs===t||(Vs=null,Us=Je()+500,fc(e,t));;)try{yc();break}catch(s){hc(e,s)}$i(),xs.current=o,Ss=i,null!==Ts?t=0:(Es=null,Cs=0,t=Ps)}if(0!==t){if(2===t&&(0!==(i=pt(e))&&(r=i,t=ic(e,i))),1===t)throw n=Rs,fc(e,0),oc(e,r),nc(e,Je()),n;if(6===t)oc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!ur(a(),i))return!1}catch(u){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(o=pt(e))&&(r=o,t=ic(e,o))),1===t))throw n=Rs,fc(e,0),oc(e,r),nc(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(a(345));case 2:case 5:wc(e,Fs,Vs);break;case 3:if(oc(e,r),(130023424&r)===r&&10<(t=js+500-Je())){if(0!==ht(e,0))break;if(((i=e.suspendedLanes)&r)!==r){Js(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(wc.bind(null,e,Fs,Vs),t);break}wc(e,Fs,Vs);break;case 4:if(oc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var u=31-ot(r);o=1<<u,(u=t[u])>i&&(i=u),r&=~o}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*bs(r/1960))-r)){e.timeoutHandle=ri(wc.bind(null,e,Fs,Vs),r);break}wc(e,Fs,Vs);break;default:throw Error(a(329))}}}return nc(e,Je()),e.callbackNode===n?rc.bind(null,e):null}function ic(e,t){var n=Ms;return e.current.memoizedState.isDehydrated&&(fc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Fs,Fs=n,null!==t&&ac(t)),e}function ac(e){null===Fs?Fs=e:Fs.push.apply(Fs,e)}function oc(e,t){for(t&=~Ls,t&=~Ds,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-ot(t),r=1<<n;e[n]=-1,t&=~r}}function uc(e){if(0!==(6&Ss))throw Error(a(327));bc();var t=ht(e,0);if(0===(1&t))return nc(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=pt(e);0!==r&&(t=r,n=ic(e,r))}if(1===n)throw n=Rs,fc(e,0),oc(e,t),nc(e,Je()),n;if(6===n)throw Error(a(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Fs,Vs),nc(e,Je()),null}function sc(e,t){var n=Ss;Ss|=1;try{return e(t)}finally{0===(Ss=n)&&(Us=Je()+500,Ui&&Bi())}}function cc(e){null!==Ks&&0===Ks.tag&&0===(6&Ss)&&bc();var t=Ss;Ss|=1;var n=Is.transition,r=kt;try{if(Is.transition=null,kt=1,e)return e()}finally{kt=r,Is.transition=n,0===(6&(Ss=t))&&Bi()}}function lc(){Ns=As.current,Si(As)}function fc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ts)for(n=Ts.return;null!==n;){var r=n;switch(Na(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Oi();break;case 3:eo(),Si(Ni),Si(Ci),oo();break;case 5:no(r);break;case 4:eo();break;case 13:case 19:Si(ro);break;case 10:Yi(r.type._context);break;case 22:case 23:lc()}n=n.return}if(Es=e,Ts=e=Rc(e.current,null),Cs=Ns=t,Ps=0,Rs=null,Ls=Ds=Os=0,Fs=Ms=null,null!==ea){for(t=0;t<ea.length;t++)if(null!==(r=(n=ea[t]).interleaved)){n.interleaved=null;var i=r.next,a=n.pending;if(null!==a){var o=a.next;a.next=i,r.next=o}n.pending=r}ea=null}return e}function hc(e,t){for(;;){var n=Ts;try{if($i(),uo.current=nu,po){for(var r=lo.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}po=!1}if(co=0,ho=fo=lo=null,vo=!1,mo=0,_s.current=null,null===n||null===n.return){Ps=1,Rs=t,Ts=null;break}e:{var o=e,u=n.return,s=n,c=t;if(t=Cs,s.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var l=c,f=s,h=f.tag;if(0===(1&f.mode)&&(0===h||11===h||15===h)){var d=f.alternate;d?(f.updateQueue=d.updateQueue,f.memoizedState=d.memoizedState,f.lanes=d.lanes):(f.updateQueue=null,f.memoizedState=null)}var p=vu(u);if(null!==p){p.flags&=-257,mu(p,u,s,0,t),1&p.mode&&pu(o,l,t),c=l;var v=(t=p).updateQueue;if(null===v){var m=new Set;m.add(c),t.updateQueue=m}else v.add(c);break e}if(0===(1&t)){pu(o,l,t),pc();break e}c=Error(a(426))}else if(Ra&&1&s.mode){var y=vu(u);if(null!==y){0===(65536&y.flags)&&(y.flags|=256),mu(y,u,s,0,t),za(c);break e}}o=c,4!==Ps&&(Ps=2),null===Ms?Ms=[o]:Ms.push(o),c=ou(c,s),s=u;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t,ua(s,hu(0,c,t));break e;case 1:o=c;var g=s.type,k=s.stateNode;if(0===(128&s.flags)&&("function"===typeof g.getDerivedStateFromError||null!==k&&"function"===typeof k.componentDidCatch&&(null===qs||!qs.has(k)))){s.flags|=65536,t&=-t,s.lanes|=t,ua(s,du(s,o,t));break e}}s=s.return}while(null!==s)}kc(n)}catch(w){t=w,Ts===n&&null!==n&&(Ts=n=n.return);continue}break}}function dc(){var e=xs.current;return xs.current=nu,null===e?nu:e}function pc(){0!==Ps&&3!==Ps&&2!==Ps||(Ps=4),null===Es||0===(268435455&Os)&&0===(268435455&Ds)||oc(Es,Cs)}function vc(e,t){var n=Ss;Ss|=2;var r=dc();for(Es===e&&Cs===t||(Vs=null,fc(e,t));;)try{mc();break}catch(i){hc(e,i)}if($i(),Ss=n,xs.current=r,null!==Ts)throw Error(a(261));return Es=null,Cs=0,Ps}function mc(){for(;null!==Ts;)gc(Ts)}function yc(){for(;null!==Ts&&!$e();)gc(Ts)}function gc(e){var t=ws(e.alternate,e,Ns);e.memoizedProps=e.pendingProps,null===t?kc(e):Ts=t,_s.current=null}function kc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=ku(n,t,Ns)))return void(Ts=n)}else{if(null!==(n=Ku(n,t)))return n.flags&=32767,void(Ts=n);if(null===e)return Ps=6,void(Ts=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ts=t);Ts=t=e}while(null!==t);0===Ps&&(Ps=5)}function wc(e,t,n){var r=kt,i=Is.transition;try{Is.transition=null,kt=1,function(e,t,n,r){do{bc()}while(null!==Ks);if(0!==(6&Ss))throw Error(a(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(a(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-ot(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}(e,o),e===Es&&(Ts=Es=null,Cs=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ws||(Ws=!0,Cc(tt,(function(){return bc(),null}))),o=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||o){o=Is.transition,Is.transition=null;var u=kt;kt=1;var s=Ss;Ss|=4,_s.current=null,function(e,t){if(ei=Wt,dr(e=hr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch(x){n=null;break e}var u=0,s=-1,c=-1,l=0,f=0,h=e,d=null;t:for(;;){for(var p;h!==n||0!==i&&3!==h.nodeType||(s=u+i),h!==o||0!==r&&3!==h.nodeType||(c=u+r),3===h.nodeType&&(u+=h.nodeValue.length),null!==(p=h.firstChild);)d=h,h=p;for(;;){if(h===e)break t;if(d===n&&++l===i&&(s=u),d===o&&++f===r&&(c=u),null!==(p=h.nextSibling))break;d=(h=d).parentNode}h=p}n=-1===s||-1===c?null:{start:s,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Wt=!1,$u=t;null!==$u;)if(e=(t=$u).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,$u=e;else for(;null!==$u;){t=$u;try{var v=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==v){var m=v.memoizedProps,y=v.memoizedState,g=t.stateNode,k=g.getSnapshotBeforeUpdate(t.elementType===t.type?m:Wi(t.type,m),y);g.__reactInternalSnapshotBeforeUpdate=k}break;case 3:var w=t.stateNode.containerInfo;if(1===w.nodeType)w.textContent="";else if(9===w.nodeType){var b=w.body;null!=b&&(b.textContent="")}break;default:throw Error(a(163))}}catch(x){_c(t,t.return,x)}if(null!==(e=t.sibling)){e.return=t.return,$u=e;break}$u=t.return}v=Xu,Xu=!1}(e,n),ds(n,e),pr(ti),Wt=!!ei,ti=ei=null,e.current=n,vs(n,e,i),Ye(),Ss=s,kt=u,Is.transition=o}else e.current=n;if(Ws&&(Ws=!1,Ks=e,Gs=i),0===(o=e.pendingLanes)&&(qs=null),function(e){if(at&&"function"===typeof at.onCommitFiberRoot)try{at.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),nc(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)r(t[n]);if(zs)throw zs=!1,e=Bs,Bs=null,e;0!==(1&Gs)&&0!==e.tag&&bc(),0!==(1&(o=e.pendingLanes))?e===Qs?Hs++:(Hs=0,Qs=e):Hs=0,Bi()}(e,t,n,r)}finally{Is.transition=i,kt=r}return null}function bc(){if(null!==Ks){var e=wt(Gs),t=Is.transition,n=kt;try{if(Is.transition=null,kt=16>e?16:e,null===Ks)var r=!1;else{if(e=Ks,Ks=null,Gs=0,0!==(6&Ss))throw Error(a(331));var i=Ss;for(Ss|=4,$u=e.current;null!==$u;){var o=$u,u=o.child;if(0!==(16&$u.flags)){var s=o.deletions;if(null!==s){for(var c=0;c<s.length;c++){var l=s[c];for($u=l;null!==$u;){var f=$u;switch(f.tag){case 0:case 11:case 15:Zu(8,f,o)}var h=f.child;if(null!==h)h.return=f,$u=h;else for(;null!==$u;){var d=(f=$u).sibling,p=f.return;if(ns(f),f===l){$u=null;break}if(null!==d){d.return=p,$u=d;break}$u=p}}}var v=o.alternate;if(null!==v){var m=v.child;if(null!==m){v.child=null;do{var y=m.sibling;m.sibling=null,m=y}while(null!==m)}}$u=o}}if(0!==(2064&o.subtreeFlags)&&null!==u)u.return=o,$u=u;else e:for(;null!==$u;){if(0!==(2048&(o=$u).flags))switch(o.tag){case 0:case 11:case 15:Zu(9,o,o.return)}var g=o.sibling;if(null!==g){g.return=o.return,$u=g;break e}$u=o.return}}var k=e.current;for($u=k;null!==$u;){var w=(u=$u).child;if(0!==(2064&u.subtreeFlags)&&null!==w)w.return=u,$u=w;else e:for(u=k;null!==$u;){if(0!==(2048&(s=$u).flags))try{switch(s.tag){case 0:case 11:case 15:es(9,s)}}catch(x){_c(s,s.return,x)}if(s===u){$u=null;break e}var b=s.sibling;if(null!==b){b.return=s.return,$u=b;break e}$u=s.return}}if(Ss=i,Bi(),at&&"function"===typeof at.onPostCommitFiberRoot)try{at.onPostCommitFiberRoot(it,e)}catch(x){}r=!0}return r}finally{kt=n,Is.transition=t}}return!1}function xc(e,t,n){aa(e,t=hu(0,t=ou(n,t),1)),t=Js(),null!==(e=ec(e,1))&&(yt(e,1,t),nc(e,t))}function _c(e,t,n){if(3===e.tag)xc(e,e,n);else for(;null!==t;){if(3===t.tag){xc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r))){aa(t,e=du(t,e=ou(n,e),1)),e=Js(),null!==(t=ec(t,1))&&(yt(t,1,e),nc(t,e));break}}t=t.return}}function Ic(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=Js(),e.pingedLanes|=e.suspendedLanes&n,Es===e&&(Cs&n)===n&&(4===Ps||3===Ps&&(130023424&Cs)===Cs&&500>Je()-js?fc(e,0):Ls|=n),nc(e,t)}function Sc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=lt,0===(130023424&(lt<<=1))&&(lt=4194304)));var n=Js();null!==(e=ec(e,t))&&(yt(e,t,n),nc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Sc(e,n)}function Tc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(a(314))}null!==r&&r.delete(t),Sc(e,n)}function Cc(e,t){return He(e,t)}function Nc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ac(e,t,n,r){return new Nc(e,t,n,r)}function Pc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Rc(e,t){var n=e.alternate;return null===n?((n=Ac(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Oc(e,t,n,r,i,o){var u=2;if(r=e,"function"===typeof e)Pc(e)&&(u=1);else if("string"===typeof e)u=5;else e:switch(e){case _:return Dc(n.children,i,o,t);case I:u=8,i|=8;break;case S:return(e=Ac(12,n,t,2|i)).elementType=S,e.lanes=o,e;case N:return(e=Ac(13,n,t,i)).elementType=N,e.lanes=o,e;case A:return(e=Ac(19,n,t,i)).elementType=A,e.lanes=o,e;case O:return Lc(n,i,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case E:u=10;break e;case T:u=9;break e;case C:u=11;break e;case P:u=14;break e;case R:u=16,r=null;break e}throw Error(a(130,null==e?e:typeof e,""))}return(t=Ac(u,n,t,i)).elementType=e,t.type=r,t.lanes=o,t}function Dc(e,t,n,r){return(e=Ac(7,e,r,t)).lanes=n,e}function Lc(e,t,n,r){return(e=Ac(22,e,r,t)).elementType=O,e.lanes=n,e.stateNode={},e}function Mc(e,t,n){return(e=Ac(6,e,null,t)).lanes=n,e}function Fc(e,t,n){return(t=Ac(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function jc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,i,a,o,u,s){return e=new jc(e,t,n,u,s),1===t?(t=1,!0===a&&(t|=8)):t=0,a=Ac(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},na(a),e}function Vc(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}function zc(e){if(!e)return Ti;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(a(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ri(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(a(171))}if(1===e.tag){var n=e.type;if(Ri(n))return Li(e,n,t)}return t}function Bc(e,t,n,r,i,a,o,u,s){return(e=Uc(n,r,!0,e,0,a,0,u,s)).context=zc(null),n=e.current,(a=ia(r=Js(),i=Xs(n))).callback=void 0!==t&&null!==t?t:null,aa(n,a),e.current.lanes=i,yt(e,i,r),nc(e,r),e}function qc(e,t,n,r){var i=t.current,a=Js(),o=Xs(i);return n=zc(n),null===t.context?t.context=n:t.pendingContext=n,(t=ia(a,o)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),aa(i,t),null!==(e=Zs(i,o,a))&&oa(e,i,o),o}function Wc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Kc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Gc(e,t){Kc(e,t),(e=e.alternate)&&Kc(e,t)}ws=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ni.current)bu=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return bu=!1,function(e,t,n){switch(t.tag){case 3:Pu(t),Va();break;case 5:to(t);break;case 1:Ri(t.type)&&Mi(t);break;case 4:Za(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;Ei(Ki,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(Ei(ro,1&ro.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Mu(e,t,n):(Ei(ro,1&ro.current),null!==(e=Wu(e,t,n))?e.sibling:null);Ei(ro,1&ro.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return qu(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),Ei(ro,ro.current),r)break;return null;case 22:case 23:return t.lanes=0,Eu(e,t,n)}return Wu(e,t,n)}(e,t,n);bu=0!==(131072&e.flags)}else bu=!1,Ra&&0!==(1048576&t.flags)&&Ta(t,wa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps;var i=Pi(t,Ci.current);Xi(t,n),i=wo(null,t,r,e,i,n);var o=bo();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ri(r)?(o=!0,Mi(t)):o=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,na(t),i.updater=ha,t.stateNode=i,i._reactInternals=t,ma(t,r,e,n),t=Au(null,t,r,!0,o,n)):(t.tag=0,Ra&&o&&Ca(t),xu(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Pc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=Wi(r,e),i){case 0:t=Cu(null,t,r,e,n);break e;case 1:t=Nu(null,t,r,e,n);break e;case 11:t=_u(null,t,r,e,n);break e;case 14:t=Iu(null,t,r,Wi(r.type,e),n);break e}throw Error(a(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Cu(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 1:return r=t.type,i=t.pendingProps,Nu(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 3:e:{if(Pu(t),null===e)throw Error(a(387));r=t.pendingProps,i=(o=t.memoizedState).element,ra(e,t),sa(t,r,null,n);var u=t.memoizedState;if(r=u.element,o.isDehydrated){if(o={element:r,isDehydrated:!1,cache:u.cache,pendingSuspenseBoundaries:u.pendingSuspenseBoundaries,transitions:u.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Ru(e,t,r,n,i=Error(a(423)));break e}if(r!==i){t=Ru(e,t,r,n,i=Error(a(424)));break e}for(Pa=ci(t.stateNode.containerInfo.firstChild),Aa=t,Ra=!0,Oa=null,n=Ha(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(Va(),r===i){t=Wu(e,t,n);break e}xu(e,t,r,n)}t=t.child}return t;case 5:return to(t),null===e&&Fa(t),r=t.type,i=t.pendingProps,o=null!==e?e.memoizedProps:null,u=i.children,ni(r,i)?u=null:null!==o&&ni(r,o)&&(t.flags|=32),Tu(e,t),xu(e,t,u,n),t.child;case 6:return null===e&&Fa(t),null;case 13:return Mu(e,t,n);case 4:return Za(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=Ga(t,null,r,n):xu(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,_u(e,t,r,i=t.elementType===r?i:Wi(r,i),n);case 7:return xu(e,t,t.pendingProps,n),t.child;case 8:case 12:return xu(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,o=t.memoizedProps,u=i.value,Ei(Ki,r._currentValue),r._currentValue=u,null!==o)if(ur(o.value,u)){if(o.children===i.children&&!Ni.current){t=Wu(e,t,n);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var s=o.dependencies;if(null!==s){u=o.child;for(var c=s.firstContext;null!==c;){if(c.context===r){if(1===o.tag){(c=ia(-1,n&-n)).tag=2;var l=o.updateQueue;if(null!==l){var f=(l=l.shared).pending;null===f?c.next=c:(c.next=f.next,f.next=c),l.pending=c}}o.lanes|=n,null!==(c=o.alternate)&&(c.lanes|=n),Ji(o.return,n,t),s.lanes|=n;break}c=c.next}}else if(10===o.tag)u=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(u=o.return))throw Error(a(341));u.lanes|=n,null!==(s=u.alternate)&&(s.lanes|=n),Ji(u,n,t),u=o.sibling}else u=o.child;if(null!==u)u.return=o;else for(u=o;null!==u;){if(u===t){u=null;break}if(null!==(o=u.sibling)){o.return=u.return,u=o;break}u=u.return}o=u}xu(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Xi(t,n),r=r(i=Zi(i)),t.flags|=1,xu(e,t,r,n),t.child;case 14:return i=Wi(r=t.type,t.pendingProps),Iu(e,t,r,i=Wi(r.type,i),n);case 15:return Su(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Wi(r,i),null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2),t.tag=1,Ri(r)?(e=!0,Mi(t)):e=!1,Xi(t,n),pa(t,r,i),ma(t,r,i,n),Au(null,t,r,!0,e,n);case 19:return qu(e,t,n);case 22:return Eu(e,t,n)}throw Error(a(156,t.tag))};var Hc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function $c(e){this._internalRoot=e}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Xc(){}function Zc(e,t,n,r,i){var a=n._reactRootContainer;if(a){var o=a;if("function"===typeof i){var u=i;i=function(){var e=Wc(o);u.call(e)}}qc(t,o,e,i)}else o=function(e,t,n,r,i){if(i){if("function"===typeof r){var a=r;r=function(){var e=Wc(o);a.call(e)}}var o=Bc(t,r,e,0,null,!1,0,"",Xc);return e._reactRootContainer=o,e[pi]=o.current,Br(8===e.nodeType?e.parentNode:e),cc(),o}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var u=r;r=function(){var e=Wc(s);u.call(e)}}var s=Uc(e,0,!1,null,0,!1,0,"",Xc);return e._reactRootContainer=s,e[pi]=s.current,Br(8===e.nodeType?e.parentNode:e),cc((function(){qc(t,s,n,r)})),s}(n,t,e,i,r);return Wc(o)}$c.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(a(409));qc(e,t,null,null)},$c.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;cc((function(){qc(null,e,null,null)})),t[pi]=null}},$c.prototype.unstable_scheduleHydration=function(e){if(e){var t=It();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Ot.length&&0!==t&&t<Ot[n].priority;n++);Ot.splice(n,0,e),0===n&&Ft(e)}},bt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ft(t.pendingLanes);0!==n&&(gt(t,1|n),nc(t,Je()),0===(6&Ss)&&(Us=Je()+500,Bi()))}break;case 13:var r=Js();cc((function(){return Zs(e,1,r)})),Gc(e,1)}},xt=function(e){13===e.tag&&(Zs(e,134217728,Js()),Gc(e,134217728))},_t=function(e){if(13===e.tag){var t=Js(),n=Xs(e);Zs(e,n,t),Gc(e,n)}},It=function(){return kt},St=function(e,t){var n=kt;try{return kt=e,t()}finally{kt=n}},xe=function(e,t,n){switch(t){case"input":if(X(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=bi(r);if(!i)throw Error(a(90));H(r),X(r,i)}}}break;case"textarea":ae(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=sc,Ne=cc;var el={usingClientEntryPoint:!1,Events:[ki,wi,bi,Ee,Te,sc]},tl={findFiberByHostInstance:gi,bundleType:0,version:"18.1.0",rendererPackageName:"react-dom"},nl={bundleType:tl.bundleType,version:tl.version,rendererPackageName:tl.rendererPackageName,rendererConfig:tl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ke(e))?null:e.stateNode},findFiberByHostInstance:tl.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.1.0-next-22edb9f77-20220426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var rl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rl.isDisabled&&rl.supportsFiber)try{it=rl.inject(nl),at=rl}catch(le){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=el,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Yc(t))throw Error(a(200));return Vc(e,t,null,n)},t.createRoot=function(e,t){if(!Yc(e))throw Error(a(299));var n=!1,r="",i=Hc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,i),e[pi]=t.current,Br(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(a(188));throw e=Object.keys(e).join(","),Error(a(268,e))}return e=null===(e=Ke(t))?null:e.stateNode},t.flushSync=function(e){return cc(e)},t.hydrate=function(e,t,n){if(!Jc(t))throw Error(a(200));return Zc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Yc(e))throw Error(a(405));var r=null!=n&&n.hydratedSources||null,i=!1,o="",u=Hc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(o=n.identifierPrefix),void 0!==n.onRecoverableError&&(u=n.onRecoverableError)),t=Bc(t,null,e,1,null!=n?n:null,i,0,o,u),e[pi]=t.current,Br(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new $c(t)},t.render=function(e,t,n){if(!Jc(t))throw Error(a(200));return Zc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Jc(e))throw Error(a(40));return!!e._reactRootContainer&&(cc((function(){Zc(null,null,e,!1,(function(){e._reactRootContainer=null,e[pi]=null}))})),!0)},t.unstable_batchedUpdates=sc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Jc(n))throw Error(a(200));if(null==e||void 0===e._reactInternals)throw Error(a(38));return Zc(e,t,n,!1,r)},t.version="18.1.0-next-22edb9f77-20220426"},250:function(e,t,n){"use strict";var r=n(164);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},164:function(e,t,n){"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(463)},372:function(e,t){"use strict";var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,a=n?Symbol.for("react.fragment"):60107,o=n?Symbol.for("react.strict_mode"):60108,u=n?Symbol.for("react.profiler"):60114,s=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,l=n?Symbol.for("react.async_mode"):60111,f=n?Symbol.for("react.concurrent_mode"):60111,h=n?Symbol.for("react.forward_ref"):60112,d=n?Symbol.for("react.suspense"):60113,p=n?Symbol.for("react.suspense_list"):60120,v=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,y=n?Symbol.for("react.block"):60121,g=n?Symbol.for("react.fundamental"):60117,k=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function b(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case l:case f:case a:case u:case o:case d:return e;default:switch(e=e&&e.$$typeof){case c:case h:case m:case v:case s:return e;default:return t}}case i:return t}}}function x(e){return b(e)===f}t.AsyncMode=l,t.ConcurrentMode=f,t.ContextConsumer=c,t.ContextProvider=s,t.Element=r,t.ForwardRef=h,t.Fragment=a,t.Lazy=m,t.Memo=v,t.Portal=i,t.Profiler=u,t.StrictMode=o,t.Suspense=d,t.isAsyncMode=function(e){return x(e)||b(e)===l},t.isConcurrentMode=x,t.isContextConsumer=function(e){return b(e)===c},t.isContextProvider=function(e){return b(e)===s},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return b(e)===h},t.isFragment=function(e){return b(e)===a},t.isLazy=function(e){return b(e)===m},t.isMemo=function(e){return b(e)===v},t.isPortal=function(e){return b(e)===i},t.isProfiler=function(e){return b(e)===u},t.isStrictMode=function(e){return b(e)===o},t.isSuspense=function(e){return b(e)===d},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===a||e===f||e===u||e===o||e===d||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===v||e.$$typeof===s||e.$$typeof===c||e.$$typeof===h||e.$$typeof===g||e.$$typeof===k||e.$$typeof===w||e.$$typeof===y)},t.typeOf=b},441:function(e,t,n){"use strict";e.exports=n(372)},374:function(e,t,n){"use strict";var r=n(791),i=Symbol.for("react.element"),a=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,u=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,a={},c=null,l=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(l=t.ref),t)o.call(t,r)&&!s.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===a[r]&&(a[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:l,props:a,_owner:u.current}}t.Fragment=a,t.jsx=c,t.jsxs=c},117:function(e,t){"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),a=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),s=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),d=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},v=Object.assign,m={};function y(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}function g(){}function k(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},y.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},g.prototype=y.prototype;var w=k.prototype=new g;w.constructor=k,v(w,y.prototype),w.isPureReactComponent=!0;var b=Array.isArray,x=Object.prototype.hasOwnProperty,_={current:null},I={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var i,a={},o=null,u=null;if(null!=t)for(i in void 0!==t.ref&&(u=t.ref),void 0!==t.key&&(o=""+t.key),t)x.call(t,i)&&!I.hasOwnProperty(i)&&(a[i]=t[i]);var s=arguments.length-2;if(1===s)a.children=r;else if(1<s){for(var c=Array(s),l=0;l<s;l++)c[l]=arguments[l+2];a.children=c}if(e&&e.defaultProps)for(i in s=e.defaultProps)void 0===a[i]&&(a[i]=s[i]);return{$$typeof:n,type:e,key:o,ref:u,props:a,_owner:_.current}}function E(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var T=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function N(e,t,i,a,o){var u=typeof e;"undefined"!==u&&"boolean"!==u||(e=null);var s=!1;if(null===e)s=!0;else switch(u){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case n:case r:s=!0}}if(s)return o=o(s=e),e=""===a?"."+C(s,0):a,b(o)?(i="",null!=e&&(i=e.replace(T,"$&/")+"/"),N(o,t,i,"",(function(e){return e}))):null!=o&&(E(o)&&(o=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,i+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(T,"$&/")+"/")+e)),t.push(o)),1;if(s=0,a=""===a?".":a+":",b(e))for(var c=0;c<e.length;c++){var l=a+C(u=e[c],c);s+=N(u,t,i,l,o)}else if(l=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=d&&e[d]||e["@@iterator"])?e:null}(e),"function"===typeof l)for(e=l.call(e),c=0;!(u=e.next()).done;)s+=N(u=u.value,t,i,l=a+C(u,c++),o);else if("object"===u)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function A(e,t,n){if(null==e)return e;var r=[],i=0;return N(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},O={transition:null},D={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:O,ReactCurrentOwner:_};t.Children={map:A,forEach:function(e,t,n){A(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return A(e,(function(){t++})),t},toArray:function(e){return A(e,(function(e){return e}))||[]},only:function(e){if(!E(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=y,t.Fragment=i,t.Profiler=o,t.PureComponent=k,t.StrictMode=a,t.Suspense=l,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=v({},e.props),a=e.key,o=e.ref,u=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,u=_.current),void 0!==t.key&&(a=""+t.key),e.type&&e.type.defaultProps)var s=e.type.defaultProps;for(c in t)x.call(t,c)&&!I.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==s?s[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){s=Array(c);for(var l=0;l<c;l++)s[l]=arguments[l+2];i.children=s}return{$$typeof:n,type:e.type,key:a,ref:o,props:i,_owner:u}},t.createContext=function(e){return(e={$$typeof:s,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:u,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=E,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:f,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=O.transition;O.transition={};try{e()}finally{O.transition=t}},t.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,n){return R.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,n){return R.current.useReducer(e,t,n)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return R.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return R.current.useTransition()},t.version="18.1.0"},791:function(e,t,n){"use strict";e.exports=n(117)},184:function(e,t,n){"use strict";e.exports=n(374)},727:function(e){var t=function(e){"use strict";var t,n=Object.prototype,r=n.hasOwnProperty,i="function"===typeof Symbol?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{s({},"")}catch(P){s=function(e,t,n){return e[t]=n}}function c(e,t,n,r){var i=t&&t.prototype instanceof m?t:m,a=Object.create(i.prototype),o=new C(r||[]);return a._invoke=function(e,t,n){var r=f;return function(i,a){if(r===d)throw new Error("Generator is already running");if(r===p){if("throw"===i)throw a;return A()}for(n.method=i,n.arg=a;;){var o=n.delegate;if(o){var u=S(o,n);if(u){if(u===v)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(r===f)throw r=p,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);r=d;var s=l(e,t,n);if("normal"===s.type){if(r=n.done?p:h,s.arg===v)continue;return{value:s.arg,done:n.done}}"throw"===s.type&&(r=p,n.method="throw",n.arg=s.arg)}}}(e,n,o),a}function l(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(P){return{type:"throw",arg:P}}}e.wrap=c;var f="suspendedStart",h="suspendedYield",d="executing",p="completed",v={};function m(){}function y(){}function g(){}var k={};s(k,a,(function(){return this}));var w=Object.getPrototypeOf,b=w&&w(w(N([])));b&&b!==n&&r.call(b,a)&&(k=b);var x=g.prototype=m.prototype=Object.create(k);function _(e){["next","throw","return"].forEach((function(t){s(e,t,(function(e){return this._invoke(t,e)}))}))}function I(e,t){function n(i,a,o,u){var s=l(e[i],e,a);if("throw"!==s.type){var c=s.arg,f=c.value;return f&&"object"===typeof f&&r.call(f,"__await")?t.resolve(f.__await).then((function(e){n("next",e,o,u)}),(function(e){n("throw",e,o,u)})):t.resolve(f).then((function(e){c.value=e,o(c)}),(function(e){return n("throw",e,o,u)}))}u(s.arg)}var i;this._invoke=function(e,r){function a(){return new t((function(t,i){n(e,r,t,i)}))}return i=i?i.then(a,a):a()}}function S(e,n){var r=e.iterator[n.method];if(r===t){if(n.delegate=null,"throw"===n.method){if(e.iterator.return&&(n.method="return",n.arg=t,S(e,n),"throw"===n.method))return v;n.method="throw",n.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var i=l(r,e.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var a=i.arg;return a?a.done?(n[e.resultName]=a.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,v):a:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function E(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function T(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function C(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(E,this),this.reset(!0)}function N(e){if(e){var n=e[a];if(n)return n.call(e);if("function"===typeof e.next)return e;if(!isNaN(e.length)){var i=-1,o=function n(){for(;++i<e.length;)if(r.call(e,i))return n.value=e[i],n.done=!1,n;return n.value=t,n.done=!0,n};return o.next=o}}return{next:A}}function A(){return{value:t,done:!0}}return y.prototype=g,s(x,"constructor",g),s(g,"constructor",y),y.displayName=s(g,u,"GeneratorFunction"),e.isGeneratorFunction=function(e){var t="function"===typeof e&&e.constructor;return!!t&&(t===y||"GeneratorFunction"===(t.displayName||t.name))},e.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,g):(e.__proto__=g,s(e,u,"GeneratorFunction")),e.prototype=Object.create(x),e},e.awrap=function(e){return{__await:e}},_(I.prototype),s(I.prototype,o,(function(){return this})),e.AsyncIterator=I,e.async=function(t,n,r,i,a){void 0===a&&(a=Promise);var o=new I(c(t,n,r,i),a);return e.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},_(x),s(x,u,"Generator"),s(x,a,(function(){return this})),s(x,"toString",(function(){return"[object Generator]"})),e.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},e.values=N,C.prototype={constructor:C,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(T),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function i(r,i){return u.type="throw",u.arg=e,n.next=r,i&&(n.method="next",n.arg=t),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],u=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var s=r.call(o,"catchLoc"),c=r.call(o,"finallyLoc");if(s&&c){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(s){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!c)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,v):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),T(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;T(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:N(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),v}},e}(e.exports);try{regeneratorRuntime=t}catch(n){"object"===typeof globalThis?globalThis.regeneratorRuntime=t:Function("r","regeneratorRuntime = r")(t)}},813:function(e,t){"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<a(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,o=i>>>1;r<o;){var u=2*(r+1)-1,s=e[u],c=u+1,l=e[c];if(0>a(s,n))c<i&&0>a(l,s)?(e[r]=l,e[c]=n,r=c):(e[r]=s,e[u]=n,r=u);else{if(!(c<i&&0>a(l,n)))break e;e[r]=l,e[c]=n,r=c}}}return t}function a(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var u=Date,s=u.now();t.unstable_now=function(){return u.now()-s}}var c=[],l=[],f=1,h=null,d=3,p=!1,v=!1,m=!1,y="function"===typeof setTimeout?setTimeout:null,g="function"===typeof clearTimeout?clearTimeout:null,k="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(l);null!==t;){if(null===t.callback)i(l);else{if(!(t.startTime<=e))break;i(l),t.sortIndex=t.expirationTime,n(c,t)}t=r(l)}}function b(e){if(m=!1,w(e),!v)if(null!==r(c))v=!0,O(x);else{var t=r(l);null!==t&&D(b,t.startTime-e)}}function x(e,n){v=!1,m&&(m=!1,g(E),E=-1),p=!0;var a=d;try{for(w(n),h=r(c);null!==h&&(!(h.expirationTime>n)||e&&!N());){var o=h.callback;if("function"===typeof o){h.callback=null,d=h.priorityLevel;var u=o(h.expirationTime<=n);n=t.unstable_now(),"function"===typeof u?h.callback=u:h===r(c)&&i(c),w(n)}else i(c);h=r(c)}if(null!==h)var s=!0;else{var f=r(l);null!==f&&D(b,f.startTime-n),s=!1}return s}finally{h=null,d=a,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var _,I=!1,S=null,E=-1,T=5,C=-1;function N(){return!(t.unstable_now()-C<T)}function A(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?_():(I=!1,S=null)}}else I=!1}if("function"===typeof k)_=function(){k(A)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,R=P.port2;P.port1.onmessage=A,_=function(){R.postMessage(null)}}else _=function(){y(A,0)};function O(e){S=e,I||(I=!0,_())}function D(e,n){E=y((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,O(x))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):T=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(d){case 1:case 2:case 3:var t=3;break;default:t=d}var n=d;d=t;try{return e()}finally{d=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=d;d=e;try{return t()}finally{d=n}},t.unstable_scheduleCallback=function(e,i,a){var o=t.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?o+a:o:a=o,e){case 1:var u=-1;break;case 2:u=250;break;case 5:u=1073741823;break;case 4:u=1e4;break;default:u=5e3}return e={id:f++,callback:i,priorityLevel:e,startTime:a,expirationTime:u=a+u,sortIndex:-1},a>o?(e.sortIndex=a,n(l,e),null===r(c)&&e===r(l)&&(m?(g(E),E=-1):m=!0,D(b,a-o))):(e.sortIndex=u,n(c,e),v||p||(v=!0,O(x))),e},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(e){var t=d;return function(){var n=d;d=t;try{return e.apply(this,arguments)}finally{d=n}}}},296:function(e,t,n){"use strict";e.exports=n(813)},613:function(e){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!==typeof e||!e||"object"!==typeof t||!t)return!1;var a=Object.keys(e),o=Object.keys(t);if(a.length!==o.length)return!1;for(var u=Object.prototype.hasOwnProperty.bind(t),s=0;s<a.length;s++){var c=a[s];if(!u(c))return!1;var l=e[c],f=t[c];if(!1===(i=n?n.call(r,l,f,c):void 0)||void 0===i&&l!==f)return!1}return!0}}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var a=t[r]={exports:{}};return e[r](a,a.exports,n),a.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.p="/",function(){"use strict";var e={};n.r(e),n.d(e,{FirebaseError:function(){return Pu},SDK_VERSION:function(){return Bs},_DEFAULT_ENTRY_NAME:function(){return Ns},_addComponent:function(){return Os},_addOrOverwriteComponent:function(){return Ds},_apps:function(){return Ps},_clearComponents:function(){return js},_components:function(){return Rs},_getProvider:function(){return Ms},_registerComponent:function(){return Ls},_removeServiceInstance:function(){return Fs},deleteApp:function(){return Gs},getApp:function(){return Ws},getApps:function(){return Ks},initializeApp:function(){return qs},onLog:function(){return $s},registerVersion:function(){return Qs},setLogLevel:function(){return Ys}});var t=n(791),r=n(250);function i(e,t){return i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},i(e,t)}function a(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,i(e,t)}function o(){return o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o.apply(this,arguments)}function u(e){return"/"===e.charAt(0)}function s(e,t){for(var n=t,r=n+1,i=e.length;r<i;n+=1,r+=1)e[n]=e[r];e.pop()}var c=function(e,t){void 0===t&&(t="");var n,r=e&&e.split("/")||[],i=t&&t.split("/")||[],a=e&&u(e),o=t&&u(t),c=a||o;if(e&&u(e)?i=r:r.length&&(i.pop(),i=i.concat(r)),!i.length)return"/";if(i.length){var l=i[i.length-1];n="."===l||".."===l||""===l}else n=!1;for(var f=0,h=i.length;h>=0;h--){var d=i[h];"."===d?s(i,h):".."===d?(s(i,h),f++):f&&(s(i,h),f--)}if(!c)for(;f--;f)i.unshift("..");!c||""===i[0]||i[0]&&u(i[0])||i.unshift("");var p=i.join("/");return n&&"/"!==p.substr(-1)&&(p+="/"),p};function l(e){return e.valueOf?e.valueOf():Object.prototype.valueOf.call(e)}var f=function e(t,n){if(t===n)return!0;if(null==t||null==n)return!1;if(Array.isArray(t))return Array.isArray(n)&&t.length===n.length&&t.every((function(t,r){return e(t,n[r])}));if("object"===typeof t||"object"===typeof n){var r=l(t),i=l(n);return r!==t||i!==n?e(r,i):Object.keys(Object.assign({},t,n)).every((function(r){return e(t[r],n[r])}))}return!1},h="Invariant failed";function d(e,t){if(!e)throw new Error(h)}function p(e){return"/"===e.charAt(0)?e:"/"+e}function v(e){return"/"===e.charAt(0)?e.substr(1):e}function m(e,t){return function(e,t){return 0===e.toLowerCase().indexOf(t.toLowerCase())&&-1!=="/?#".indexOf(e.charAt(t.length))}(e,t)?e.substr(t.length):e}function y(e){return"/"===e.charAt(e.length-1)?e.slice(0,-1):e}function g(e){var t=e.pathname,n=e.search,r=e.hash,i=t||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}function k(e,t,n,r){var i;"string"===typeof e?(i=function(e){var t=e||"/",n="",r="",i=t.indexOf("#");-1!==i&&(r=t.substr(i),t=t.substr(0,i));var a=t.indexOf("?");return-1!==a&&(n=t.substr(a),t=t.substr(0,a)),{pathname:t,search:"?"===n?"":n,hash:"#"===r?"":r}}(e),i.state=t):(void 0===(i=o({},e)).pathname&&(i.pathname=""),i.search?"?"!==i.search.charAt(0)&&(i.search="?"+i.search):i.search="",i.hash?"#"!==i.hash.charAt(0)&&(i.hash="#"+i.hash):i.hash="",void 0!==t&&void 0===i.state&&(i.state=t));try{i.pathname=decodeURI(i.pathname)}catch(a){throw a instanceof URIError?new URIError('Pathname "'+i.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):a}return n&&(i.key=n),r?i.pathname?"/"!==i.pathname.charAt(0)&&(i.pathname=c(i.pathname,r.pathname)):i.pathname=r.pathname:i.pathname||(i.pathname="/"),i}function w(){var e=null;var t=[];return{setPrompt:function(t){return e=t,function(){e===t&&(e=null)}},confirmTransitionTo:function(t,n,r,i){if(null!=e){var a="function"===typeof e?e(t,n):e;"string"===typeof a?"function"===typeof r?r(a,i):i(!0):i(!1!==a)}else i(!0)},appendListener:function(e){var n=!0;function r(){n&&e.apply(void 0,arguments)}return t.push(r),function(){n=!1,t=t.filter((function(e){return e!==r}))}},notifyListeners:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];t.forEach((function(e){return e.apply(void 0,n)}))}}}var b=!("undefined"===typeof window||!window.document||!window.document.createElement);function x(e,t){t(window.confirm(e))}var _="popstate",I="hashchange";function S(){try{return window.history.state||{}}catch(e){return{}}}function E(e){void 0===e&&(e={}),b||d(!1);var t=window.history,n=function(){var e=window.navigator.userAgent;return(-1===e.indexOf("Android 2.")&&-1===e.indexOf("Android 4.0")||-1===e.indexOf("Mobile Safari")||-1!==e.indexOf("Chrome")||-1!==e.indexOf("Windows Phone"))&&window.history&&"pushState"in window.history}(),r=!(-1===window.navigator.userAgent.indexOf("Trident")),i=e,a=i.forceRefresh,u=void 0!==a&&a,s=i.getUserConfirmation,c=void 0===s?x:s,l=i.keyLength,f=void 0===l?6:l,h=e.basename?y(p(e.basename)):"";function v(e){var t=e||{},n=t.key,r=t.state,i=window.location,a=i.pathname+i.search+i.hash;return h&&(a=m(a,h)),k(a,r,n)}function E(){return Math.random().toString(36).substr(2,f)}var T=w();function C(e){o(V,e),V.length=t.length,T.notifyListeners(V.location,V.action)}function N(e){(function(e){return void 0===e.state&&-1===navigator.userAgent.indexOf("CriOS")})(e)||R(v(e.state))}function A(){R(v(S()))}var P=!1;function R(e){if(P)P=!1,C();else{T.confirmTransitionTo(e,"POP",c,(function(t){t?C({action:"POP",location:e}):function(e){var t=V.location,n=D.indexOf(t.key);-1===n&&(n=0);var r=D.indexOf(e.key);-1===r&&(r=0);var i=n-r;i&&(P=!0,M(i))}(e)}))}}var O=v(S()),D=[O.key];function L(e){return h+g(e)}function M(e){t.go(e)}var F=0;function j(e){1===(F+=e)&&1===e?(window.addEventListener(_,N),r&&window.addEventListener(I,A)):0===F&&(window.removeEventListener(_,N),r&&window.removeEventListener(I,A))}var U=!1;var V={length:t.length,action:"POP",location:O,createHref:L,push:function(e,r){var i="PUSH",a=k(e,r,E(),V.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),o=a.key,s=a.state;if(n)if(t.pushState({key:o,state:s},null,r),u)window.location.href=r;else{var c=D.indexOf(V.location.key),l=D.slice(0,c+1);l.push(a.key),D=l,C({action:i,location:a})}else window.location.href=r}}))},replace:function(e,r){var i="REPLACE",a=k(e,r,E(),V.location);T.confirmTransitionTo(a,i,c,(function(e){if(e){var r=L(a),o=a.key,s=a.state;if(n)if(t.replaceState({key:o,state:s},null,r),u)window.location.replace(r);else{var c=D.indexOf(V.location.key);-1!==c&&(D[c]=a.key),C({action:i,location:a})}else window.location.replace(r)}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&(e=!1);var t=T.setPrompt(e);return U||(j(1),U=!0),function(){return U&&(U=!1,j(-1)),t()}},listen:function(e){var t=T.appendListener(e);return j(1),function(){j(-1),t()}}};return V}var T="hashchange",C={hashbang:{encodePath:function(e){return"!"===e.charAt(0)?e:"!/"+v(e)},decodePath:function(e){return"!"===e.charAt(0)?e.substr(1):e}},noslash:{encodePath:v,decodePath:p},slash:{encodePath:p,decodePath:p}};function N(e){var t=e.indexOf("#");return-1===t?e:e.slice(0,t)}function A(){var e=window.location.href,t=e.indexOf("#");return-1===t?"":e.substring(t+1)}function P(e){window.location.replace(N(window.location.href)+"#"+e)}function R(e){void 0===e&&{},b||d(!1);var t=window.history,n=(window.navigator.userAgent.indexOf("Firefox"),e),r=n.getUserConfirmation,i=void 0===r?x:r,a=n.hashType,u=void 0===a?"slash":a,s=e.basename?y(p(e.basename)):"",c=C[u],l=c.encodePath,f=c.decodePath;function h(){var e=f(A());return s&&m(e,s),k(e)}var v=w();function _(e){o(V,e),V.length=t.length,v.notifyListeners(V.location,V.action)}var I=!1,S=null;function E(){var e=A(),t=l(e);if(e!==t)P(t);else{var n=h(),r=V.location;if(!I&&function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash}(r,n))return;if(S===g(n))return;null,function(e){if(I)!1,_();else{var t="POP";v.confirmTransitionTo(e,t,i,(function(n){n?_({action:t,location:e}):function(e){var t=V.location,n=L.lastIndexOf(g(t));-1===n&&0;var r=L.lastIndexOf(g(e));-1===r&&0;var i=n-r;i&&(!0,M(i))}(e)}))}}(n)}}var R=A(),O=l(R);R!==O&&P(O);var D=h(),L=[g(D)];function M(e){t.go(e)}var F=0;function j(e){1===(F+=e)&&1===e?window.addEventListener(T,E):0===F&&window.removeEventListener(T,E)}var U=!1;var V={length:t.length,action:"POP",location:D,createHref:function(e){var t=document.querySelector("base"),n="";return t&&t.getAttribute("href")&&N(window.location.href),n+"#"+l(s+g(e))},push:function(e,t){var n="PUSH",r=k(e,void 0,void 0,V.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=l(s+t);if(A()!==i){t,function(e){window.location.hash=e}(i);var a=L.lastIndexOf(g(V.location)),o=L.slice(0,a+1);o.push(t),o,_({action:n,location:r})}else _()}}))},replace:function(e,t){var n="REPLACE",r=k(e,void 0,void 0,V.location);v.confirmTransitionTo(r,n,i,(function(e){if(e){var t=g(r),i=l(s+t);A()!==i&&(t,P(i));var a=L.indexOf(g(V.location));-1!==a&&(L[a]=t),_({action:n,location:r})}}))},go:M,goBack:function(){M(-1)},goForward:function(){M(1)},block:function(e){void 0===e&&!1;var t=v.setPrompt(e);return U||(j(1),!0),function(){return U&&(!1,j(-1)),t()}},listen:function(e){var t=v.appendListener(e);return j(1),function(){j(-1),t()}}};return V}function O(e,t,n){return Math.min(Math.max(e,t),n)}function D(e){void 0===e&&{};var t=e,n=t.getUserConfirmation,r=t.initialEntries,i=void 0===r?["/"]:r,a=t.initialIndex,u=void 0===a?0:a,s=t.keyLength,c=void 0===s?6:s,l=w();function f(e){o(y,e),y.length=y.entries.length,l.notifyListeners(y.location,y.action)}function h(){return Math.random().toString(36).substr(2,c)}var d=O(u,0,i.length-1),p=i.map((function(e){return k(e,void 0,"string"===typeof e?h():e.key||h())})),v=g;function m(e){var t=O(y.index+e,0,y.entries.length-1),r=y.entries[t];l.confirmTransitionTo(r,"POP",n,(function(e){e?f({action:"POP",location:r,index:t}):f()}))}var y={length:p.length,action:"POP",location:p[d],index:d,entries:p,createHref:v,push:function(e,t){var r="PUSH",i=k(e,t,h(),y.location);l.confirmTransitionTo(i,r,n,(function(e){if(e){var t=y.index+1,n=y.entries.slice(0);n.length>t?n.splice(t,n.length-t,i):n.push(i),f({action:r,location:i,index:t,entries:n})}}))},replace:function(e,t){var r="REPLACE",i=k(e,t,h(),y.location);l.confirmTransitionTo(i,r,n,(function(e){e&&(y.entries[y.index]=i,f({action:r,location:i}))}))},go:m,goBack:function(){m(-1)},goForward:function(){m(1)},canGo:function(e){var t=y.index+e;return t>=0&&t<y.entries.length},block:function(e){return void 0===e&&!1,l.setPrompt(e)},listen:function(e){return l.appendListener(e)}};return y}function L(e,t){return L=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},L(e,t)}function M(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,L(e,t)}var F=n(7),j=n.n(F),U=1073741823,V="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:{};function z(e){var t=[];return{on:function(e){t.push(e)},off:function(e){t=t.filter((function(t){return t!==e}))},get:function(){return e},set:function(n,r){e=n,t.forEach((function(t){return t(e,r)}))}}}var B=t.createContext||function(e,n){var r,i,a="__create-react-context-"+function(){var e="__global_unique_id__";return V[e]=(V[e]||0)+1}()+"__",o=function(e){function t(){var t;return(t=e.apply(this,arguments)||this).emitter=z(t.props.value),t}M(t,e);var r=t.prototype;return r.getChildContext=function(){var e;return(e={})[a]=this.emitter,e},r.componentWillReceiveProps=function(e){if(this.props.value!==e.value){var t,r=this.props.value,i=e.value;!function(e,t){return e===t?0!==e||1/e===1/t:e!==e&&t!==t}(r,i)?(t="function"===typeof n?n(r,i):U,0!==(t|=0)&&this.emitter.set(e.value,t)):t=0}},r.render=function(){return this.props.children},t}(t.Component);o.childContextTypes=((r={})[a]=j().object.isRequired,r);var u=function(t){function n(){var e;return(e=t.apply(this,arguments)||this).state={value:e.getValue()},e.onUpdate=function(t,n){0!==((0|e.observedBits)&n)&&e.setState({value:e.getValue()})},e}M(n,t);var r=n.prototype;return r.componentWillReceiveProps=function(e){var t=e.observedBits;this.observedBits=void 0===t||null===t?U:t},r.componentDidMount=function(){this.context[a]&&this.context[a].on(this.onUpdate);var e=this.props.observedBits;this.observedBits=void 0===e||null===e?U:e},r.componentWillUnmount=function(){this.context[a]&&this.context[a].off(this.onUpdate)},r.getValue=function(){return this.context[a]?this.context[a].get():e},r.render=function(){return(e=this.props.children,Array.isArray(e)?e[0]:e)(this.state.value);var e},n}(t.Component);return u.contextTypes=((i={})[a]=j().object,i),{Provider:o,Consumer:u}},q=B;function W(){return W=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(this,arguments)}var K=n(151),G=n.n(K),H=n(441);var Q=n(110),$=n.n(Q),Y=function(e){var t=q();return t.displayName=e,t},J=Y("Router-History"),X=Y("Router"),Z=function(e){function n(t){var n;return(n=e.call(this,t)||this).state={location:t.history.location},n._isMounted=!1,n._pendingLocation=null,t.staticContext||(n.unlisten=t.history.listen((function(e){n._pendingLocation=e}))),n}a(n,e),n.computeRootMatch=function(e){return{path:"/",url:"/",params:{},isExact:"/"===e}};var r=n.prototype;return r.componentDidMount=function(){var e=this;this._isMounted=!0,this.unlisten&&this.unlisten(),this.props.staticContext||(this.unlisten=this.props.history.listen((function(t){e._isMounted&&e.setState({location:t})}))),this._pendingLocation&&this.setState({location:this._pendingLocation})},r.componentWillUnmount=function(){this.unlisten&&(this.unlisten(),this._isMounted=!1,this._pendingLocation=null)},r.render=function(){return t.createElement(X.Provider,{value:{history:this.props.history,location:this.state.location,match:n.computeRootMatch(this.state.location.pathname),staticContext:this.props.staticContext}},t.createElement(J.Provider,{children:this.props.children||null,value:this.props.history}))},n}(t.Component);t.Component;var ee=function(e){function t(){return e.apply(this,arguments)||this}a(t,e);var n=t.prototype;return n.componentDidMount=function(){this.props.onMount&&this.props.onMount.call(this,this)},n.componentDidUpdate=function(e){this.props.onUpdate&&this.props.onUpdate.call(this,this,e)},n.componentWillUnmount=function(){this.props.onUnmount&&this.props.onUnmount.call(this,this)},n.render=function(){return null},t}(t.Component);var te={},ne=0;function re(e,t){return void 0===e&&(e="/"),void 0===t&&(t={}),"/"===e?e:function(e){if(te[e])return te[e];var t=G().compile(e);return ne<1e4&&(te[e]=t,ne++),t}(e)(t,{pretty:!0})}function ie(e){var n=e.computedMatch,r=e.to,i=e.push,a=void 0!==i&&i;return t.createElement(X.Consumer,null,(function(e){e||d(!1);var i=e.history,o=e.staticContext,u=a?i.push:i.replace,s=k(n?"string"===typeof r?re(r,n.params):W({},r,{pathname:re(r.pathname,n.params)}):r);return o?(u(s),null):t.createElement(ee,{onMount:function(){u(s)},onUpdate:function(e,t){var n=k(t.to);(function(e,t){return e.pathname===t.pathname&&e.search===t.search&&e.hash===t.hash&&e.key===t.key&&f(e.state,t.state)})(n,W({},s,{key:n.key}))||u(s)},to:r})}))}var ae={},oe=0;function ue(e,t){void 0===t&&(t={}),("string"===typeof t||Array.isArray(t))&&(t={path:t});var n=t,r=n.path,i=n.exact,a=void 0!==i&&i,o=n.strict,u=void 0!==o&&o,s=n.sensitive,c=void 0!==s&&s;return[].concat(r).reduce((function(t,n){if(!n&&""!==n)return null;if(t)return t;var r=function(e,t){var n=""+t.end+t.strict+t.sensitive,r=ae[n]||(ae[n]={});if(r[e])return r[e];var i=[],a={regexp:G()(e,i,t),keys:i};return oe<1e4&&(r[e]=a,oe++),a}(n,{end:a,strict:u,sensitive:c}),i=r.regexp,o=r.keys,s=i.exec(e);if(!s)return null;var l=s[0],f=s.slice(1),h=e===l;return a&&!h?null:{path:n,url:"/"===n&&""===l?"/":l,isExact:h,params:o.reduce((function(e,t,n){return e[t.name]=f[n],e}),{})}}),null)}var se=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(X.Consumer,null,(function(n){n||d(!1);var r=e.props.location||n.location,i=W({},n,{location:r,match:e.props.computedMatch?e.props.computedMatch:e.props.path?ue(r.pathname,e.props):n.match}),a=e.props,o=a.children,u=a.component,s=a.render;return Array.isArray(o)&&function(e){return 0===t.Children.count(e)}(o)&&(o=null),t.createElement(X.Provider,{value:i},i.match?o?"function"===typeof o?o(i):o:u?t.createElement(u,i):s?s(i):null:"function"===typeof o?o(i):null)}))},n}(t.Component);function ce(e){return"/"===e.charAt(0)?e:"/"+e}function le(e,t){if(!e)return t;var n=ce(e);return 0!==t.pathname.indexOf(n)?t:W({},t,{pathname:t.pathname.substr(n.length)})}function fe(e){return"string"===typeof e?e:g(e)}function he(e){return function(){d(!1)}}function de(){}t.Component;var pe=function(e){function n(){return e.apply(this,arguments)||this}return a(n,e),n.prototype.render=function(){var e=this;return t.createElement(X.Consumer,null,(function(n){n||d(!1);var r,i,a=e.props.location||n.location;return t.Children.forEach(e.props.children,(function(e){if(null==i&&t.isValidElement(e)){r=e;var o=e.props.path||e.props.from;i=o?ue(a.pathname,W({},e.props,{path:o})):n.match}})),i?t.cloneElement(r,{location:a,computedMatch:i}):null}))},n}(t.Component);var ve=t.useContext;function me(){return ve(J)}function ye(e,t){return ye=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},ye(e,t)}function ge(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ye(e,t)}function ke(){return ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ke.apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}var be=function(e){function n(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).history=E(t.props),t}return ge(n,e),n.prototype.render=function(){return t.createElement(Z,{history:this.history,children:this.props.children})},n}(t.Component);t.Component;var xe=function(e,t){return"function"===typeof e?e(t):e},_e=function(e,t){return"string"===typeof e?k(e,null,null,t):e},Ie=function(e){return e},Se=t.forwardRef;"undefined"===typeof Se&&(Se=Ie);var Ee=Se((function(e,n){var r=e.innerRef,i=e.navigate,a=e.onClick,o=we(e,["innerRef","navigate","onClick"]),u=o.target,s=ke({},o,{onClick:function(e){try{a&&a(e)}catch(t){throw e.preventDefault(),t}e.defaultPrevented||0!==e.button||u&&"_self"!==u||function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)||(e.preventDefault(),i())}});return s.ref=Ie!==Se&&n||r,t.createElement("a",s)}));var Te=Se((function(e,n){var r=e.component,i=void 0===r?Ee:r,a=e.replace,o=e.to,u=e.innerRef,s=we(e,["component","replace","to","innerRef"]);return t.createElement(X.Consumer,null,(function(e){e||d(!1);var r=e.history,c=_e(xe(o,e.location),e.location),l=c?r.createHref(c):"",f=ke({},s,{href:l,navigate:function(){var t=xe(o,e.location),n=g(e.location)===g(_e(t));(a||n?r.replace:r.push)(t)}});return Ie!==Se?f.ref=n||u:f.innerRef=u,t.createElement(i,f)}))})),Ce=function(e){return e},Ne=t.forwardRef;"undefined"===typeof Ne&&(Ne=Ce);Ne((function(e,n){var r=e["aria-current"],i=void 0===r?"page":r,a=e.activeClassName,o=void 0===a?"active":a,u=e.activeStyle,s=e.className,c=e.exact,l=e.isActive,f=e.location,h=e.sensitive,p=e.strict,v=e.style,m=e.to,y=e.innerRef,g=we(e,["aria-current","activeClassName","activeStyle","className","exact","isActive","location","sensitive","strict","style","to","innerRef"]);return t.createElement(X.Consumer,null,(function(e){e||d(!1);var r=f||e.location,a=_e(xe(m,r),r),k=a.pathname,w=k&&k.replace(/([.+*?=^!:${}()[\]|/\\])/g,"\\$1"),b=w?ue(r.pathname,{path:w,exact:c,sensitive:h,strict:p}):null,x=!!(l?l(b,r):b),_="function"===typeof s?s(x):s,I="function"===typeof v?v(x):v;x&&(_=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.filter((function(e){return e})).join(" ")}(_,o),I=ke({},I,u));var S=ke({"aria-current":x&&i||null,className:_,style:I,to:a},g);return Ce!==Ne?S.ref=n||y:S.innerRef=y,t.createElement(Te,S)}))}));var Ae=JSON.parse('[{"id":1,"title":"Enjoy on your TV.","subTitle":"Watch on smart TVs, PlayStation, Xbox, Chromecast, Apple TV, Blu-ray players and more.","image":"/images/misc/home-tv.jpg","alt":"Tiger King on Netflix","direction":"row"},{"id":2,"title":"Download your programmes to watch on the go.","subTitle":"Save your data and watch all your favourites offline.","image":"/images/misc/home-mobile.jpg","alt":"Watch on mobile","direction":"row-reverse"},{"id":3,"title":"Watch everywhere.","subTitle":"Stream unlimited films and TV programmes on your phone, tablet, laptop and TV without paying more.","image":"/images/misc/home-imac.jpg","alt":"Money Heist on Netflix","direction":"row"}]');function Pe(e){if(Array.isArray(e))return e}function Re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function Oe(e,t){if(e){if("string"===typeof e)return Re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Re(e,t):void 0}}function De(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function Le(e,t){return Pe(e)||function(e,t){var n=null==e?null:"undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a=[],o=!0,u=!1;try{for(n=n.call(e);!(o=(r=n.next()).done)&&(a.push(r.value),!t||a.length!==t);o=!0);}catch(s){u=!0,i=s}finally{try{o||null==n.return||n.return()}finally{if(u)throw i}}return a}}(e,t)||Oe(e,t)||De()}function Me(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fe(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function je(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Fe(Object(n),!0).forEach((function(t){Me(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Fe(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ue(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ve=n(613),ze=n.n(Ve);var Be=function(e){function t(e,r,s,c,h){for(var d,p,v,m,w,x=0,_=0,I=0,S=0,E=0,R=0,D=v=d=0,M=0,F=0,j=0,U=0,V=s.length,z=V-1,B="",q="",W="",K="";M<V;){if(p=s.charCodeAt(M),M===z&&0!==_+S+I+x&&(0!==_&&(p=47===_?10:47),S=I=x=0,V++,z++),0===_+S+I+x){if(M===z&&(0<F&&(B=B.replace(f,"")),0<B.trim().length)){switch(p){case 32:case 9:case 59:case 13:case 10:break;default:B+=s.charAt(M)}p=59}switch(p){case 123:for(d=(B=B.trim()).charCodeAt(0),v=1,U=++M;M<V;){switch(p=s.charCodeAt(M)){case 123:v++;break;case 125:v--;break;case 47:switch(p=s.charCodeAt(M+1)){case 42:case 47:e:{for(D=M+1;D<z;++D)switch(s.charCodeAt(D)){case 47:if(42===p&&42===s.charCodeAt(D-1)&&M+2!==D){M=D+1;break e}break;case 10:if(47===p){M=D+1;break e}}M=D}}break;case 91:p++;case 40:p++;case 34:case 39:for(;M++<z&&s.charCodeAt(M)!==p;);}if(0===v)break;M++}if(v=s.substring(U,M),0===d&&(d=(B=B.replace(l,"").trim()).charCodeAt(0)),64===d){switch(0<F&&(B=B.replace(f,"")),p=B.charCodeAt(1)){case 100:case 109:case 115:case 45:F=r;break;default:F=P}if(U=(v=t(r,F,v,p,h+1)).length,0<O&&(w=u(3,v,F=n(P,B,j),r,C,T,U,p,h,c),B=F.join(""),void 0!==w&&0===(U=(v=w.trim()).length)&&(p=0,v="")),0<U)switch(p){case 115:B=B.replace(b,o);case 100:case 109:case 45:v=B+"{"+v+"}";break;case 107:v=(B=B.replace(y,"$1 $2"))+"{"+v+"}",v=1===A||2===A&&a("@"+v,3)?"@-webkit-"+v+"@"+v:"@"+v;break;default:v=B+v,112===c&&(q+=v,v="")}else v=""}else v=t(r,n(r,B,j),v,c,h+1);W+=v,v=j=F=D=d=0,B="",p=s.charCodeAt(++M);break;case 125:case 59:if(1<(U=(B=(0<F?B.replace(f,""):B).trim()).length))switch(0===D&&(d=B.charCodeAt(0),45===d||96<d&&123>d)&&(U=(B=B.replace(" ",":")).length),0<O&&void 0!==(w=u(1,B,r,e,C,T,q.length,c,h,c))&&0===(U=(B=w.trim()).length)&&(B="\0\0"),d=B.charCodeAt(0),p=B.charCodeAt(1),d){case 0:break;case 64:if(105===p||99===p){K+=B+s.charAt(M);break}default:58!==B.charCodeAt(U-1)&&(q+=i(B,d,p,B.charCodeAt(2)))}j=F=D=d=0,B="",p=s.charCodeAt(++M)}}switch(p){case 13:case 10:47===_?_=0:0===1+d&&107!==c&&0<B.length&&(F=1,B+="\0"),0<O*L&&u(0,B,r,e,C,T,q.length,c,h,c),T=1,C++;break;case 59:case 125:if(0===_+S+I+x){T++;break}default:switch(T++,m=s.charAt(M),p){case 9:case 32:if(0===S+x+_)switch(E){case 44:case 58:case 9:case 32:m="";break;default:32!==p&&(m=" ")}break;case 0:m="\\0";break;case 12:m="\\f";break;case 11:m="\\v";break;case 38:0===S+_+x&&(F=j=1,m="\f"+m);break;case 108:if(0===S+_+x+N&&0<D)switch(M-D){case 2:112===E&&58===s.charCodeAt(M-3)&&(N=E);case 8:111===R&&(N=R)}break;case 58:0===S+_+x&&(D=M);break;case 44:0===_+I+S+x&&(F=1,m+="\r");break;case 34:case 39:0===_&&(S=S===p?0:0===S?p:S);break;case 91:0===S+_+I&&x++;break;case 93:0===S+_+I&&x--;break;case 41:0===S+_+x&&I--;break;case 40:if(0===S+_+x){if(0===d)if(2*E+3*R===533);else d=1;I++}break;case 64:0===_+I+S+x+D+v&&(v=1);break;case 42:case 47:if(!(0<S+x+I))switch(_){case 0:switch(2*p+3*s.charCodeAt(M+1)){case 235:_=47;break;case 220:U=M,_=42}break;case 42:47===p&&42===E&&U+2!==M&&(33===s.charCodeAt(U+2)&&(q+=s.substring(U,M+1)),m="",_=0)}}0===_&&(B+=m)}R=E,E=p,M++}if(0<(U=q.length)){if(F=r,0<O&&(void 0!==(w=u(2,q,F,e,C,T,U,c,h,c))&&0===(q=w).length))return K+q+W;if(q=F.join(",")+"{"+q+"}",0!==A*N){switch(2!==A||a(q,2)||(N=0),N){case 111:q=q.replace(k,":-moz-$1")+q;break;case 112:q=q.replace(g,"::-webkit-input-$1")+q.replace(g,"::-moz-$1")+q.replace(g,":-ms-input-$1")+q}N=0}}return K+q+W}function n(e,t,n){var i=t.trim().split(v);t=i;var a=i.length,o=e.length;switch(o){case 0:case 1:var u=0;for(e=0===o?"":e[0]+" ";u<a;++u)t[u]=r(e,t[u],n).trim();break;default:var s=u=0;for(t=[];u<a;++u)for(var c=0;c<o;++c)t[s++]=r(e[c]+" ",i[u],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(m,"$1"+e.trim());case 58:return e.trim()+t.replace(m,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(m,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var o=e+";",u=2*t+3*n+4*r;if(944===u){e=o.indexOf(":",9)+1;var s=o.substring(e,o.length-1).trim();return s=o.substring(0,e).trim()+s+";",1===A||2===A&&a(s,1)?"-webkit-"+s+s:s}if(0===A||2===A&&!a(o,1))return o;switch(u){case 1015:return 97===o.charCodeAt(10)?"-webkit-"+o+o:o;case 951:return 116===o.charCodeAt(3)?"-webkit-"+o+o:o;case 963:return 110===o.charCodeAt(5)?"-webkit-"+o+o:o;case 1009:if(100!==o.charCodeAt(4))break;case 969:case 942:return"-webkit-"+o+o;case 978:return"-webkit-"+o+"-moz-"+o+o;case 1019:case 983:return"-webkit-"+o+"-moz-"+o+"-ms-"+o+o;case 883:if(45===o.charCodeAt(8))return"-webkit-"+o+o;if(0<o.indexOf("image-set(",11))return o.replace(E,"$1-webkit-$2")+o;break;case 932:if(45===o.charCodeAt(4))switch(o.charCodeAt(5)){case 103:return"-webkit-box-"+o.replace("-grow","")+"-webkit-"+o+"-ms-"+o.replace("grow","positive")+o;case 115:return"-webkit-"+o+"-ms-"+o.replace("shrink","negative")+o;case 98:return"-webkit-"+o+"-ms-"+o.replace("basis","preferred-size")+o}return"-webkit-"+o+"-ms-"+o+o;case 964:return"-webkit-"+o+"-ms-flex-"+o+o;case 1023:if(99!==o.charCodeAt(8))break;return"-webkit-box-pack"+(s=o.substring(o.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+o+"-ms-flex-pack"+s+o;case 1005:return d.test(o)?o.replace(h,":-webkit-")+o.replace(h,":-moz-")+o:o;case 1e3:switch(t=(s=o.substring(13).trim()).indexOf("-")+1,s.charCodeAt(0)+s.charCodeAt(t)){case 226:s=o.replace(w,"tb");break;case 232:s=o.replace(w,"tb-rl");break;case 220:s=o.replace(w,"lr");break;default:return o}return"-webkit-"+o+"-ms-"+s+o;case 1017:if(-1===o.indexOf("sticky",9))break;case 975:switch(t=(o=e).length-10,u=(s=(33===o.charCodeAt(t)?o.substring(0,t):o).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|s.charCodeAt(7))){case 203:if(111>s.charCodeAt(8))break;case 115:o=o.replace(s,"-webkit-"+s)+";"+o;break;case 207:case 102:o=o.replace(s,"-webkit-"+(102<u?"inline-":"")+"box")+";"+o.replace(s,"-webkit-"+s)+";"+o.replace(s,"-ms-"+s+"box")+";"+o}return o+";";case 938:if(45===o.charCodeAt(5))switch(o.charCodeAt(6)){case 105:return s=o.replace("-items",""),"-webkit-"+o+"-webkit-box-"+s+"-ms-flex-"+s+o;case 115:return"-webkit-"+o+"-ms-flex-item-"+o.replace(_,"")+o;default:return"-webkit-"+o+"-ms-flex-line-pack"+o.replace("align-content","").replace(_,"")+o}break;case 973:case 989:if(45!==o.charCodeAt(3)||122===o.charCodeAt(4))break;case 931:case 953:if(!0===S.test(e))return 115===(s=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):o.replace(s,"-webkit-"+s)+o.replace(s,"-moz-"+s.replace("fill-",""))+o;break;case 962:if(o="-webkit-"+o+(102===o.charCodeAt(5)?"-ms-"+o:"")+o,211===n+r&&105===o.charCodeAt(13)&&0<o.indexOf("transform",10))return o.substring(0,o.indexOf(";",27)+1).replace(p,"$1-webkit-$2")+o}return o}function a(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(I,"$1"),n,t)}function o(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(x," or ($1)").substring(4):"("+t+")"}function u(e,t,n,r,i,a,o,u,s,l){for(var f,h=0,d=t;h<O;++h)switch(f=R[h].call(c,e,d,n,r,i,a,o,u,s,l)){case void 0:case!1:case!0:case null:break;default:d=f}if(d!==t)return d}function s(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!==typeof e?A=1:(A=2,D=e):A=0),s}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<O){var i=u(-1,n,r,r,C,T,0,0,0,0);void 0!==i&&"string"===typeof i&&(n=i)}var a=t(P,r,n,0,0);return 0<O&&(void 0!==(i=u(-2,a,r,r,C,T,a.length,0,0,0))&&(a=i)),"",N=0,T=C=1,a}var l=/^\0+/g,f=/[\0\r\f]/g,h=/: */g,d=/zoo|gra/,p=/([,: ])(transform)/g,v=/,\r+?/g,m=/([\t\r\n ])*\f?&/g,y=/@(k\w+)\s*(\S*)\s*/,g=/::(place)/g,k=/:(read-only)/g,w=/[svh]\w+-[tblr]{2}/,b=/\(\s*(.*)\s*\)/g,x=/([\s\S]*?);/g,_=/-self|flex-/g,I=/[^]*?(:[rp][el]a[\w-]+)[^]*/,S=/stretch|:\s*\w+\-(?:conte|avail)/,E=/([^-])(image-set\()/,T=1,C=1,N=0,A=1,P=[],R=[],O=0,D=null,L=0;return c.use=function e(t){switch(t){case void 0:case null:O=R.length=0;break;default:if("function"===typeof t)R[O++]=t;else if("object"===typeof t)for(var n=0,r=t.length;n<r;++n)e(t[n]);else L=0|!!t}return e},c.set=s,void 0!==e&&s(e),c},qe={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var We=function(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},Ke=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,Ge=We((function(e){return Ke.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91}));function He(){return(He=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Qe=function(e,t){for(var n=[e[0]],r=0,i=t.length;r<i;r+=1)n.push(t[r],e[r+1]);return n},$e=function(e){return null!==e&&"object"==typeof e&&"[object Object]"===(e.toString?e.toString():Object.prototype.toString.call(e))&&!(0,H.typeOf)(e)},Ye=Object.freeze([]),Je=Object.freeze({});function Xe(e){return"function"==typeof e}function Ze(e){return e.displayName||e.name||"Component"}function et(e){return e&&"string"==typeof e.styledComponentId}var tt="undefined"!=typeof process&&({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_ATTR||{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_ATTR)||"data-styled",nt="undefined"!=typeof window&&"HTMLElement"in window,rt=Boolean("boolean"==typeof SC_DISABLE_SPEEDY?SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY?"false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.REACT_APP_SC_DISABLE_SPEEDY:"undefined"!=typeof process&&void 0!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&""!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&("false"!=={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY&&{NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.SC_DISABLE_SPEEDY)),it={};function at(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw new Error("An error occurred. See https://git.io/JUIaE#"+e+" for more information."+(n.length>0?" Args: "+n.join(", "):""))}var ot=function(){function e(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}var t=e.prototype;return t.indexOfGroup=function(e){for(var t=0,n=0;n<e;n++)t+=this.groupSizes[n];return t},t.insertRules=function(e,t){if(e>=this.groupSizes.length){for(var n=this.groupSizes,r=n.length,i=r;e>=i;)(i<<=1)<0&&at(16,""+e);this.groupSizes=new Uint32Array(i),this.groupSizes.set(n),this.length=i;for(var a=r;a<i;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),u=0,s=t.length;u<s;u++)this.tag.insertRule(o,t[u])&&(this.groupSizes[e]++,o++)},t.clearGroup=function(e){if(e<this.length){var t=this.groupSizes[e],n=this.indexOfGroup(e),r=n+t;this.groupSizes[e]=0;for(var i=n;i<r;i++)this.tag.deleteRule(n)}},t.getGroup=function(e){var t="";if(e>=this.length||0===this.groupSizes[e])return t;for(var n=this.groupSizes[e],r=this.indexOfGroup(e),i=r+n,a=r;a<i;a++)t+=this.tag.getRule(a)+"/*!sc*/\n";return t},e}(),ut=new Map,st=new Map,ct=1,lt=function(e){if(ut.has(e))return ut.get(e);for(;st.has(ct);)ct++;var t=ct++;return ut.set(e,t),st.set(t,e),t},ft=function(e){return st.get(e)},ht=function(e,t){t>=ct&&(ct=t+1),ut.set(e,t),st.set(t,e)},dt="style["+tt+'][data-styled-version="5.3.5"]',pt=new RegExp("^"+tt+'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)'),vt=function(e,t,n){for(var r,i=n.split(","),a=0,o=i.length;a<o;a++)(r=i[a])&&e.registerName(t,r)},mt=function(e,t){for(var n=(t.textContent||"").split("/*!sc*/\n"),r=[],i=0,a=n.length;i<a;i++){var o=n[i].trim();if(o){var u=o.match(pt);if(u){var s=0|parseInt(u[1],10),c=u[2];0!==s&&(ht(c,s),vt(e,c,u[3]),e.getTag().insertRules(s,r)),r.length=0}else r.push(o)}}},yt=function(){return"undefined"!=typeof window&&void 0!==window.__webpack_nonce__?window.__webpack_nonce__:null},gt=function(e){var t=document.head,n=e||t,r=document.createElement("style"),i=function(e){for(var t=e.childNodes,n=t.length;n>=0;n--){var r=t[n];if(r&&1===r.nodeType&&r.hasAttribute(tt))return r}}(n),a=void 0!==i?i.nextSibling:null;r.setAttribute(tt,"active"),r.setAttribute("data-styled-version","5.3.5");var o=yt();return o&&r.setAttribute("nonce",o),n.insertBefore(r,a),r},kt=function(){function e(e){var t=this.element=gt(e);t.appendChild(document.createTextNode("")),this.sheet=function(e){if(e.sheet)return e.sheet;for(var t=document.styleSheets,n=0,r=t.length;n<r;n++){var i=t[n];if(i.ownerNode===e)return i}at(17)}(t),this.length=0}var t=e.prototype;return t.insertRule=function(e,t){try{return this.sheet.insertRule(t,e),this.length++,!0}catch(e){return!1}},t.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.getRule=function(e){var t=this.sheet.cssRules[e];return void 0!==t&&"string"==typeof t.cssText?t.cssText:""},e}(),wt=function(){function e(e){var t=this.element=gt(e);this.nodes=t.childNodes,this.length=0}var t=e.prototype;return t.insertRule=function(e,t){if(e<=this.length&&e>=0){var n=document.createTextNode(t),r=this.nodes[e];return this.element.insertBefore(n,r||null),this.length++,!0}return!1},t.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},e}(),bt=function(){function e(e){this.rules=[],this.length=0}var t=e.prototype;return t.insertRule=function(e,t){return e<=this.length&&(this.rules.splice(e,0,t),this.length++,!0)},t.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.getRule=function(e){return e<this.length?this.rules[e]:""},e}(),xt=nt,_t={isServer:!nt,useCSSOMInjection:!rt},It=function(){function e(e,t,n){void 0===e&&(e=Je),void 0===t&&(t={}),this.options=He({},_t,{},e),this.gs=t,this.names=new Map(n),this.server=!!e.isServer,!this.server&&nt&&xt&&(xt=!1,function(e){for(var t=document.querySelectorAll(dt),n=0,r=t.length;n<r;n++){var i=t[n];i&&"active"!==i.getAttribute(tt)&&(mt(e,i),i.parentNode&&i.parentNode.removeChild(i))}}(this))}e.registerId=function(e){return lt(e)};var t=e.prototype;return t.reconstructWithOptions=function(t,n){return void 0===n&&(n=!0),new e(He({},this.options,{},t),this.gs,n&&this.names||void 0)},t.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.getTag=function(){return this.tag||(this.tag=(n=(t=this.options).isServer,r=t.useCSSOMInjection,i=t.target,e=n?new bt(i):r?new kt(i):new wt(i),new ot(e)));var e,t,n,r,i},t.hasNameForId=function(e,t){return this.names.has(e)&&this.names.get(e).has(t)},t.registerName=function(e,t){if(lt(e),this.names.has(e))this.names.get(e).add(t);else{var n=new Set;n.add(t),this.names.set(e,n)}},t.insertRules=function(e,t,n){this.registerName(e,t),this.getTag().insertRules(lt(e),n)},t.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.clearRules=function(e){this.getTag().clearGroup(lt(e)),this.clearNames(e)},t.clearTag=function(){this.tag=void 0},t.toString=function(){return function(e){for(var t=e.getTag(),n=t.length,r="",i=0;i<n;i++){var a=ft(i);if(void 0!==a){var o=e.names.get(a),u=t.getGroup(i);if(o&&u&&o.size){var s=tt+".g"+i+'[id="'+a+'"]',c="";void 0!==o&&o.forEach((function(e){e.length>0&&(c+=e+",")})),r+=""+u+s+'{content:"'+c+'"}/*!sc*/\n'}}}return r}(this)},e}(),St=/(a)(d)/gi,Et=function(e){return String.fromCharCode(e+(e>25?39:97))};function Tt(e){var t,n="";for(t=Math.abs(e);t>52;t=t/52|0)n=Et(t%52)+n;return(Et(t%52)+n).replace(St,"$1-$2")}var Ct=function(e,t){for(var n=t.length;n;)e=33*e^t.charCodeAt(--n);return e},Nt=function(e){return Ct(5381,e)};function At(e){for(var t=0;t<e.length;t+=1){var n=e[t];if(Xe(n)&&!et(n))return!1}return!0}var Pt=Nt("5.3.5"),Rt=function(){function e(e,t,n){this.rules=e,this.staticRulesId="",this.isStatic=(void 0===n||n.isStatic)&&At(e),this.componentId=t,this.baseHash=Ct(Pt,t),this.baseStyle=n,It.registerId(t)}return e.prototype.generateAndInjectStyles=function(e,t,n){var r=this.componentId,i=[];if(this.baseStyle&&i.push(this.baseStyle.generateAndInjectStyles(e,t,n)),this.isStatic&&!n.hash)if(this.staticRulesId&&t.hasNameForId(r,this.staticRulesId))i.push(this.staticRulesId);else{var a=Yt(this.rules,e,t,n).join(""),o=Tt(Ct(this.baseHash,a)>>>0);if(!t.hasNameForId(r,o)){var u=n(a,"."+o,void 0,r);t.insertRules(r,o,u)}i.push(o),this.staticRulesId=o}else{for(var s=this.rules.length,c=Ct(this.baseHash,n.hash),l="",f=0;f<s;f++){var h=this.rules[f];if("string"==typeof h)l+=h;else if(h){var d=Yt(h,e,t,n),p=Array.isArray(d)?d.join(""):d;c=Ct(c,p+f),l+=p}}if(l){var v=Tt(c>>>0);if(!t.hasNameForId(r,v)){var m=n(l,"."+v,void 0,r);t.insertRules(r,v,m)}i.push(v)}}return i.join(" ")},e}(),Ot=/^\s*\/\/.*$/gm,Dt=[":","[",".","#"];function Lt(e){var t,n,r,i,a=void 0===e?Je:e,o=a.options,u=void 0===o?Je:o,s=a.plugins,c=void 0===s?Ye:s,l=new Be(u),f=[],h=function(e){function t(t){if(t)try{e(t+"}")}catch(e){}}return function(n,r,i,a,o,u,s,c,l,f){switch(n){case 1:if(0===l&&64===r.charCodeAt(0))return e(r+";"),"";break;case 2:if(0===c)return r+"/*|*/";break;case 3:switch(c){case 102:case 112:return e(i[0]+r),"";default:return r+(0===f?"/*|*/":"")}case-2:r.split("/*|*/}").forEach(t)}}}((function(e){f.push(e)})),d=function(e,r,a){return 0===r&&-1!==Dt.indexOf(a[n.length])||a.match(i)?e:"."+t};function p(e,a,o,u){void 0===u&&(u="&");var s=e.replace(Ot,""),c=a&&o?o+" "+a+" { "+s+" }":s;return t=u,n=a,r=new RegExp("\\"+n+"\\b","g"),i=new RegExp("(\\"+n+"\\b){2,}"),l(o||!a?"":a,c)}return l.use([].concat(c,[function(e,t,i){2===e&&i.length&&i[0].lastIndexOf(n)>0&&(i[0]=i[0].replace(r,d))},h,function(e){if(-2===e){var t=f;return f=[],t}}])),p.hash=c.length?c.reduce((function(e,t){return t.name||at(15),Ct(e,t.name)}),5381).toString():"",p}var Mt=t.createContext(),Ft=(Mt.Consumer,t.createContext()),jt=(Ft.Consumer,new It),Ut=Lt();function Vt(){return(0,t.useContext)(Mt)||jt}function zt(){return(0,t.useContext)(Ft)||Ut}function Bt(e){var n=(0,t.useState)(e.stylisPlugins),r=n[0],i=n[1],a=Vt(),o=(0,t.useMemo)((function(){var t=a;return e.sheet?t=e.sheet:e.target&&(t=t.reconstructWithOptions({target:e.target},!1)),e.disableCSSOMInjection&&(t=t.reconstructWithOptions({useCSSOMInjection:!1})),t}),[e.disableCSSOMInjection,e.sheet,e.target]),u=(0,t.useMemo)((function(){return Lt({options:{prefix:!e.disableVendorPrefixes},plugins:r})}),[e.disableVendorPrefixes,r]);return(0,t.useEffect)((function(){ze()(r,e.stylisPlugins)||i(e.stylisPlugins)}),[e.stylisPlugins]),t.createElement(Mt.Provider,{value:o},t.createElement(Ft.Provider,{value:u},e.children))}var qt=function(){function e(e,t){var n=this;this.inject=function(e,t){void 0===t&&(t=Ut);var r=n.name+t.hash;e.hasNameForId(n.id,r)||e.insertRules(n.id,r,t(n.rules,r,"@keyframes"))},this.toString=function(){return at(12,String(n.name))},this.name=e,this.id="sc-keyframes-"+e,this.rules=t}return e.prototype.getName=function(e){return void 0===e&&(e=Ut),this.name+e.hash},e}(),Wt=/([A-Z])/,Kt=/([A-Z])/g,Gt=/^ms-/,Ht=function(e){return"-"+e.toLowerCase()};function Qt(e){return Wt.test(e)?e.replace(Kt,Ht).replace(Gt,"-ms-"):e}var $t=function(e){return null==e||!1===e||""===e};function Yt(e,t,n,r){if(Array.isArray(e)){for(var i,a=[],o=0,u=e.length;o<u;o+=1)""!==(i=Yt(e[o],t,n,r))&&(Array.isArray(i)?a.push.apply(a,i):a.push(i));return a}return $t(e)?"":et(e)?"."+e.styledComponentId:Xe(e)?"function"!=typeof(s=e)||s.prototype&&s.prototype.isReactComponent||!t?e:Yt(e(t),t,n,r):e instanceof qt?n?(e.inject(n,r),e.getName(r)):e:$e(e)?function e(t,n){var r,i,a=[];for(var o in t)t.hasOwnProperty(o)&&!$t(t[o])&&(Array.isArray(t[o])&&t[o].isCss||Xe(t[o])?a.push(Qt(o)+":",t[o],";"):$e(t[o])?a.push.apply(a,e(t[o],o)):a.push(Qt(o)+": "+(r=o,(null==(i=t[o])||"boolean"==typeof i||""===i?"":"number"!=typeof i||0===i||r in qe?String(i).trim():i+"px")+";")));return n?[n+" {"].concat(a,["}"]):a}(e):e.toString();var s}var Jt=function(e){return Array.isArray(e)&&(e.isCss=!0),e};function Xt(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Xe(e)||$e(e)?Jt(Yt(Qe(Ye,[e].concat(n)))):0===n.length&&1===e.length&&"string"==typeof e[0]?e:Jt(Yt(Qe(e,n)))}new Set;var Zt=function(e,t,n){return void 0===n&&(n=Je),e.theme!==n.theme&&e.theme||t||n.theme},en=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,tn=/(^-|-$)/g;function nn(e){return e.replace(en,"-").replace(tn,"")}var rn=function(e){return Tt(Nt(e)>>>0)};function an(e){return"string"==typeof e&&!0}var on=function(e){return"function"==typeof e||"object"==typeof e&&null!==e&&!Array.isArray(e)},un=function(e){return"__proto__"!==e&&"constructor"!==e&&"prototype"!==e};function sn(e,t,n){var r=e[n];on(t)&&on(r)?cn(r,t):e[n]=t}function cn(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];if(on(o))for(var u in o)un(u)&&sn(e,o[u],u)}return e}var ln=t.createContext();ln.Consumer;var fn={};function hn(e,n,r){var i=et(e),a=!an(e),o=n.attrs,u=void 0===o?Ye:o,s=n.componentId,c=void 0===s?function(e,t){var n="string"!=typeof e?"sc":nn(e);fn[n]=(fn[n]||0)+1;var r=n+"-"+rn("5.3.5"+n+fn[n]);return t?t+"-"+r:r}(n.displayName,n.parentComponentId):s,l=n.displayName,f=void 0===l?function(e){return an(e)?"styled."+e:"Styled("+Ze(e)+")"}(e):l,h=n.displayName&&n.componentId?nn(n.displayName)+"-"+n.componentId:n.componentId||c,d=i&&e.attrs?Array.prototype.concat(e.attrs,u).filter(Boolean):u,p=n.shouldForwardProp;i&&e.shouldForwardProp&&(p=n.shouldForwardProp?function(t,r,i){return e.shouldForwardProp(t,r,i)&&n.shouldForwardProp(t,r,i)}:e.shouldForwardProp);var v,m=new Rt(r,h,i?e.componentStyle:void 0),y=m.isStatic&&0===u.length,g=function(e,n){return function(e,n,r,i){var a=e.attrs,o=e.componentStyle,u=e.defaultProps,s=e.foldedComponentIds,c=e.shouldForwardProp,l=e.styledComponentId,f=e.target,h=function(e,t,n){void 0===e&&(e=Je);var r=He({},t,{theme:e}),i={};return n.forEach((function(e){var t,n,a,o=e;for(t in Xe(o)&&(o=o(r)),o)r[t]=i[t]="className"===t?(n=i[t],a=o[t],n&&a?n+" "+a:n||a):o[t]})),[r,i]}(Zt(n,(0,t.useContext)(ln),u)||Je,n,a),d=h[0],p=h[1],v=function(e,t,n,r){var i=Vt(),a=zt();return t?e.generateAndInjectStyles(Je,i,a):e.generateAndInjectStyles(n,i,a)}(o,i,d),m=r,y=p.$as||n.$as||p.as||n.as||f,g=an(y),k=p!==n?He({},n,{},p):n,w={};for(var b in k)"$"!==b[0]&&"as"!==b&&("forwardedAs"===b?w.as=k[b]:(c?c(b,Ge,y):!g||Ge(b))&&(w[b]=k[b]));return n.style&&p.style!==n.style&&(w.style=He({},n.style,{},p.style)),w.className=Array.prototype.concat(s,l,v!==l?v:null,n.className,p.className).filter(Boolean).join(" "),w.ref=m,(0,t.createElement)(y,w)}(v,e,n,y)};return g.displayName=f,(v=t.forwardRef(g)).attrs=d,v.componentStyle=m,v.displayName=f,v.shouldForwardProp=p,v.foldedComponentIds=i?Array.prototype.concat(e.foldedComponentIds,e.styledComponentId):Ye,v.styledComponentId=h,v.target=i?e.target:e,v.withComponent=function(e){var t=n.componentId,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(n,["componentId"]),a=t&&t+"-"+(an(e)?e:nn(Ze(e)));return hn(e,He({},i,{attrs:d,componentId:a}),r)},Object.defineProperty(v,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(t){this._foldedDefaultProps=i?cn({},e.defaultProps,t):t}}),v.toString=function(){return"."+v.styledComponentId},a&&$()(v,e,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0,withComponent:!0}),v}var dn=function(e){return function e(t,n,r){if(void 0===r&&(r=Je),!(0,H.isValidElementType)(n))return at(1,String(n));var i=function(){return t(n,r,Xt.apply(void 0,arguments))};return i.withConfig=function(i){return e(t,n,He({},r,{},i))},i.attrs=function(i){return e(t,n,He({},r,{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},i}(hn,e)};["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","textPath","tspan"].forEach((function(e){dn[e]=dn(e)}));var pn=function(){function e(e,t){this.rules=e,this.componentId=t,this.isStatic=At(e),It.registerId(this.componentId+1)}var t=e.prototype;return t.createStyles=function(e,t,n,r){var i=r(Yt(this.rules,t,n,r).join(""),""),a=this.componentId+e;n.insertRules(a,a,i)},t.removeStyles=function(e,t){t.clearRules(this.componentId+e)},t.renderStyles=function(e,t,n,r){e>2&&It.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,t,n,r)},e}();function vn(e){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=Xt.apply(void 0,[e].concat(r)),o="sc-global-"+rn(JSON.stringify(a)),u=new pn(a,o);function s(e){var n=Vt(),r=zt(),i=(0,t.useContext)(ln),a=(0,t.useRef)(n.allocateGSInstance(o)).current;return n.server&&c(a,e,n,i,r),(0,t.useLayoutEffect)((function(){if(!n.server)return c(a,e,n,i,r),function(){return u.removeStyles(a,n)}}),[a,e,n,i,r]),null}function c(e,t,n,r,i){if(u.isStatic)u.renderStyles(e,it,n,i);else{var a=He({},t,{theme:Zt(t,r,s.defaultProps)});u.renderStyles(e,a,n,i)}}return t.memo(s)}!function(){function e(){var e=this;this._emitSheetCSS=function(){var t=e.instance.toString();if(!t)return"";var n=yt();return"<style "+[n&&'nonce="'+n+'"',tt+'="true"','data-styled-version="5.3.5"'].filter(Boolean).join(" ")+">"+t+"</style>"},this.getStyleTags=function(){return e.sealed?at(2):e._emitSheetCSS()},this.getStyleElement=function(){var n;if(e.sealed)return at(2);var r=((n={})[tt]="",n["data-styled-version"]="5.3.5",n.dangerouslySetInnerHTML={__html:e.instance.toString()},n),i=yt();return i&&(r.nonce=i),[t.createElement("style",He({},r,{key:"sc-0-0"}))]},this.seal=function(){e.sealed=!0},this.instance=new It({isServer:!0}),this.sealed=!1}var n=e.prototype;n.collectStyles=function(e){return this.sealed?at(2):t.createElement(Bt,{sheet:this.instance},e)},n.interleaveWithNodeStream=function(e){return at(3)}}();var mn=dn,yn=mn.div.withConfig({displayName:"accordion__Container",componentId:"sc-1l7g7jc-0"})(["display:flex;border-bottom:8px solid #222;"]),gn=mn.div.withConfig({displayName:"accordion__Frame",componentId:"sc-1l7g7jc-1"})(["margin-bottom:40px;"]),kn=mn.div.withConfig({displayName:"accordion__Inner",componentId:"sc-1l7g7jc-2"})(["display:flex;padding:70px 45px;flex-direction:column;max-width:815px;margin:auto;"]),wn=mn.h1.withConfig({displayName:"accordion__Title",componentId:"sc-1l7g7jc-3"})(["font-size:50px;line-height:1.1;margin-top:0;margin-bottom:8px;color:white;text-align:center;@media (max-width:600px){font-size:35px;}"]),bn=mn.div.withConfig({displayName:"accordion__Item",componentId:"sc-1l7g7jc-4"})(["color:white;margin:auto;margin-bottom:10px;max-width:728px;width:100%;&:first-of-type{margin-top:3em;}&:last-of-type{margin-bottom:0;}"]),xn=mn.div.withConfig({displayName:"accordion__Header",componentId:"sc-1l7g7jc-5"})(["display:flex;justify-content:space-between;cursor:pointer;margin-bottom:1px;font-size:26px;font-weight:normal;background:#303030;padding:0.8em 1.2em 0.8em 1.2em;user-select:none;align-items:center;img{filter:brightness(0) invert(1);width:24px;user-select:none;@media (max-width:600px){width:16px;}}@media (max-width:600px){font-size:16px;}"]),_n=mn.div.withConfig({displayName:"accordion__Body",componentId:"sc-1l7g7jc-6"})(["font-size:26px;font-weight:normal;line-height:normal;background:#303030;white-space:pre-wrap;user-select:none;overflow:hidden;&.closed{max-height:0;overflow:hidden;transition:max-height 0.25s cubic-bezier(0.5,0,0.1,1);}&.open{max-height:1200px;transition:max-height 0.25s cubic-bezier(0.5,0,0.1,1);}span{display:block;padding:0.8em 2.2em 0.8em 1.2em;}@media (max-width:600px){font-size:16px;line-height:22px;}"]),In=n(184),Sn=["children"],En=["children"],Tn=["children"],Cn=["children"],Nn=["children"],An=["children"],Pn=(0,t.createContext)();function Rn(e){var t=e.children,n=Ue(e,Sn);return(0,In.jsx)(yn,je(je({},n),{},{children:(0,In.jsx)(kn,{children:t})}))}Rn.Title=function(e){var t=e.children,n=Ue(e,En);return(0,In.jsx)(wn,je(je({},n),{},{children:t}))},Rn.Frame=function(e){var t=e.children,n=Ue(e,Tn);return(0,In.jsx)(gn,je(je({},n),{},{children:t}))},Rn.Item=function(e){var n=e.children,r=Ue(e,Cn),i=Le((0,t.useState)(!1),2),a=i[0],o=i[1];return(0,In.jsx)(Pn.Provider,{value:{toggleShow:a,setToggleShow:o},children:(0,In.jsx)(bn,je(je({},r),{},{children:n}))})},Rn.Header=function(e){var n=e.children,r=Ue(e,Nn),i=(0,t.useContext)(Pn),a=i.toggleShow,o=i.setToggleShow;return(0,In.jsxs)(xn,je(je({onClick:function(){return o(!a)}},r),{},{children:[n,a?(0,In.jsx)("img",{src:"/images/icons/close-slim.png",alt:"Close"}):(0,In.jsx)("img",{src:"/images/icons/add.png",alt:"Open"})]}))},Rn.Body=function(e){var n=e.children,r=Ue(e,An),i=(0,t.useContext)(Pn).toggleShow;return(0,In.jsx)(_n,je(je({className:i?"open":"closed"},r),{},{children:(0,In.jsx)("span",{children:n})}))};var On=mn.p.withConfig({displayName:"card__Title",componentId:"sc-1toxdqm-0"})(["font-size:24px;color:#e5e5e5;font-weight:bold;margin-left:56px;margin-right:56px;margin-top:0;"]),Dn=mn.div.withConfig({displayName:"card__Container",componentId:"sc-1toxdqm-1"})(["display:flex;flex-direction:column;margin-bottom:50px;> ","{@media (max-width:1000px){margin-left:30px;}}&:last-of-type{margin-bottom:0;}"],On),Ln=mn.div.withConfig({displayName:"card__Group",componentId:"sc-1toxdqm-2"})(["display:flex;flex-direction:",";",";",";> ",":first-of-type{@media (min-width:1100px){margin-top:-100px;}}"],(function(e){return"row"===e.flexDirection?"row":"column"}),(function(e){var t=e.alignItems;return t&&"align-items: ".concat(t)}),(function(e){var t=e.margin;return t&&"margin: ".concat(t)}),Dn),Mn=mn.p.withConfig({displayName:"card__SubTitle",componentId:"sc-1toxdqm-3"})(["font-size:12px;color:#fff;font-weight:bold;margin-top:0;margin-bottom:0;user-select:none;display:none;"]),Fn=mn.p.withConfig({displayName:"card__Text",componentId:"sc-1toxdqm-4"})(["margin-top:5px;font-size:10px;color:#fff;margin-bottom:0;user-select:none;display:none;line-height:normal;"]),jn=mn.div.withConfig({displayName:"card__Entities",componentId:"sc-1toxdqm-5"})(["display:flex;flex-direction:row;"]),Un=mn.div.withConfig({displayName:"card__Meta",componentId:"sc-1toxdqm-6"})(["display:none;position:absolute;bottom:0;padding:10px;background-color:#0000008f;"]),Vn=mn.img.withConfig({displayName:"card__Image",componentId:"sc-1toxdqm-7"})(["border:0;width:100%;max-width:305px;cursor:pointer;height:auto;padding:0;margin:0;"]),zn=mn.div.withConfig({displayName:"card__Item",componentId:"sc-1toxdqm-8"})(["display:flex;flex-direction:column;margin-right:5px;position:relative;cursor:pointer;transition:transform 0.2s;&:hover{transform:scale(1.3);z-index:99;}@media (min-width:1200px){&:hover ",",&:hover ",",&:hover ","{display:block;z-index:100;}}&:first-of-type{margin-left:56px;@media (max-width:1000px){margin-left:30px;}}&:last-of-type{margin-right:56px;@media (max-width:1000px){margin-right:30px;}}"],Un,Fn,Mn),Bn=mn.p.withConfig({displayName:"card__FeatureText",componentId:"sc-1toxdqm-9"})(["font-size:18px;color:white;font-weight:",";margin:0;@media (max-width:600px){line-height:22px;}"],(function(e){return"bold"===e.fontWeight?"bold":"normal"})),qn=mn.div.withConfig({displayName:"card__Feature",componentId:"sc-1toxdqm-10"})(["display:flex;flex-direction:row;background:url(",");background-size:contain;position:relative;height:360px;background-position-x:right;background-repeat:no-repeat;background-color:black;@media (max-width:1000px){height:auto;background-size:auto;","{font-size:20px;line-height:20px;margin-bottom:10px;}","{font-size:14px;}}"],(function(e){return e.src}),On,Bn),Wn=mn(On).withConfig({displayName:"card__FeatureTitle",componentId:"sc-1toxdqm-11"})(["margin-left:0;"]),Kn=mn.button.withConfig({displayName:"card__FeatureClose",componentId:"sc-1toxdqm-12"})(["color:white;position:absolute;right:20px;top:20px;cursor:pointer;background-color:transparent;border:0;img{filter:brightness(0) invert(1);width:24px;}"]),Gn=mn.div.withConfig({displayName:"card__Content",componentId:"sc-1toxdqm-13"})(["margin:56px;max-width:500px;line-height:normal;@media (max-width:1000px){margin:30px;max-width:none;}"]),Hn=mn.div.withConfig({displayName:"card__Maturity",componentId:"sc-1toxdqm-14"})(["background-color:",";border-radius:15px;width:28px;line-height:28px;text-align:center;color:white;font-weight:bold;text-shadow:2px 2px 4px rgba(0,0,0,0.2);margin-right:10px;font-size:12px;"],(function(e){return e.rating>=15?"#f44336":"#2f9600"})),Qn=["children"],$n=["children"],Yn=["children"],Jn=["children"],Xn=["children"],Zn=["children"],er=["children"],tr=["item","children"],nr=["children","category"],rr=(0,t.createContext)();function ir(e){var n=e.children,r=Ue(e,Qn),i=Le((0,t.useState)(!1),2),a=i[0],o=i[1],u=Le((0,t.useState)({}),2),s=u[0],c=u[1];return(0,In.jsx)(rr.Provider,{value:{showFeature:a,setShowFeature:o,itemFeature:s,setItemFeature:c},children:(0,In.jsx)(Dn,je(je({},r),{},{children:n}))})}ir.Group=function(e){var t=e.children,n=Ue(e,$n);return(0,In.jsx)(Ln,je(je({},n),{},{children:t}))},ir.Title=function(e){var t=e.children,n=Ue(e,Yn);return(0,In.jsx)(On,je(je({},n),{},{children:t}))},ir.SubTitle=function(e){var t=e.children,n=Ue(e,Jn);return(0,In.jsx)(Mn,je(je({},n),{},{children:t}))},ir.Text=function(e){var t=e.children,n=Ue(e,Xn);return(0,In.jsx)(Fn,je(je({},n),{},{children:t}))},ir.Entities=function(e){var t=e.children,n=Ue(e,Zn);return(0,In.jsx)(jn,je(je({},n),{},{children:t}))},ir.Meta=function(e){var t=e.children,n=Ue(e,er);return(0,In.jsx)(Un,je(je({},n),{},{children:t}))},ir.Item=function(e){var n=e.item,r=e.children,i=Ue(e,tr),a=(0,t.useContext)(rr),o=a.setShowFeature,u=a.setItemFeature;return(0,In.jsx)(zn,je(je({onClick:function(){u(n),o(!0)}},i),{},{children:r}))},ir.Image=function(e){var t=Object.assign({},e);return(0,In.jsx)(Vn,je({},t))},ir.Feature=function(e){var n=e.children,r=e.category,i=Ue(e,nr),a=(0,t.useContext)(rr),o=a.showFeature,u=a.itemFeature,s=a.setShowFeature;return o?(0,In.jsx)(qn,je(je({},i),{},{src:"/images/".concat(r,"/").concat(u.genre,"/").concat(u.slug,"/large.jpg"),children:(0,In.jsxs)(Gn,{children:[(0,In.jsx)(Wn,{children:u.title}),(0,In.jsx)(Bn,{children:u.description}),(0,In.jsx)(Kn,{onClick:function(){return s(!1)},children:(0,In.jsx)("img",{src:"/images/icons/close.png",alt:"Close"})}),(0,In.jsxs)(Ln,{margin:"30px 0",flexDirection:"row",alignItems:"center",children:[(0,In.jsx)(Hn,{rating:u.maturity,children:u.maturity<12?"PG":u.maturity}),(0,In.jsx)(Bn,{fontWeight:"bold",children:u.genre.charAt(0).toUpperCase()+u.genre.slice(1)})]}),n]})})):null};var ar=mn.div.withConfig({displayName:"jumbotron__Inner",componentId:"sc-30c1mk-0"})(["display:flex;align-items:center;justify-content:space-between;flex-direction:",";max-width:1100px;margin:auto;width:100%;@media (max-width:1000px){flex-direction:column;}"],(function(e){return e.direction})),or=mn.div.withConfig({displayName:"jumbotron__Pane",componentId:"sc-30c1mk-1"})(["width:50%;@media (max-width:1000px){width:100%;padding:0 45px;text-align:center;}"]),ur=mn.h1.withConfig({displayName:"jumbotron__Title",componentId:"sc-30c1mk-2"})(["font-size:50px;line-height:1.1;margin-bottom:8px;@media (max-width:600px){font-size:35px;}"]),sr=mn.h2.withConfig({displayName:"jumbotron__SubTitle",componentId:"sc-30c1mk-3"})(["font-size:26px;font-weight:normal;line-height:normal;@media (max-width:600px){font-size:18px;}"]),cr=mn.img.withConfig({displayName:"jumbotron__Image",componentId:"sc-30c1mk-4"})(["max-width:100%;height:auto;"]),lr=mn.div.withConfig({displayName:"jumbotron__Item",componentId:"sc-30c1mk-5"})(["display:flex;border-bottom:8px solid #222;padding:50px 5%;color:white;overflow:hidden;"]),fr=mn.div.withConfig({displayName:"jumbotron__Container",componentId:"sc-30c1mk-6"})(["@media (max-width:1000px){",":last-of-type h2{margin-bottom:50px;}}"],lr),hr=["children","direction"],dr=["children"],pr=["children"],vr=["children"],mr=["children"];function yr(e){var t=e.children,n=e.direction,r=void 0===n?"row":n,i=Ue(e,hr);return(0,In.jsx)(lr,je(je({},i),{},{children:(0,In.jsx)(ar,{direction:r,children:t})}))}yr.Container=function(e){var t=e.children,n=Ue(e,dr);return(0,In.jsx)(fr,je(je({},n),{},{children:t}))},yr.Pane=function(e){var t=e.children,n=Ue(e,pr);return(0,In.jsx)(or,je(je({},n),{},{children:t}))},yr.Title=function(e){var t=e.children,n=Ue(e,vr);return(0,In.jsx)(ur,je(je({},n),{},{children:t}))},yr.SubTitle=function(e){var t=e.children,n=Ue(e,mr);return(0,In.jsx)(sr,je(je({},n),{},{children:t}))},yr.Image=function(e){var t=Object.assign({},e);return(0,In.jsx)(cr,je({},t))};var gr=mn.div.withConfig({displayName:"feature__Container",componentId:"sc-1iz650c-0"})(["display:flex;flex-direction:column;border-bottom:8px solid #222;text-align:center;padding:165px 45px;"]),kr=mn.h1.withConfig({displayName:"feature__Title",componentId:"sc-1iz650c-1"})(["color:white;max-width:640px;font-size:50px;font-weight:500;margin:auto;@media (max-width:600px){font-size:35px;}"]),wr=mn.h2.withConfig({displayName:"feature__SubTitle",componentId:"sc-1iz650c-2"})(["color:white;font-size:26px;font-weight:normal;margin:16px auto;@media (max-width:600px){font-size:18px;}"]),br=["children"],xr=["children"],_r=["children"];function Ir(e){var t=e.children,n=Ue(e,br);return(0,In.jsx)(gr,je(je({},n),{},{children:t}))}Ir.Title=function(e){var t=e.children,n=Ue(e,xr);return(0,In.jsx)(kr,je(je({},n),{},{children:t}))},Ir.SubTitle=function(e){var t=e.children,n=Ue(e,_r);return(0,In.jsx)(wr,je(je({},n),{},{children:t}))};var Sr=mn.div.withConfig({displayName:"opt-form__Container",componentId:"sc-sur2nb-0"})(["display:flex;justify-content:center;height:100%;margin-top:20px;flex-wrap:wrap;@media (max-width:1000px){flex-direction:column;align-items:center;}"]),Er=mn.input.withConfig({displayName:"opt-form__Input",componentId:"sc-sur2nb-1"})(["max-width:450px;width:100%;border:0;padding:10px;height:70px;box-sizing:border-box;"]),Tr=mn.div.withConfig({displayName:"opt-form__Break",componentId:"sc-sur2nb-2"})(["flex-basis:100%;height:0;"]),Cr=mn.button.withConfig({displayName:"opt-form__Button",componentId:"sc-sur2nb-3"})(["display:flex;align-items:center;height:70px;background:#e50914;color:white;text-transform:uppercase;padding:0 32px;font-size:26px;border:0;cursor:pointer;img{margin-left:10px;filter:brightness(0) invert(1);width:24px;@media (max-width:1000px){width:16px;}}&:hover{background:#f40612;}@media (max-width:1000px){height:50px;font-size:16px;margin-top:20px;font-weight:bold;}"]),Nr=mn.p.withConfig({displayName:"opt-form__Text",componentId:"sc-sur2nb-4"})(["font-size:19.2px;color:white;text-align:center;@media (max-width:600px){font-size:16px;line-height:22px;}"]),Ar=["children"],Pr=["children"],Rr=["children"];function Or(e){var t=e.children,n=Ue(e,Ar);return(0,In.jsx)(Sr,je(je({},n),{},{children:t}))}Or.Input=function(e){var t=Object.assign({},e);return(0,In.jsx)(Er,je({},t))},Or.Button=function(e){var t=e.children,n=Ue(e,Pr);return(0,In.jsxs)(Cr,je(je({},n),{},{children:[t," ",(0,In.jsx)("img",{src:"/images/icons/chevron-right.png",alt:"Try Now"})]}))},Or.Text=function(e){var t=e.children,n=Ue(e,Rr);return(0,In.jsx)(Nr,je(je({},n),{},{children:t}))},Or.Break=function(e){var t=Object.assign({},e);return(0,In.jsx)(Tr,je({},t))};var Dr=mn.div.withConfig({displayName:"form__Container",componentId:"sc-1mizzk4-0"})(["display:flex;flex-direction:column;min-height:660px;background-color:rgba(0,0,0,0.75);border-radius:5px;width:100%;margin:auto;max-width:450px;padding:60px 68px 40px;margin-bottom:100px;"]),Lr=mn.div.withConfig({displayName:"form__Error",componentId:"sc-1mizzk4-1"})(["background:#e87c03;border-radius:4px;font-size:14px;margin:0 0 16px;color:white;padding:15px 20px;"]),Mr=mn.form.withConfig({displayName:"form__Base",componentId:"sc-1mizzk4-2"})(["display:flex;flex-direction:column;max-width:450px;width:100%;"]),Fr=mn.h1.withConfig({displayName:"form__Title",componentId:"sc-1mizzk4-3"})(["color:#fff;font-size:32px;font-weight:bold;margin-bottom:28px;"]),jr=mn.p.withConfig({displayName:"form__Text",componentId:"sc-1mizzk4-4"})(["color:#737373;font-size:16px;font-weight:500;"]),Ur=mn.p.withConfig({displayName:"form__TextSmall",componentId:"sc-1mizzk4-5"})(["margin-top:10px;font-size:13px;line-height:normal;color:#8c8c8c;"]),Vr=mn(Te).withConfig({displayName:"form__Link",componentId:"sc-1mizzk4-6"})(["color:#fff;text-decoration:none;padding:3px;&:hover{text-decoration:underline;}"]),zr=mn.input.withConfig({displayName:"form__Input",componentId:"sc-1mizzk4-7"})(["background:#333;border-radius:4px;border:0;color:#fff;height:50px;line-height:50px;padding:5px 20px;margin-bottom:20px;&:last-of-type{margin-bottom:30px;}"]),Br=mn.button.withConfig({displayName:"form__Submit",componentId:"sc-1mizzk4-8"})(["background:#e50914;border-radius:4px;font-size:16px;font-weight:bold;margin:24px 0 12px;padding:16px;border:0;color:white;cursor:pointer;&:disabled{opacity:0.5;}"]),qr=["children"],Wr=["children"],Kr=["children"],Gr=["children"],Hr=["children"],Qr=["children"],$r=["children"],Yr=["children"],Jr=["children"];function Xr(e){var t=e.children,n=Ue(e,qr);return(0,In.jsx)(Dr,je(je({},n),{},{children:t}))}Xr.Error=function(e){var t=e.children,n=Ue(e,Wr);return(0,In.jsx)(Lr,je(je({},n),{},{children:t}))},Xr.Base=function(e){var t=e.children,n=Ue(e,Kr);return(0,In.jsx)(Mr,je(je({},n),{},{children:t}))},Xr.Title=function(e){var t=e.children,n=Ue(e,Gr);return(0,In.jsx)(Fr,je(je({},n),{},{children:t}))},Xr.Text=function(e){var t=e.children,n=Ue(e,Hr);return(0,In.jsx)(jr,je(je({},n),{},{children:t}))},Xr.TextSmall=function(e){var t=e.children,n=Ue(e,Qr);return(0,In.jsx)(Ur,je(je({},n),{},{children:t}))},Xr.Link=function(e){var t=e.children,n=Ue(e,$r);return(0,In.jsx)(Vr,je(je({},n),{},{children:t}))},Xr.Input=function(e){var t=e.children,n=Ue(e,Yr);return(0,In.jsx)(zr,je(je({},n),{},{children:t}))},Xr.Submit=function(e){var t=e.children,n=Ue(e,Jr);return(0,In.jsx)(Br,je(je({},n),{},{children:t}))};var Zr=mn.div.withConfig({displayName:"profiles__Container",componentId:"sc-zedp98-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;margin:auto;max-width:80%;"]),ei=mn.h1.withConfig({displayName:"profiles__Title",componentId:"sc-zedp98-1"})(["width:100%;color:#fff;font-size:48px;text-align:center;font-weight:500;"]),ti=mn.ul.withConfig({displayName:"profiles__List",componentId:"sc-zedp98-2"})(["padding:0;margin:0;display:flex;flex-direction:row;"]),ni=mn.p.withConfig({displayName:"profiles__Name",componentId:"sc-zedp98-3"})(["color:#808080;text-overflow:ellipsis;font-size:16px;&:hover{font-weight:bold;color:#e5e5e5;}"]),ri=mn.img.withConfig({displayName:"profiles__Picture",componentId:"sc-zedp98-4"})(["width:100%;max-width:150px;height:auto;border:3px solid black;cursor:pointer;"]),ii=mn.li.withConfig({displayName:"profiles__Item",componentId:"sc-zedp98-5"})(["max-height:200px;max-width:200px;list-style-type:none;text-align:center;margin-right:30px;&:hover > ","{border:3px solid white;}&:hover ","{font-weight:bold;color:white;}&:last-of-type{margin-right:0;}"],ri,ni),ai=["children"],oi=["children"],ui=["children"],si=["children"],ci=["src"],li=["children"];function fi(e){var t=e.children,n=Ue(e,ai);return(0,In.jsx)(Zr,je(je({},n),{},{children:t}))}fi.Title=function(e){var t=e.children,n=Ue(e,oi);return(0,In.jsx)(ei,je(je({},n),{},{children:t}))},fi.List=function(e){var t=e.children,n=Ue(e,ui);return(0,In.jsx)(ti,je(je({},n),{},{children:t}))},fi.User=function(e){var t=e.children,n=Ue(e,si);return(0,In.jsx)(ii,je(je({},n),{},{children:t}))},fi.Picture=function(e){var t=e.src,n=Ue(e,ci);return(0,In.jsx)(ri,je(je({},n),{},{src:t?"/images/users/".concat(t,".png"):"/images/misc/loading.gif"}))},fi.Name=function(e){var t=e.children,n=Ue(e,li);return(0,In.jsx)(ni,je(je({},n),{},{children:t}))};var hi=mn.div.withConfig({displayName:"footer__Container",componentId:"sc-1qgisi1-0"})(["display:flex;padding:70px 0;margin:auto;max-width:1000px;flex-direction:column;@media (max-width:1000px){padding:70px 30px;}"]),di=mn.div.withConfig({displayName:"footer__Column",componentId:"sc-1qgisi1-1"})(["display:flex;flex-direction:column;text-align:left;"]),pi=mn.div.withConfig({displayName:"footer__Row",componentId:"sc-1qgisi1-2"})(["display:grid;grid-template-columns:repeat(auto-fill,minmax(210px,1fr));grid-gap:15px;@media (max-width:1000px){grid-template-columns:repeat(auto-fill,minmax(150px,1fr));}"]),vi=mn.a.withConfig({displayName:"footer__Link",componentId:"sc-1qgisi1-3"})(["color:#757575;margin-bottom:20px;font-size:14px;text-decoration:none;"]),mi=mn.p.withConfig({displayName:"footer__Title",componentId:"sc-1qgisi1-4"})(["font-size:16px;color:#757575;margin-bottom:40px;"]),yi=mn.p.withConfig({displayName:"footer__Text",componentId:"sc-1qgisi1-5"})(["font-size:13px;color:#757575;margin-bottom:40px;"]),gi=mn.div.withConfig({displayName:"footer__Break",componentId:"sc-1qgisi1-6"})(["flex-basis:100%;height:0;"]),ki=["children"],wi=["children"],bi=["children"],xi=["children"],_i=["children"],Ii=["children"],Si=["children"];function Ei(e){var t=e.children,n=Ue(e,ki);return(0,In.jsx)(hi,je(je({},n),{},{children:t}))}Ei.Row=function(e){var t=e.children,n=Ue(e,wi);return(0,In.jsx)(pi,je(je({},n),{},{children:t}))},Ei.Column=function(e){var t=e.children,n=Ue(e,bi);return(0,In.jsx)(di,je(je({},n),{},{children:t}))},Ei.Link=function(e){var t=e.children,n=Ue(e,xi);return(0,In.jsx)(vi,je(je({},n),{},{children:t}))},Ei.Title=function(e){var t=e.children,n=Ue(e,_i);return(0,In.jsx)(mi,je(je({},n),{},{children:t}))},Ei.Text=function(e){var t=e.children,n=Ue(e,Ii);return(0,In.jsx)(yi,je(je({},n),{},{children:t}))},Ei.Break=function(e){var t=e.children,n=Ue(e,Si);return(0,In.jsx)(gi,je(je({},n),{},{children:t}))};var Ti,Ci,Ni,Ai,Pi=mn.div.withConfig({displayName:"header__Background",componentId:"sc-mngiqj-0"})(["display:flex;flex-direction:column;background:linear-gradient(to bottom,rgba(0,0,0,0.35),rgba(0,0,0,0.1),rgba(0,0,0,0.35)),url(",") top left / cover no-repeat;@media (max-width:1100px){","}"],(function(e){var t=e.src;return t?"../images/misc/".concat(t,".jpg"):"../images/misc/home-bg.jpg"}),(function(e){return e.dontShowOnSmallViewPort&&"background: none;"})),Ri=mn.div.withConfig({displayName:"header__Container",componentId:"sc-mngiqj-1"})(["display:flex;margin:0 56px;height:100px;justify-content:space-between;align-items:center;a{display:flex;}@media (max-width:1000px){margin:0 30px;}"]),Oi=mn.p.withConfig({displayName:"header__Link",componentId:"sc-mngiqj-2"})(["color:#fff;text-decoration:none;margin-right:30px;font-weight:",";cursor:pointer;&:hover{font-weight:bold;}&:last-of-type{margin-right:0;}"],(function(e){return"true"===e.active?"700":"normal"})),Di=mn.div.withConfig({displayName:"header__Group",componentId:"sc-mngiqj-3"})(["display:flex;align-items:center;"]),Li=mn.input.withConfig({displayName:"header__SearchInput",componentId:"sc-mngiqj-4"})(["background-color:rgba(64,64,64,0.5);color:white;border:1px solid white;transition:width 0.5s;height:30px;font-size:14px;border-radius:4px;margin-left:",";padding:",";opacity:",";width:",";&:focus{background-color:rgba(0,0,0,0.8);}"],(function(e){return!0===e.active?"10px":"0"}),(function(e){return!0===e.active?"0 10px":"0"}),(function(e){return!0===e.active?"1":"0"}),(function(e){return!0===e.active?"200px":"0px"})),Mi=mn.div.withConfig({displayName:"header__Search",componentId:"sc-mngiqj-5"})(["display:flex;align-items:center;svg{color:white;cursor:pointer;}@media (max-width:700px){display:none;}"]),Fi=mn.button.withConfig({displayName:"header__SearchIcon",componentId:"sc-mngiqj-6"})(["cursor:pointer;background-color:transparent;border:0;outline:0;height:32px;width:32px;padding:0;display:flex;align-items:center;justify-content:center;img{filter:brightness(0) invert(1);width:16px;}"]),ji=mn(Te).withConfig({displayName:"header__ButtonLink",componentId:"sc-mngiqj-7"})(["display:block;background-color:#e50914;width:84px;height:fit-content;color:white;border:0;font-size:15px;border-radius:3px;padding:8px 17px;cursor:pointer;text-decoration:none;&:hover{background:#f40612;}"]),Ui=mn.button.withConfig({displayName:"header__Picture",componentId:"sc-mngiqj-8"})(["background:url(",");background-size:contain;border:0;width:32px;height:32px;cursor:pointer;"],(function(e){return e.src})),Vi=mn.div.withConfig({displayName:"header__Dropdown",componentId:"sc-mngiqj-9"})(["display:none;position:absolute;background-color:black;padding:10px;width:100px;top:32px;right:10px;",":last-of-type ","{cursor:pointer;}","{margin-bottom:10px;&:last-of-type{margin-bottom:0;}","{cursor:pointer;}","{cursor:default;}}button{margin-right:10px;}p{font-size:12px;margin-bottom:0;margin-top:0;}"],Di,Oi,Di,Oi,Ui),zi=mn.div.withConfig({displayName:"header__Profile",componentId:"sc-mngiqj-10"})(["display:flex;align-items:center;margin-left:20px;position:relative;button{cursor:pointer;}&:hover > ","{display:flex;flex-direction:column;}"],Vi),Bi=mn(Ri).withConfig({displayName:"header__Feature",componentId:"sc-mngiqj-11"})(["padding:150px 0 500px 0;flex-direction:column;align-items:normal;width:50%;@media (max-width:1100px){display:none;}"]),qi=mn.h2.withConfig({displayName:"header__FeatureCallOut",componentId:"sc-mngiqj-12"})(["color:white;font-size:50px;line-height:normal;font-weight:bold;text-shadow:2px 2px 4px rgba(0,0,0,0.45);margin:0;"]),Wi=mn.p.withConfig({displayName:"header__Text",componentId:"sc-mngiqj-13"})(["color:white;font-size:22px;line-height:normal;text-shadow:2px 2px 4px rgba(0,0,0,0.45);"]),Ki=mn.img.withConfig({displayName:"header__Logo",componentId:"sc-mngiqj-14"})(["height:36px;width:134px;margin-right:40px;@media (min-width:1449px){height:45px;width:167px;}"]),Gi=mn.button.withConfig({displayName:"header__PlayButton",componentId:"sc-mngiqj-15"})(["box-shadow:0 0.6vw 1vw -0.4vw rgba(0,0,0,0.35);background-color:#e6e6e6;color:#000;border-width:0;padding:10px 20px;border-radius:5px;max-width:130px;font-weight:bold;font-size:20px;margin-top:10px;cursor:pointer;transition:background-color 0.5s ease;&:hover{background-color:#ff1e1e;color:white;}"]),Hi=["bg","children"],Qi=["children"],$i=["children"],Yi=["to"],Ji=["searchTerm","setSearchTerm"],Xi=["children"],Zi=["children"],ea=["src"],ta=["children"],na=["children"],ra=["children"],ia=["children"],aa=["children"],oa=["children"];function ua(e){var t=e.bg,n=void 0===t||t,r=e.children,i=Ue(e,Hi);return n?(0,In.jsx)(Pi,je(je({"data-testid":"header-bg"},i),{},{children:r})):r}function sa(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}ua.Frame=function(e){var t=e.children,n=Ue(e,Qi);return(0,In.jsx)(Ri,je(je({},n),{},{children:t}))},ua.Group=function(e){var t=e.children,n=Ue(e,$i);return(0,In.jsx)(Di,je(je({},n),{},{children:t}))},ua.Logo=function(e){var t=e.to,n=Ue(e,Yi);return(0,In.jsx)(Te,{to:t,children:(0,In.jsx)(Ki,je({},n))})},ua.Search=function(e){var n=e.searchTerm,r=e.setSearchTerm,i=Ue(e,Ji),a=Le((0,t.useState)(!1),2),o=a[0],u=a[1];return(0,In.jsxs)(Mi,je(je({},i),{},{children:[(0,In.jsx)(Fi,{onClick:function(){return u((function(e){return!e}))},"data-testid":"search-click",children:(0,In.jsx)("img",{src:"/images/icons/search.png",alt:"Search"})}),(0,In.jsx)(Li,{value:n,onChange:function(e){var t=e.target;return r(t.value)},placeholder:"Search films and series",active:o,"data-testid":"search-input"})]}))},ua.Profile=function(e){var t=e.children,n=Ue(e,Xi);return(0,In.jsx)(zi,je(je({},n),{},{children:t}))},ua.Feature=function(e){var t=e.children;Ue(e,Zi);return(0,In.jsx)(Bi,{children:t})},ua.Picture=function(e){var t=e.src,n=Ue(e,ea);return(0,In.jsx)(Ui,je(je({},n),{},{src:"/images/users/".concat(t,".png")}))},ua.Dropdown=function(e){var t=e.children,n=Ue(e,ta);return(0,In.jsx)(Vi,je(je({},n),{},{children:t}))},ua.TextLink=function(e){var t=e.children,n=Ue(e,na);return(0,In.jsx)(Oi,je(je({},n),{},{children:t}))},ua.PlayButton=function(e){var t=e.children,n=Ue(e,ra);return(0,In.jsx)(Gi,je(je({},n),{},{children:t}))},ua.FeatureCallOut=function(e){var t=e.children,n=Ue(e,ia);return(0,In.jsx)(qi,je(je({},n),{},{children:t}))},ua.Text=function(e){var t=e.children,n=Ue(e,aa);return(0,In.jsx)(Wi,je(je({},n),{},{children:t}))},ua.ButtonLink=function(e){var t=e.children,n=Ue(e,oa);return(0,In.jsx)(ji,je(je({},n),{},{children:t}))};var ca=vn(Ti||(Ti=sa(["\n  body {\n    overflow: hidden;\n  }\n"]))),la=vn(Ci||(Ci=sa(["\n  body {\n    overflow: visible;\n  }\n"]))),fa=mn.div(Ni||(Ni=sa(["\n  position: fixed;\n  width: 100%;\n  height: 100%;\n  background-color: black;\n  z-index: 999;\n\n  :after {\n    content: '';\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    background-image: url(/images/misc/spinner.png);\n    background-size: contain;\n    background-repeat: no-repeat;\n    margin-top: -150px;\n    margin-left: -75px;\n    width: 150px;\n    height: 150px;\n    animation-name: spin;\n    animation-duration: 1000ms;\n    animation-iteration-count: infinite;\n    animation-timing-function: linear;\n  }\n\n  @-ms-keyframes spin {\n    from {\n      -ms-transform: rotate(0deg);\n    }\n    to {\n      -ms-transform: rotate(360deg);\n    }\n  }\n\n  @-moz-keyframes spin {\n    from {\n      -moz-transform: rotate(0deg);\n    }\n    to {\n      -moz-transform: rotate(360deg);\n    }\n  }\n\n  @-webkit-keyframes spin {\n    from {\n      -webkit-transform: rotate(0deg);\n    }\n    to {\n      -webkit-transform: rotate(360deg);\n    }\n  }\n\n  @keyframes spin {\n    from {\n      transform: rotate(0deg);\n    }\n    to {\n      transform: rotate(360deg);\n    }\n  }\n"]))),ha=mn.img(Ai||(Ai=sa(["\n  width: 50px;\n  height: 50px;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-top: -100px;\n  margin-left: -22px;\n"]))),da=["src"];function pa(e){var t=e.src,n=Ue(e,da);return(0,In.jsxs)(fa,je(je({},n),{},{children:[(0,In.jsx)(ca,{}),(0,In.jsx)(ha,{src:"/images/users/".concat(t,".png"),"data-testid":"loading-picture"})]}))}pa.ReleaseBody=function(){return(0,In.jsx)(la,{})};var va=n(164),ma=mn.div.withConfig({displayName:"player__Container",componentId:"sc-6uc4ze-0"})([""]),ya=mn.div.withConfig({displayName:"player__Overlay",componentId:"sc-6uc4ze-1"})(["display:flex;flex-direction:column;justify-content:center;position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.75);margin:0 20px;"]),ga=mn.div.withConfig({displayName:"player__Inner",componentId:"sc-6uc4ze-2"})(["position:relative;width:100%;max-width:900px;margin:auto;video{height:100%;width:100%;}"]),ka=mn.button.withConfig({displayName:"player__Close",componentId:"sc-6uc4ze-3"})(["position:absolute;right:15px;top:15px;width:22px;height:22px;opacity:0.3;background-color:transparent;border:0;cursor:pointer;&:hover{opacity:1;}&:before,&:after{position:absolute;left:10px;top:0;content:' ';height:22px;width:2px;background-color:#333;}&:before{transform:rotate(45deg);}&:after{transform:rotate(-45deg);}"]),wa=mn.button.withConfig({displayName:"player__Button",componentId:"sc-6uc4ze-4"})(["background-color:#e50914;border-color:#ff0a16;width:115px;height:45px;text-transform:uppercase;font-weight:bold;color:white;font-size:18px;height:45px;cursor:pointer;display:flex;align-items:center;justify-content:center;padding-left:0;&:hover{transform:scale(1.05);background-color:#ff0a16;}"]),ba=["children"],xa=["src"],_a=(0,t.createContext)();function Ia(e){var n=e.children,r=Ue(e,ba),i=Le((0,t.useState)(!1),2),a=i[0],o=i[1];return(0,In.jsx)(_a.Provider,{value:{showPlayer:a,setShowPlayer:o},children:(0,In.jsx)(ma,je(je({},r),{},{children:n}))})}function Sa(){return(0,In.jsx)(yr.Container,{children:Ae.map((function(e){return(0,In.jsxs)(yr,{direction:e.direction,children:[(0,In.jsxs)(yr.Pane,{children:[(0,In.jsx)(yr.Title,{children:e.title}),(0,In.jsx)(yr.SubTitle,{children:e.subTitle})]}),(0,In.jsx)(yr.Pane,{children:(0,In.jsx)(yr.Image,{src:e.image,alt:e.alt})})]},e.id)}))})}Ia.Video=function(e){var n=e.src,r=(Ue(e,xa),(0,t.useContext)(_a)),i=r.showPlayer,a=r.setShowPlayer;return i?va.createPortal((0,In.jsx)(ya,{onClick:function(){return a(!1)},"data-testid":"player",children:(0,In.jsxs)(ga,{children:[(0,In.jsx)("video",{id:"netflix-player",controls:!0,children:(0,In.jsx)("source",{src:n,type:"video/mp4"})}),(0,In.jsx)(ka,{})]})}),document.body):null},Ia.Button=function(e){var n=Object.assign({},e),r=(0,t.useContext)(_a),i=(r.showPlayer,r.setShowPlayer);return(0,In.jsx)(wa,je(je({onClick:function(){return i((function(e){return!e}))}},n),{},{children:"Play"}))};var Ea=JSON.parse('[{"id":1,"header":"What is Netflix?","body":"Netflix is a streaming service that offers a wide variety of award-winning TV programmes, films, anime, documentaries and more \u2013 on thousands of internet-connected devices.\\n\\nYou can watch as much as you want, whenever you want, without a single advert \u2013 all for one low monthly price. There\'s always something new to discover, and new TV programmes and films are added every week!"},{"id":2,"header":"How much does Netflix cost?","body":"Watch Netflix on your smartphone, tablet, smart TV, laptop or streaming device, all for one low fixed monthly fee. Plans start from \xa35.99 a month. No extra costs or contracts."},{"id":3,"header":"Where can I watch?","body":"Watch anywhere, anytime, on an unlimited number of devices. Sign in with your Netflix account to watch instantly on the web at netflix.com from your personal computer or on any internet-connected device that offers the Netflix app, including smart TVs, smartphones, tablets, streaming media players and game consoles.\\n\\nYou can also download your favourite programmes with the iOS, Android, or Windows 10 app. Use downloads to watch while you\'re on the go and without an internet connection. Take Netflix with you anywhere."},{"id":4,"header":"How do I cancel?","body":"Netflix is flexible. There are no annoying contracts and no commitments. You can easily cancel your account online in two clicks. There are no cancellation fees \u2013 start or stop your account at any time."},{"id":5,"header":"What can I watch on Netflix?","body":"Netflix has an extensive library of feature films, documentaries, TV programmes, anime, award-winning Netflix originals, and more. Watch as much as you want, any time you want."}]');function Ta(){return(0,In.jsxs)(Rn,{children:[(0,In.jsx)(Rn.Title,{children:"Frequently Asked Questions"}),(0,In.jsx)(Rn.Frame,{children:Ea.map((function(e){return(0,In.jsxs)(Rn.Item,{children:[(0,In.jsx)(Rn.Header,{children:e.header}),(0,In.jsx)(Rn.Body,{children:e.body})]},e.id)}))}),(0,In.jsxs)(Or,{children:[(0,In.jsx)(Or.Input,{placeholder:"Email address"}),(0,In.jsx)(Or.Button,{children:"Try it now"}),(0,In.jsx)(Or.Break,{}),(0,In.jsx)(Or.Text,{children:"Ready to watch? Enter your email to create or restart your membership."})]})]})}function Ca(){return(0,In.jsxs)(Ei,{children:[(0,In.jsx)(Ei.Title,{children:"Questions? Contact us."}),(0,In.jsx)(Ei.Break,{}),(0,In.jsxs)(Ei.Row,{children:[(0,In.jsxs)(Ei.Column,{children:[(0,In.jsx)(Ei.Link,{href:"#",children:"FAQ"}),(0,In.jsx)(Ei.Link,{href:"#",children:"Investor Relations"}),(0,In.jsx)(Ei.Link,{href:"#",children:"Ways to Watch"}),(0,In.jsx)(Ei.Link,{href:"#",children:"Corporate Information"}),(0,In.jsx)(Ei.Link,{href:"#",children:"Netflix Originals"})]}),(0,In.jsxs)(Ei.Column,{children:[(0,In.jsx)(Ei.Link,{href:"#",children:"Help Centre"}),(0,In.jsx)(Ei.Link,{href:"#",children:"Jobs"}),(0,In.jsx)(Ei.Link,{href:"#",children:"Terms of Use"}),(0,In.jsx)(Ei.Link,{href:"#",children:"Contact Us"})]}),(0,In.jsxs)(Ei.Column,{children:[(0,In.jsx)(Ei.Link,{href:"#",children:"Account"}),(0,In.jsx)(Ei.Link,{href:"#",children:"Redeem gift cards"}),(0,In.jsx)(Ei.Link,{href:"#",children:"Privacy"}),(0,In.jsx)(Ei.Link,{href:"#",children:"Speed Test"})]}),(0,In.jsxs)(Ei.Column,{children:[(0,In.jsx)(Ei.Link,{href:"#",children:"Media Centre"}),(0,In.jsx)(Ei.Link,{href:"#",children:"Buy gift cards"}),(0,In.jsx)(Ei.Link,{href:"#",children:"Cookie Preferences"}),(0,In.jsx)(Ei.Link,{href:"#",children:"Legal Notices"})]})]}),(0,In.jsx)(Ei.Break,{}),(0,In.jsx)(Ei.Text,{children:"Netflix United Kingdom"})]})}var Na="/",Aa="/browse",Pa="/signin";var Ra=n.p+"static/media/logo.5787551b8de42aef368c379572555ada.svg";function Oa(e){var t=e.children;return(0,In.jsxs)(ua,{children:[(0,In.jsxs)(ua.Frame,{children:[(0,In.jsx)(ua.Logo,{to:Na,src:Ra,alt:"Netflix"}),(0,In.jsx)(ua.ButtonLink,{to:Pa,children:"Sign In"})]}),t]})}function Da(){return(0,In.jsxs)(In.Fragment,{children:[(0,In.jsxs)(Oa,{children:[(0,In.jsxs)(Ir,{children:[(0,In.jsx)(Ir.Title,{children:"Unlimited films, TV, Programmes and more."}),(0,In.jsx)(Ir.Title,{children:"Watch anywhere. Cancel at any time."})]}),(0,In.jsxs)(Or,{children:[(0,In.jsx)(Or.Input,{placeholder:"Email address"}),(0,In.jsx)(Or.Button,{children:"Try it now"}),(0,In.jsx)(Or.Break,{}),(0,In.jsx)(Or.Text,{children:"Ready to watch? Enter your email to create or restart your membership."})]})]}),(0,In.jsx)(Sa,{}),(0,In.jsx)(Ta,{}),(0,In.jsx)(Ca,{})]})}function La(e,t){return La=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},La(e,t)}function Ma(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&La(e,t)}function Fa(e){return Fa=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)},Fa(e)}function ja(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}function Ua(e){return Ua="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ua(e)}function Va(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function za(e,t){if(t&&("object"===Ua(t)||"function"===typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return Va(e)}function Ba(e){var t=ja();return function(){var n,r=Fa(e);if(t){var i=Fa(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return za(this,n)}}function qa(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}function Wa(e){return function(e){if(Array.isArray(e))return Re(e)}(e)||qa(e)||Oe(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ka(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Ga(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ha(e,t,n){return t&&Ga(e.prototype,t),n&&Ga(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function Qa(e){return Array.isArray?Array.isArray(e):"[object Array]"===to(e)}function $a(e){return"string"===typeof e}function Ya(e){return"number"===typeof e}function Ja(e){return!0===e||!1===e||function(e){return Xa(e)&&null!==e}(e)&&"[object Boolean]"==to(e)}function Xa(e){return"object"===typeof e}function Za(e){return void 0!==e&&null!==e}function eo(e){return!e.trim().length}function to(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":Object.prototype.toString.call(e)}var no=function(e){return"Invalid value for key ".concat(e)},ro=function(e){return"Pattern length exceeds max of ".concat(e,".")},io=Object.prototype.hasOwnProperty,ao=function(){function e(t){var n=this;Ka(this,e),this._keys=[],this._keyMap={};var r=0;t.forEach((function(e){var t=oo(e);r+=t.weight,n._keys.push(t),n._keyMap[t.id]=t,r+=t.weight})),this._keys.forEach((function(e){e.weight/=r}))}return Ha(e,[{key:"get",value:function(e){return this._keyMap[e]}},{key:"keys",value:function(){return this._keys}},{key:"toJSON",value:function(){return JSON.stringify(this._keys)}}]),e}();function oo(e){var t=null,n=null,r=null,i=1,a=null;if($a(e)||Qa(e))r=e,t=uo(e),n=so(e);else{if(!io.call(e,"name"))throw new Error(function(e){return"Missing ".concat(e," property in key")}("name"));var o=e.name;if(r=o,io.call(e,"weight")&&(i=e.weight)<=0)throw new Error(function(e){return"Property 'weight' in key '".concat(e,"' must be a positive integer")}(o));t=uo(o),n=so(o),a=e.getFn}return{path:t,id:n,weight:i,src:r,getFn:a}}function uo(e){return Qa(e)?e:e.split(".")}function so(e){return Qa(e)?e.join("."):e}var co={useExtendedSearch:!1,getFn:function(e,t){var n=[],r=!1;return function e(t,i,a){if(Za(t))if(i[a]){var o=t[i[a]];if(!Za(o))return;if(a===i.length-1&&($a(o)||Ya(o)||Ja(o)))n.push(function(e){return null==e?"":function(e){if("string"==typeof e)return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}(e)}(o));else if(Qa(o)){r=!0;for(var u=0,s=o.length;u<s;u+=1)e(o[u],i,a+1)}else i.length&&e(o,i,a+1)}else n.push(t)}(e,$a(t)?t.split("."):t,0),r?n:n[0]},ignoreLocation:!1,ignoreFieldNorm:!1,fieldNormWeight:1},lo=je(je(je(je({},{isCaseSensitive:!1,includeScore:!1,keys:[],shouldSort:!0,sortFn:function(e,t){return e.score===t.score?e.idx<t.idx?-1:1:e.score<t.score?-1:1}}),{includeMatches:!1,findAllMatches:!1,minMatchCharLength:1}),{location:0,threshold:.6,distance:100}),co),fo=/[^ ]+/g;function ho(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3,n=new Map,r=Math.pow(10,t);return{get:function(t){var i=t.match(fo).length;if(n.has(i))return n.get(i);var a=1/Math.pow(i,.5*e),o=parseFloat(Math.round(a*r)/r);return n.set(i,o),o},clear:function(){n.clear()}}}var po=function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.getFn,r=void 0===n?lo.getFn:n,i=t.fieldNormWeight,a=void 0===i?lo.fieldNormWeight:i;Ka(this,e),this.norm=ho(a,3),this.getFn=r,this.isCreated=!1,this.setIndexRecords()}return Ha(e,[{key:"setSources",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.docs=e}},{key:"setIndexRecords",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.records=e}},{key:"setKeys",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];this.keys=t,this._keysMap={},t.forEach((function(t,n){e._keysMap[t.id]=n}))}},{key:"create",value:function(){var e=this;!this.isCreated&&this.docs.length&&(this.isCreated=!0,$a(this.docs[0])?this.docs.forEach((function(t,n){e._addString(t,n)})):this.docs.forEach((function(t,n){e._addObject(t,n)})),this.norm.clear())}},{key:"add",value:function(e){var t=this.size();$a(e)?this._addString(e,t):this._addObject(e,t)}},{key:"removeAt",value:function(e){this.records.splice(e,1);for(var t=e,n=this.size();t<n;t+=1)this.records[t].i-=1}},{key:"getValueForItemAtKeyId",value:function(e,t){return e[this._keysMap[t]]}},{key:"size",value:function(){return this.records.length}},{key:"_addString",value:function(e,t){if(Za(e)&&!eo(e)){var n={v:e,i:t,n:this.norm.get(e)};this.records.push(n)}}},{key:"_addObject",value:function(e,t){var n=this,r={i:t,$:{}};this.keys.forEach((function(t,i){var a=t.getFn?t.getFn(e):n.getFn(e,t.path);if(Za(a))if(Qa(a))!function(){for(var e=[],t=[{nestedArrIndex:-1,value:a}];t.length;){var o=t.pop(),u=o.nestedArrIndex,s=o.value;if(Za(s))if($a(s)&&!eo(s)){var c={v:s,i:u,n:n.norm.get(s)};e.push(c)}else Qa(s)&&s.forEach((function(e,n){t.push({nestedArrIndex:n,value:e})}))}r.$[i]=e}();else if($a(a)&&!eo(a)){var o={v:a,n:n.norm.get(a)};r.$[i]=o}})),this.records.push(r)}},{key:"toJSON",value:function(){return{keys:this.keys,records:this.records}}}]),e}();function vo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.getFn,i=void 0===r?lo.getFn:r,a=n.fieldNormWeight,o=void 0===a?lo.fieldNormWeight:a,u=new po({getFn:i,fieldNormWeight:o});return u.setKeys(e.map(oo)),u.setSources(t),u.create(),u}function mo(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.errors,r=void 0===n?0:n,i=t.currentLocation,a=void 0===i?0:i,o=t.expectedLocation,u=void 0===o?0:o,s=t.distance,c=void 0===s?lo.distance:s,l=t.ignoreLocation,f=void 0===l?lo.ignoreLocation:l,h=r/e.length;if(f)return h;var d=Math.abs(u-a);return c?h+d/c:d?1:h}function yo(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:lo.minMatchCharLength,n=[],r=-1,i=-1,a=0,o=e.length;a<o;a+=1){var u=e[a];u&&-1===r?r=a:u||-1===r||((i=a-1)-r+1>=t&&n.push([r,i]),r=-1)}return e[a-1]&&a-r>=t&&n.push([r,a-1]),n}var go=32;function ko(e){for(var t={},n=0,r=e.length;n<r;n+=1){var i=e.charAt(n);t[i]=(t[i]||0)|1<<r-n-1}return t}var wo=function(){function e(t){var n=this,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=r.location,a=void 0===i?lo.location:i,o=r.threshold,u=void 0===o?lo.threshold:o,s=r.distance,c=void 0===s?lo.distance:s,l=r.includeMatches,f=void 0===l?lo.includeMatches:l,h=r.findAllMatches,d=void 0===h?lo.findAllMatches:h,p=r.minMatchCharLength,v=void 0===p?lo.minMatchCharLength:p,m=r.isCaseSensitive,y=void 0===m?lo.isCaseSensitive:m,g=r.ignoreLocation,k=void 0===g?lo.ignoreLocation:g;if(Ka(this,e),this.options={location:a,threshold:u,distance:c,includeMatches:f,findAllMatches:d,minMatchCharLength:v,isCaseSensitive:y,ignoreLocation:k},this.pattern=y?t:t.toLowerCase(),this.chunks=[],this.pattern.length){var w=function(e,t){n.chunks.push({pattern:e,alphabet:ko(e),startIndex:t})},b=this.pattern.length;if(b>go){for(var x=0,_=b%go,I=b-_;x<I;)w(this.pattern.substr(x,go),x),x+=go;if(_){var S=b-go;w(this.pattern.substr(S),S)}}else w(this.pattern,0)}}return Ha(e,[{key:"searchIn",value:function(e){var t=this.options,n=t.isCaseSensitive,r=t.includeMatches;if(n||(e=e.toLowerCase()),this.pattern===e){var i={isMatch:!0,score:0};return r&&(i.indices=[[0,e.length-1]]),i}var a=this.options,o=a.location,u=a.distance,s=a.threshold,c=a.findAllMatches,l=a.minMatchCharLength,f=a.ignoreLocation,h=[],d=0,p=!1;this.chunks.forEach((function(t){var n=t.pattern,i=t.alphabet,a=t.startIndex,v=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.location,a=void 0===i?lo.location:i,o=r.distance,u=void 0===o?lo.distance:o,s=r.threshold,c=void 0===s?lo.threshold:s,l=r.findAllMatches,f=void 0===l?lo.findAllMatches:l,h=r.minMatchCharLength,d=void 0===h?lo.minMatchCharLength:h,p=r.includeMatches,v=void 0===p?lo.includeMatches:p,m=r.ignoreLocation,y=void 0===m?lo.ignoreLocation:m;if(t.length>go)throw new Error(ro(go));for(var g,k=t.length,w=e.length,b=Math.max(0,Math.min(a,w)),x=c,_=b,I=d>1||v,S=I?Array(w):[];(g=e.indexOf(t,_))>-1;){var E=mo(t,{currentLocation:g,expectedLocation:b,distance:u,ignoreLocation:y});if(x=Math.min(E,x),_=g+k,I)for(var T=0;T<k;)S[g+T]=1,T+=1}_=-1;for(var C=[],N=1,A=k+w,P=1<<k-1,R=0;R<k;R+=1){for(var O=0,D=A;O<D;){mo(t,{errors:R,currentLocation:b+D,expectedLocation:b,distance:u,ignoreLocation:y})<=x?O=D:A=D,D=Math.floor((A-O)/2+O)}A=D;var L=Math.max(1,b-D+1),M=f?w:Math.min(b+D,w)+k,F=Array(M+2);F[M+1]=(1<<R)-1;for(var j=M;j>=L;j-=1){var U=j-1,V=n[e.charAt(U)];if(I&&(S[U]=+!!V),F[j]=(F[j+1]<<1|1)&V,R&&(F[j]|=(C[j+1]|C[j])<<1|1|C[j+1]),F[j]&P&&(N=mo(t,{errors:R,currentLocation:U,expectedLocation:b,distance:u,ignoreLocation:y}))<=x){if(x=N,(_=U)<=b)break;L=Math.max(1,2*b-_)}}if(mo(t,{errors:R+1,currentLocation:b,expectedLocation:b,distance:u,ignoreLocation:y})>x)break;C=F}var z={isMatch:_>=0,score:Math.max(.001,N)};if(I){var B=yo(S,d);B.length?v&&(z.indices=B):z.isMatch=!1}return z}(e,n,i,{location:o+a,distance:u,threshold:s,findAllMatches:c,minMatchCharLength:l,includeMatches:r,ignoreLocation:f}),m=v.isMatch,y=v.score,g=v.indices;m&&(p=!0),d+=y,m&&g&&(h=[].concat(Wa(h),Wa(g)))}));var v={isMatch:p,score:p?d/this.chunks.length:1};return p&&r&&(v.indices=h),v}}]),e}(),bo=function(){function e(t){Ka(this,e),this.pattern=t}return Ha(e,[{key:"search",value:function(){}}],[{key:"isMultiMatch",value:function(e){return xo(e,this.multiRegex)}},{key:"isSingleMatch",value:function(e){return xo(e,this.singleRegex)}}]),e}();function xo(e,t){var n=e.match(t);return n?n[1]:null}var _o=function(e){Ma(n,e);var t=Ba(n);function n(e){return Ka(this,n),t.call(this,e)}return Ha(n,[{key:"search",value:function(e){var t=e===this.pattern;return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"exact"}},{key:"multiRegex",get:function(){return/^="(.*)"$/}},{key:"singleRegex",get:function(){return/^=(.*)$/}}]),n}(bo),Io=function(e){Ma(n,e);var t=Ba(n);function n(e){return Ka(this,n),t.call(this,e)}return Ha(n,[{key:"search",value:function(e){var t=-1===e.indexOf(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"$/}},{key:"singleRegex",get:function(){return/^!(.*)$/}}]),n}(bo),So=function(e){Ma(n,e);var t=Ba(n);function n(e){return Ka(this,n),t.call(this,e)}return Ha(n,[{key:"search",value:function(e){var t=e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,this.pattern.length-1]}}}],[{key:"type",get:function(){return"prefix-exact"}},{key:"multiRegex",get:function(){return/^\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^\^(.*)$/}}]),n}(bo),Eo=function(e){Ma(n,e);var t=Ba(n);function n(e){return Ka(this,n),t.call(this,e)}return Ha(n,[{key:"search",value:function(e){var t=!e.startsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-prefix-exact"}},{key:"multiRegex",get:function(){return/^!\^"(.*)"$/}},{key:"singleRegex",get:function(){return/^!\^(.*)$/}}]),n}(bo),To=function(e){Ma(n,e);var t=Ba(n);function n(e){return Ka(this,n),t.call(this,e)}return Ha(n,[{key:"search",value:function(e){var t=e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[e.length-this.pattern.length,e.length-1]}}}],[{key:"type",get:function(){return"suffix-exact"}},{key:"multiRegex",get:function(){return/^"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^(.*)\$$/}}]),n}(bo),Co=function(e){Ma(n,e);var t=Ba(n);function n(e){return Ka(this,n),t.call(this,e)}return Ha(n,[{key:"search",value:function(e){var t=!e.endsWith(this.pattern);return{isMatch:t,score:t?0:1,indices:[0,e.length-1]}}}],[{key:"type",get:function(){return"inverse-suffix-exact"}},{key:"multiRegex",get:function(){return/^!"(.*)"\$$/}},{key:"singleRegex",get:function(){return/^!(.*)\$$/}}]),n}(bo),No=function(e){Ma(n,e);var t=Ba(n);function n(e){var r,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=i.location,o=void 0===a?lo.location:a,u=i.threshold,s=void 0===u?lo.threshold:u,c=i.distance,l=void 0===c?lo.distance:c,f=i.includeMatches,h=void 0===f?lo.includeMatches:f,d=i.findAllMatches,p=void 0===d?lo.findAllMatches:d,v=i.minMatchCharLength,m=void 0===v?lo.minMatchCharLength:v,y=i.isCaseSensitive,g=void 0===y?lo.isCaseSensitive:y,k=i.ignoreLocation,w=void 0===k?lo.ignoreLocation:k;return Ka(this,n),(r=t.call(this,e))._bitapSearch=new wo(e,{location:o,threshold:s,distance:l,includeMatches:h,findAllMatches:p,minMatchCharLength:m,isCaseSensitive:g,ignoreLocation:w}),r}return Ha(n,[{key:"search",value:function(e){return this._bitapSearch.searchIn(e)}}],[{key:"type",get:function(){return"fuzzy"}},{key:"multiRegex",get:function(){return/^"(.*)"$/}},{key:"singleRegex",get:function(){return/^(.*)$/}}]),n}(bo),Ao=function(e){Ma(n,e);var t=Ba(n);function n(e){return Ka(this,n),t.call(this,e)}return Ha(n,[{key:"search",value:function(e){for(var t,n=0,r=[],i=this.pattern.length;(t=e.indexOf(this.pattern,n))>-1;)n=t+i,r.push([t,n-1]);var a=!!r.length;return{isMatch:a,score:a?0:1,indices:r}}}],[{key:"type",get:function(){return"include"}},{key:"multiRegex",get:function(){return/^'"(.*)"$/}},{key:"singleRegex",get:function(){return/^'(.*)$/}}]),n}(bo),Po=[_o,Ao,So,Eo,Co,To,Io,No],Ro=Po.length,Oo=/ +(?=(?:[^\"]*\"[^\"]*\")*[^\"]*$)/;function Do(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.split("|").map((function(e){for(var n=e.trim().split(Oo).filter((function(e){return e&&!!e.trim()})),r=[],i=0,a=n.length;i<a;i+=1){for(var o=n[i],u=!1,s=-1;!u&&++s<Ro;){var c=Po[s],l=c.isMultiMatch(o);l&&(r.push(new c(l,t)),u=!0)}if(!u)for(s=-1;++s<Ro;){var f=Po[s],h=f.isSingleMatch(o);if(h){r.push(new f(h,t));break}}}return r}))}var Lo=new Set([No.type,Ao.type]),Mo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.isCaseSensitive,i=void 0===r?lo.isCaseSensitive:r,a=n.includeMatches,o=void 0===a?lo.includeMatches:a,u=n.minMatchCharLength,s=void 0===u?lo.minMatchCharLength:u,c=n.ignoreLocation,l=void 0===c?lo.ignoreLocation:c,f=n.findAllMatches,h=void 0===f?lo.findAllMatches:f,d=n.location,p=void 0===d?lo.location:d,v=n.threshold,m=void 0===v?lo.threshold:v,y=n.distance,g=void 0===y?lo.distance:y;Ka(this,e),this.query=null,this.options={isCaseSensitive:i,includeMatches:o,minMatchCharLength:s,findAllMatches:h,ignoreLocation:l,location:p,threshold:m,distance:g},this.pattern=i?t:t.toLowerCase(),this.query=Do(this.pattern,this.options)}return Ha(e,[{key:"searchIn",value:function(e){var t=this.query;if(!t)return{isMatch:!1,score:1};var n=this.options,r=n.includeMatches;e=n.isCaseSensitive?e:e.toLowerCase();for(var i=0,a=[],o=0,u=0,s=t.length;u<s;u+=1){var c=t[u];a.length=0,i=0;for(var l=0,f=c.length;l<f;l+=1){var h=c[l],d=h.search(e),p=d.isMatch,v=d.indices,m=d.score;if(!p){o=0,i=0,a.length=0;break}if(i+=1,o+=m,r){var y=h.constructor.type;Lo.has(y)?a=[].concat(Wa(a),Wa(v)):a.push(v)}}if(i){var g={isMatch:!0,score:o/i};return r&&(g.indices=a),g}}return{isMatch:!1,score:1}}}],[{key:"condition",value:function(e,t){return t.useExtendedSearch}}]),e}(),Fo=[];function jo(e,t){for(var n=0,r=Fo.length;n<r;n+=1){var i=Fo[n];if(i.condition(e,t))return new i(e,t)}return new wo(e,t)}var Uo="$and",Vo="$or",zo="$path",Bo="$val",qo=function(e){return!(!e[Uo]&&!e[Vo])},Wo=function(e){return!!e[zo]},Ko=function(e){return!Qa(e)&&Xa(e)&&!qo(e)},Go=function(e){return Me({},Uo,Object.keys(e).map((function(t){return Me({},t,e[t])})))};function Ho(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.auto,i=void 0===r||r,a=function e(n){var r=Object.keys(n),a=Wo(n);if(!a&&r.length>1&&!qo(n))return e(Go(n));if(Ko(n)){var o=a?n[zo]:r[0],u=a?n[Bo]:n[o];if(!$a(u))throw new Error(no(o));var s={keyId:so(o),pattern:u};return i&&(s.searcher=jo(u,t)),s}var c={children:[],operator:r[0]};return r.forEach((function(t){var r=n[t];Qa(r)&&r.forEach((function(t){c.children.push(e(t))}))})),c};return qo(e)||(e=Go(e)),a(e)}function Qo(e,t){var n=t.ignoreFieldNorm,r=void 0===n?lo.ignoreFieldNorm:n;e.forEach((function(e){var t=1;e.matches.forEach((function(e){var n=e.key,i=e.norm,a=e.score,o=n?n.weight:null;t*=Math.pow(0===a&&o?Number.EPSILON:a,(o||1)*(r?1:i))})),e.score=t}))}function $o(e,t){var n=e.matches;t.matches=[],Za(n)&&n.forEach((function(e){if(Za(e.indices)&&e.indices.length){var n={indices:e.indices,value:e.value};e.key&&(n.key=e.key.src),e.idx>-1&&(n.refIndex=e.idx),t.matches.push(n)}}))}function Yo(e,t){t.score=e.score}function Jo(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.includeMatches,i=void 0===r?lo.includeMatches:r,a=n.includeScore,o=void 0===a?lo.includeScore:a,u=[];return i&&u.push($o),o&&u.push(Yo),e.map((function(e){var n=e.idx,r={item:t[n],refIndex:n};return u.length&&u.forEach((function(t){t(e,r)})),r}))}var Xo=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;Ka(this,e),this.options=je(je({},lo),n),this.options.useExtendedSearch,this._keyStore=new ao(this.options.keys),this.setCollection(t,r)}return Ha(e,[{key:"setCollection",value:function(e,t){if(this._docs=e,t&&!(t instanceof po))throw new Error("Incorrect 'index' type");this._myIndex=t||vo(this.options.keys,this._docs,{getFn:this.options.getFn,fieldNormWeight:this.options.fieldNormWeight})}},{key:"add",value:function(e){Za(e)&&(this._docs.push(e),this._myIndex.add(e))}},{key:"remove",value:function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:function(){return!1},t=[],n=0,r=this._docs.length;n<r;n+=1){var i=this._docs[n];e(i,n)&&(this.removeAt(n),n-=1,r-=1,t.push(i))}return t}},{key:"removeAt",value:function(e){this._docs.splice(e,1),this._myIndex.removeAt(e)}},{key:"getIndex",value:function(){return this._myIndex}},{key:"search",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.limit,r=void 0===n?-1:n,i=this.options,a=i.includeMatches,o=i.includeScore,u=i.shouldSort,s=i.sortFn,c=i.ignoreFieldNorm,l=$a(e)?$a(this._docs[0])?this._searchStringList(e):this._searchObjectList(e):this._searchLogical(e);return Qo(l,{ignoreFieldNorm:c}),u&&l.sort(s),Ya(r)&&r>-1&&(l=l.slice(0,r)),Jo(l,this._docs,{includeMatches:a,includeScore:o})}},{key:"_searchStringList",value:function(e){var t=jo(e,this.options),n=this._myIndex.records,r=[];return n.forEach((function(e){var n=e.v,i=e.i,a=e.n;if(Za(n)){var o=t.searchIn(n),u=o.isMatch,s=o.score,c=o.indices;u&&r.push({item:n,idx:i,matches:[{score:s,value:n,norm:a,indices:c}]})}})),r}},{key:"_searchLogical",value:function(e){var t=this,n=Ho(e,this.options),r=function e(n,r,i){if(!n.children){var a=n.keyId,o=n.searcher,u=t._findMatches({key:t._keyStore.get(a),value:t._myIndex.getValueForItemAtKeyId(r,a),searcher:o});return u&&u.length?[{idx:i,item:r,matches:u}]:[]}for(var s=[],c=0,l=n.children.length;c<l;c+=1){var f=e(n.children[c],r,i);if(f.length)s.push.apply(s,Wa(f));else if(n.operator===Uo)return[]}return s},i=this._myIndex.records,a={},o=[];return i.forEach((function(e){var t=e.$,i=e.i;if(Za(t)){var u=r(n,t,i);u.length&&(a[i]||(a[i]={idx:i,item:t,matches:[]},o.push(a[i])),u.forEach((function(e){var t,n=e.matches;(t=a[i].matches).push.apply(t,Wa(n))})))}})),o}},{key:"_searchObjectList",value:function(e){var t=this,n=jo(e,this.options),r=this._myIndex,i=r.keys,a=r.records,o=[];return a.forEach((function(e){var r=e.$,a=e.i;if(Za(r)){var u=[];i.forEach((function(e,i){u.push.apply(u,Wa(t._findMatches({key:e,value:r[i],searcher:n})))})),u.length&&o.push({idx:a,item:r,matches:u})}})),o}},{key:"_findMatches",value:function(e){var t=e.key,n=e.value,r=e.searcher;if(!Za(n))return[];var i=[];if(Qa(n))n.forEach((function(e){var n=e.v,a=e.i,o=e.n;if(Za(n)){var u=r.searchIn(n),s=u.isMatch,c=u.score,l=u.indices;s&&i.push({score:c,key:t,value:n,idx:a,norm:o,indices:l})}}));else{var a=n.v,o=n.n,u=r.searchIn(a),s=u.isMatch,c=u.score,l=u.indices;s&&i.push({score:c,key:t,value:a,norm:o,indices:l})}return i}}]),e}();Xo.version="6.6.2",Xo.createIndex=vo,Xo.parseIndex=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.getFn,r=void 0===n?lo.getFn:n,i=t.fieldNormWeight,a=void 0===i?lo.fieldNormWeight:i,o=e.keys,u=e.records,s=new po({getFn:r,fieldNormWeight:a});return s.setKeys(o),s.setIndexRecords(u),s},Xo.config=lo,Xo.parseQuery=Ho,function(){Fo.push.apply(Fo,arguments)}(Mo);var Zo=(0,t.createContext)(null);function eu(e){var t=e.user,n=e.setProfile;return(0,In.jsxs)(In.Fragment,{children:[(0,In.jsx)(ua,{bg:!1,children:(0,In.jsx)(ua.Frame,{children:(0,In.jsx)(ua.Logo,{to:Na,src:Ra,alt:"Netflix"})})}),(0,In.jsxs)(fi,{children:[(0,In.jsx)(fi.Title,{children:"Who's watching?"}),(0,In.jsx)(fi.List,{children:(0,In.jsxs)(fi.User,{onClick:function(){return n({displayName:t.displayName,photoURL:t.photoURL})},"data-testid":"user-profile",children:[(0,In.jsx)(fi.Picture,{src:t.photoURL}),(0,In.jsx)(fi.Name,{children:t.displayName})]})})]})]})}function tu(e){var n=e.slides,r=Le((0,t.useState)("series"),2),i=r[0],a=r[1],o=Le((0,t.useState)({}),2),u=o[0],s=o[1],c=Le((0,t.useState)(!0),2),l=c[0],f=c[1],h=Le((0,t.useState)(""),2),d=h[0],p=h[1],v=Le((0,t.useState)([]),2),m=v[0],y=v[1],g=(0,t.useContext)(Zo).firebase,k=g.auth().currentUser||{};return(0,t.useEffect)((function(){setTimeout((function(){f(!1)}),3e3)}),[u.displayName]),(0,t.useEffect)((function(){y(n[i])}),[n,i]),(0,t.useEffect)((function(){var e=new Xo(m,{keys:["data.description","data.title","data.genre"]}).search(d).map((function(e){return e.item}));m.length>0&&d.length>3&&e.length>0?y(e):y(n[i])}),[d]),u.displayName?(0,In.jsxs)(In.Fragment,{children:[l?(0,In.jsx)(pa,{src:k.photoURL}):(0,In.jsx)(pa.ReleaseBody,{}),(0,In.jsxs)(ua,{src:"joker1",dontShowOnSmallViewPort:!0,children:[(0,In.jsxs)(ua.Frame,{children:[(0,In.jsxs)(ua.Group,{children:[(0,In.jsx)(ua.Logo,{to:Na,src:Ra,alt:"Netflix"}),(0,In.jsx)(ua.TextLink,{active:"series"===i?"true":"false",onClick:function(){return a("series")},children:"Series"}),(0,In.jsx)(ua.TextLink,{active:"films"===i?"true":"false",onClick:function(){return a("films")},children:"Films"})]}),(0,In.jsxs)(ua.Group,{children:[(0,In.jsx)(ua.Search,{searchTerm:d,setSearchTerm:p}),(0,In.jsxs)(ua.Profile,{children:[(0,In.jsx)(ua.Picture,{src:k.photoURL}),(0,In.jsxs)(ua.Dropdown,{children:[(0,In.jsxs)(ua.Group,{children:[(0,In.jsx)(ua.Picture,{src:k.photoURL}),(0,In.jsx)(ua.TextLink,{children:k.displayName})]}),(0,In.jsx)(ua.Group,{children:(0,In.jsx)(ua.TextLink,{onClick:function(){return g.auth().signOut()},children:"Sign out"})})]})]})]})]}),(0,In.jsxs)(ua.Feature,{children:[(0,In.jsx)(ua.FeatureCallOut,{children:"Watch Joker Now"}),(0,In.jsx)(ua.Text,{children:"Forever alone in a crowd, failed comedian Arthur Fleck seeks connection as he walks the streets of Gotham City. Arthur wears two masks -- the one he paints for his day job as a clown, and the guise he projects in a futile attempt to feel like he's part of the world around him."}),(0,In.jsx)(ua.PlayButton,{children:"Play"})]})]}),(0,In.jsx)(ir.Group,{children:m.map((function(e){return(0,In.jsxs)(ir,{children:[(0,In.jsx)(ir.Title,{children:e.title}),(0,In.jsx)(ir.Entities,{children:e.data.map((function(e){return(0,In.jsxs)(ir.Item,{item:e,children:[(0,In.jsx)(ir.Image,{src:"/images/".concat(i,"/").concat(e.genre,"/").concat(e.slug,"/small.jpg")}),(0,In.jsxs)(ir.Meta,{children:[(0,In.jsx)(ir.SubTitle,{children:e.title}),(0,In.jsx)(ir.Text,{children:e.description})]})]},e.docId)}))}),(0,In.jsx)(ir.Feature,{category:i,children:(0,In.jsxs)(Ia,{children:[(0,In.jsx)(Ia.Button,{}),(0,In.jsx)(Ia.Video,{src:"/videos/bunny.mp4"})]})})]},"".concat(i,"-").concat(e.title.toLowerCase()))}))}),(0,In.jsx)(Ca,{})]}):(0,In.jsx)(eu,{user:k,setProfile:s})}function nu(e){var n=Le((0,t.useState)([]),2),r=n[0],i=n[1],a=(0,t.useContext)(Zo).firebase;return(0,t.useEffect)((function(){a.firestore().collection(e).get().then((function(e){var t=e.docs.map((function(e){return je(je({},e.data()),{},{docId:e.id})}));i(t)})).catch((function(e){console.log(e.message)}))})),Me({},e,r)}function ru(){var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=e.series,n=e.films;return{series:[{title:"Documentaries",data:null===t||void 0===t?void 0:t.filter((function(e){return"documentaries"===e.genre}))},{title:"Comedies",data:null===t||void 0===t?void 0:t.filter((function(e){return"comedies"===e.genre}))},{title:"Children",data:null===t||void 0===t?void 0:t.filter((function(e){return"children"===e.genre}))},{title:"Crime",data:null===t||void 0===t?void 0:t.filter((function(e){return"crime"===e.genre}))},{title:"Feel Good",data:null===t||void 0===t?void 0:t.filter((function(e){return"feel-good"===e.genre}))}],films:[{title:"Drama",data:null===n||void 0===n?void 0:n.filter((function(e){return"drama"===e.genre}))},{title:"Thriller",data:null===n||void 0===n?void 0:n.filter((function(e){return"thriller"===e.genre}))},{title:"Children",data:null===n||void 0===n?void 0:n.filter((function(e){return"children"===e.genre}))},{title:"Suspense",data:null===n||void 0===n?void 0:n.filter((function(e){return"suspense"===e.genre}))},{title:"Romance",data:null===n||void 0===n?void 0:n.filter((function(e){return"romance"===e.genre}))}]}}({series:nu("series").series,films:nu("films").films});return(0,In.jsx)(tu,{slides:e})}function iu(){var e=me(),n=(0,t.useContext)(Zo).firebase,r=Le((0,t.useState)(""),2),i=r[0],a=r[1],o=Le((0,t.useState)(""),2),u=o[0],s=o[1],c=Le((0,t.useState)(""),2),l=c[0],f=c[1],h=""===u||""===i;return(0,In.jsxs)(In.Fragment,{children:[(0,In.jsx)(Oa,{children:(0,In.jsxs)(Xr,{children:[(0,In.jsx)(Xr.Title,{children:"Sign In"}),l&&(0,In.jsx)(Xr.Error,{"data-testid":"error",children:l}),(0,In.jsxs)(Xr.Base,{onSubmit:function(t){return t.preventDefault(),n.auth().signInWithEmailAndPassword(i,u).then((function(){e.push(Aa)})).catch((function(e){a(""),s(""),f(e.message)}))},method:"POST",children:[(0,In.jsx)(Xr.Input,{placeholder:"Email address",value:i,onChange:function(e){var t=e.target;return a(t.value)}}),(0,In.jsx)(Xr.Input,{type:"password",value:u,autoComplete:"off",placeholder:"Password",onChange:function(e){var t=e.target;return s(t.value)}}),(0,In.jsx)(Xr.Submit,{disabled:h,type:"submit","data-testid":"sign-in",children:"Sign In"})]}),(0,In.jsxs)(Xr.Text,{children:["New to Netflix? ",(0,In.jsx)(Xr.Link,{to:"/signup",children:"Sign up now."})]}),(0,In.jsx)(Xr.TextSmall,{children:"This page is protected by Google reCAPTCHA to ensure you're not a bot. Learn more."})]})}),(0,In.jsx)(Ca,{})]})}function au(){var e=me(),n=(0,t.useContext)(Zo).firebase,r=Le((0,t.useState)(""),2),i=r[0],a=r[1],o=Le((0,t.useState)(""),2),u=o[0],s=o[1],c=Le((0,t.useState)(""),2),l=c[0],f=c[1],h=Le((0,t.useState)(""),2),d=h[0],p=h[1],v=""===i||""===l||""===u;return(0,In.jsxs)(In.Fragment,{children:[(0,In.jsx)(Oa,{children:(0,In.jsxs)(Xr,{children:[(0,In.jsx)(Xr.Title,{children:"Sign Up"}),d&&(0,In.jsx)(Xr.Error,{children:d}),(0,In.jsxs)(Xr.Base,{onSubmit:function(t){return t.preventDefault(),n.auth().createUserWithEmailAndPassword(u,l).then((function(t){return t.user.updateProfile({displayName:i,photoURL:Math.floor(5*Math.random())+1}).then((function(){e.push(Aa)}))})).catch((function(e){a(""),s(""),f(""),p(e.message)}))},method:"POST",children:[(0,In.jsx)(Xr.Input,{placeholder:"First name",value:i,onChange:function(e){var t=e.target;return a(t.value)}}),(0,In.jsx)(Xr.Input,{placeholder:"Email address",value:u,onChange:function(e){var t=e.target;return s(t.value)}}),(0,In.jsx)(Xr.Input,{type:"password",value:l,autoComplete:"off",placeholder:"Password",onChange:function(e){var t=e.target;return f(t.value)}}),(0,In.jsx)(Xr.Submit,{disabled:v,type:"submit","data-testid":"sign-up",children:"Sign Up"})]}),(0,In.jsxs)(Xr.Text,{children:["Already a user? ",(0,In.jsx)(Xr.Link,{to:"/signin",children:"Sign in now."})]}),(0,In.jsx)(Xr.TextSmall,{children:"This page is protected by Google reCAPTCHA to ensure you're not a bot. Learn more."})]})}),(0,In.jsx)(Ca,{})]})}var ou,uu=["user","loggedInPath","children"],su=["user","children"];function cu(e){var t=e.user,n=e.loggedInPath,r=e.children,i=Ue(e,uu);return(0,In.jsx)(se,je(je({},i),{},{render:function(){return t?t?(0,In.jsx)(ie,{to:{pathname:n}}):null:r}}))}function lu(e){var t=e.user,n=e.children,r=Ue(e,su);return(0,In.jsx)(se,je(je({},r),{},{render:function(e){var r=e.location;return t?n:t?null:(0,In.jsx)(ie,{to:{pathname:"signin",state:{from:r}}})}}))}function fu(){var e=function(){var e=Le((0,t.useState)(JSON.parse(localStorage.getItem("authUser"))),2),n=e[0],r=e[1],i=(0,t.useContext)(Zo).firebase;return(0,t.useEffect)((function(){var e=i.auth().onAuthStateChanged((function(e){e?(localStorage.setItem("authUser",JSON.stringify(e)),r(e)):(localStorage.removeItem("authUser"),r(null))}));return function(){return e()}})),{user:n}}(),n=e.user;return(0,In.jsx)(be,{children:(0,In.jsxs)(pe,{children:[(0,In.jsx)(cu,{user:n,loggedInPath:Aa,path:Pa,children:(0,In.jsx)(iu,{})}),(0,In.jsx)(cu,{user:n,loggedInPath:Aa,path:"/signup",children:(0,In.jsx)(au,{})}),(0,In.jsx)(lu,{user:n,path:Aa,children:(0,In.jsx)(ru,{})}),(0,In.jsx)(cu,{user:n,loggedInPath:Aa,path:Na,children:(0,In.jsx)(Da,{})})]})})}var hu=vn(ou||(ou=sa(["\n  *, *:before, *:after {\n    box-sizing: border-box;\n  }\n  html, body {\n    height: 100%;\n    font-family: 'Helvetica Neue', Helvetica, Arial, sans-serif;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n    background-color: black;\n    color: #333333;\n    font-size: 16px;\n}"])));function du(e,t){var n="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=Oe(e))||t&&e&&"number"===typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,u=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){u=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(u)throw a}}}}function pu(e,t,n){return pu=ja()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&La(i,n.prototype),i},pu.apply(null,arguments)}function vu(e){var t="function"===typeof Map?new Map:void 0;return vu=function(e){if(null===e||!function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}(e))return e;if("function"!==typeof e)throw new TypeError("Super expression must either be null or a function");if("undefined"!==typeof t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return pu(e,arguments,Fa(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),La(n,e)},vu(e)}var mu=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},yu={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,u=o?e[i+1]:0,s=i+2<e.length,c=s?e[i+2]:0,l=a>>2,f=(3&a)<<4|u>>4,h=(15&u)<<2|c>>6,d=63&c;s||(d=64,o||(h=64)),r.push(n[l],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(mu(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var u=e[n++],s=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&u)<<6|63&s)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,u=++i<e.length?n[e.charAt(i)]:64,s=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==u||null==s)throw Error();var c=a<<2|o>>4;if(r.push(c),64!==u){var l=o<<4&240|u>>2;if(r.push(l),64!==s){var f=u<<6&192|s;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},gu=function(e){return function(e){var t=mu(e);return yu.encodeByteArray(t,!0)}(e).replace(/\./g,"")},ku=function(e){try{return yu.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};function wu(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:return new Date(t.getTime());case Object:void 0===e&&(e={});break;case Array:e=[];break;default:return t}for(var n in t)t.hasOwnProperty(n)&&bu(n)&&(e[n]=wu(e[n],t[n]));return e}function bu(e){return"__proto__"!==e}var xu=function(){function e(){var t=this;Ka(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}return Ha(e,[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"===typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}]),e}();function _u(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');var n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");var a=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[gu(JSON.stringify({alg:"none",type:"JWT"})),gu(JSON.stringify(a)),""].join(".")}function Iu(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Su(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Iu())}function Eu(){try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(e){return!1}}function Tu(){var e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}function Cu(){return"object"===typeof navigator&&"ReactNative"===navigator.product}function Nu(){var e=Iu();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function Au(){return"object"===typeof indexedDB}var Pu=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i){var a;return Ka(this,n),(a=t.call(this,r)).code=e,a.customData=i,a.name="FirebaseError",Object.setPrototypeOf(Va(a),n.prototype),Error.captureStackTrace&&Error.captureStackTrace(Va(a),Ru.prototype.create),a}return Ha(n)}(vu(Error)),Ru=function(){function e(t,n,r){Ka(this,e),this.service=t,this.serviceName=n,this.errors=r}return Ha(e,[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?Ou(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,")."),o=new Pu(n,a,t);return o}}]),e}();function Ou(e,t){return e.replace(Du,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}var Du=/\{\$([^}]+)}/g;function Lu(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Mu(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var u=e[o],s=t[o];if(Fu(u)&&Fu(s)){if(!Mu(u,s))return!1}else if(u!==s)return!1}for(var c=0,l=r;c<l.length;c++){var f=l[c];if(!n.includes(f))return!1}return!0}function Fu(e){return null!==e&&"object"===typeof e}function ju(e){for(var t=[],n=function(){var e=Le(i[r],2),n=e[0],a=e[1];Array.isArray(a)?a.forEach((function(e){t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(a))},r=0,i=Object.entries(e);r<i.length;r++)n();return t.length?"&"+t.join("&"):""}function Uu(e){var t={};return e.replace(/^\?/,"").split("&").forEach((function(e){if(e){var n=Le(e.split("="),2),r=n[0],i=n[1];t[decodeURIComponent(r)]=decodeURIComponent(i)}})),t}function Vu(e){var t=e.indexOf("?");if(!t)return"";var n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}function zu(e,t){var n=new Bu(e,t);return n.subscribe.bind(n)}var Bu=function(){function e(t,n){var r=this;Ka(this,e),this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then((function(){t(r)})).catch((function(e){r.error(e)}))}return Ha(e,[{key:"next",value:function(e){this.forEachObserver((function(t){t.next(e)}))}},{key:"error",value:function(e){this.forEachObserver((function(t){t.error(e)})),this.close(e)}},{key:"complete",value:function(){this.forEachObserver((function(e){e.complete()})),this.close()}},{key:"subscribe",value:function(e,t,n){var r,i=this;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");void 0===(r=function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=du(t);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i in e&&"function"===typeof e[i])return!0}}catch(a){r.e(a)}finally{r.f()}return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n}).next&&(r.next=qu),void 0===r.error&&(r.error=qu),void 0===r.complete&&(r.complete=qu);var a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(e){}})),this.observers.push(r),a}},{key:"unsubscribeOne",value:function(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}},{key:"forEachObserver",value:function(e){if(!this.finalized)for(var t=0;t<this.observers.length;t++)this.sendOne(t,e)}},{key:"sendOne",value:function(e,t){var n=this;this.task.then((function(){if(void 0!==n.observers&&void 0!==n.observers[e])try{t(n.observers[e])}catch(r){"undefined"!==typeof console&&console.error&&console.error(r)}}))}},{key:"close",value:function(e){var t=this;this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((function(){t.observers=void 0,t.onNoObservers=void 0})))}}]),e}();function qu(){}function Wu(e){return e&&e._delegate?e._delegate:e}function Ku(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(c){return void n(c)}u.done?t(s):Promise.resolve(s).then(r,i)}function Gu(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){Ku(a,r,i,o,u,"next",e)}function u(e){Ku(a,r,i,o,u,"throw",e)}o(void 0)}))}}var Hu=n(757),Qu=n.n(Hu),$u=function(){function e(t,n,r){Ka(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}return Ha(e,[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}]),e}(),Yu="[DEFAULT]",Ju=function(){function e(t,n){Ka(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}return Ha(e,[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new xu;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Yu})}catch(s){}var t,n=du(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=Le(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var u=this.getOrInitializeService({instanceIdentifier:o});a.resolve(u)}catch(s){}}}catch(c){n.e(c)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yu;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:function(){var e=Gu(Hu.mark((function e(){var t;return Hu.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(Wa(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),Wa(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yu;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yu;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=du(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var u=Le(i.value,2),s=u[0],c=u[1],l=this.normalizeInstanceIdentifier(s);r===l&&c.resolve(a)}}catch(f){o.e(f)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=du(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(HN){}}}catch(o){i.e(o)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===Yu?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(HN){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yu;return this.component?this.component.multipleInstances?e:Yu:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]),e}();var Xu,Zu,es=function(){function e(t){Ka(this,e),this.name=t,this.providers=new Map}return Ha(e,[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Ju(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}]),e}(),ts=[];!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Zu||(Zu={}));var ns={debug:Zu.DEBUG,verbose:Zu.VERBOSE,info:Zu.INFO,warn:Zu.WARN,error:Zu.ERROR,silent:Zu.SILENT},rs=Zu.INFO,is=(Me(Xu={},Zu.DEBUG,"log"),Me(Xu,Zu.VERBOSE,"log"),Me(Xu,Zu.INFO,"info"),Me(Xu,Zu.WARN,"warn"),Me(Xu,Zu.ERROR,"error"),Xu),as=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=is[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),u=2;u<a;u++)o[u-2]=arguments[u];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},os=function(){function e(t){Ka(this,e),this.name=t,this._logLevel=rs,this._logHandler=as,this._userLogHandler=null,ts.push(this)}return Ha(e,[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in Zu))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"===typeof e?ns[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zu.DEBUG].concat(t)),this._logHandler.apply(this,[this,Zu.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zu.VERBOSE].concat(t)),this._logHandler.apply(this,[this,Zu.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zu.INFO].concat(t)),this._logHandler.apply(this,[this,Zu.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zu.WARN].concat(t)),this._logHandler.apply(this,[this,Zu.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,Zu.ERROR].concat(t)),this._logHandler.apply(this,[this,Zu.ERROR].concat(t))}}]),e}();var us,ss;var cs=new WeakMap,ls=new WeakMap,fs=new WeakMap,hs=new WeakMap,ds=new WeakMap;var ps={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return ls.get(e);if("objectStoreNames"===t)return e.objectStoreNames||fs.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return ys(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function vs(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(ss||(ss=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(gs(this),n),ys(cs.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ys(e.apply(gs(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[gs(this),t].concat(r));return fs.set(a,t.sort?t.sort():[t]),ys(a)}}function ms(e){return"function"===typeof e?vs(e):(e instanceof IDBTransaction&&function(e){if(!ls.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));ls.set(e,t)}}(e),t=e,(us||(us=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((function(e){return t instanceof e}))?new Proxy(e,ps):e);var t}function ys(e){if(e instanceof IDBRequest)return function(e){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("success",i),e.removeEventListener("error",a)},i=function(){t(ys(e.result)),r()},a=function(){n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",a)}));return t.then((function(t){t instanceof IDBCursor&&cs.set(t,e)})).catch((function(){})),ds.set(t,e),t}(e);if(hs.has(e))return hs.get(e);var t=ms(e);return t!==e&&(hs.set(e,t),ds.set(t,e)),t}var gs=function(e){return ds.get(e)};var ks,ws,bs=["get","getKey","getAll","getAllKeys","count"],xs=["put","add","delete","clear"],_s=new Map;function Is(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"===typeof t){if(_s.get(t))return _s.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=xs.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||bs.includes(n))){var a=function(){var e=Gu(Hu.mark((function e(t){var a,o,u,s,c,l,f=arguments;return Hu.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(o=this.transaction(t,i?"readwrite":"readonly"),u=o.store,s=f.length,c=new Array(s>1?s-1:0),l=1;l<s;l++)c[l-1]=f[l];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&o.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return _s.set(t,a),a}}}ps=function(e){return je(je({},e),{},{get:function(t,n,r){return Is(t,n)||e.get(t,n,r)},has:function(t,n){return!!Is(t,n)||e.has(t,n)}})}(ps);var Ss=function(){function e(t){Ka(this,e),this.container=t}return Ha(e,[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}]),e}();var Es="@firebase/app",Ts="0.7.24",Cs=new os("@firebase/app"),Ns="[DEFAULT]",As=(Me(ks={},Es,"fire-core"),Me(ks,"@firebase/app-compat","fire-core-compat"),Me(ks,"@firebase/analytics","fire-analytics"),Me(ks,"@firebase/analytics-compat","fire-analytics-compat"),Me(ks,"@firebase/app-check","fire-app-check"),Me(ks,"@firebase/app-check-compat","fire-app-check-compat"),Me(ks,"@firebase/auth","fire-auth"),Me(ks,"@firebase/auth-compat","fire-auth-compat"),Me(ks,"@firebase/database","fire-rtdb"),Me(ks,"@firebase/database-compat","fire-rtdb-compat"),Me(ks,"@firebase/functions","fire-fn"),Me(ks,"@firebase/functions-compat","fire-fn-compat"),Me(ks,"@firebase/installations","fire-iid"),Me(ks,"@firebase/installations-compat","fire-iid-compat"),Me(ks,"@firebase/messaging","fire-fcm"),Me(ks,"@firebase/messaging-compat","fire-fcm-compat"),Me(ks,"@firebase/performance","fire-perf"),Me(ks,"@firebase/performance-compat","fire-perf-compat"),Me(ks,"@firebase/remote-config","fire-rc"),Me(ks,"@firebase/remote-config-compat","fire-rc-compat"),Me(ks,"@firebase/storage","fire-gcs"),Me(ks,"@firebase/storage-compat","fire-gcs-compat"),Me(ks,"@firebase/firestore","fire-fst"),Me(ks,"@firebase/firestore-compat","fire-fst-compat"),Me(ks,"fire-js","fire-js"),Me(ks,"firebase","fire-js-all"),ks),Ps=new Map,Rs=new Map;function Os(e,t){try{e.container.addComponent(t)}catch(n){Cs.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function Ds(e,t){e.container.addOrOverwriteComponent(t)}function Ls(e){var t=e.name;if(Rs.has(t))return Cs.debug("There were multiple attempts to register component ".concat(t,".")),!1;Rs.set(t,e);var n,r=du(Ps.values());try{for(r.s();!(n=r.n()).done;){Os(n.value,e)}}catch(i){r.e(i)}finally{r.f()}return!0}function Ms(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function Fs(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Ns;Ms(e,t).clearInstance(n)}function js(){Rs.clear()}var Us=(Me(ws={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Me(ws,"bad-app-name","Illegal App name: '{$appName}"),Me(ws,"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),Me(ws,"app-deleted","Firebase App named '{$appName}' already deleted"),Me(ws,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),Me(ws,"invalid-log-argument","First argument to `onLog` must be null or a function."),Me(ws,"storage-open","Error thrown when opening storage. Original error: {$originalErrorMessage}."),Me(ws,"storage-get","Error thrown when reading from storage. Original error: {$originalErrorMessage}."),Me(ws,"storage-set","Error thrown when writing to storage. Original error: {$originalErrorMessage}."),Me(ws,"storage-delete","Error thrown when deleting from storage. Original error: {$originalErrorMessage}."),ws),Vs=new Ru("app","Firebase",Us),zs=function(){function e(t,n,r){var i=this;Ka(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $u("app",(function(){return i}),"PUBLIC"))}return Ha(e,[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw Vs.create("app-deleted",{appName:this._name})}}]),e}(),Bs="9.8.1";function qs(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if("object"!==typeof t){var n=t;t={name:n}}var r=Object.assign({name:Ns,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw Vs.create("bad-app-name",{appName:String(i)});var a=Ps.get(i);if(a){if(Mu(e,a.options)&&Mu(r,a.config))return a;throw Vs.create("duplicate-app",{appName:i})}var o,u=new es(i),s=du(Rs.values());try{for(s.s();!(o=s.n()).done;){var c=o.value;u.addComponent(c)}}catch(f){s.e(f)}finally{s.f()}var l=new zs(e,r,u);return Ps.set(i,l),l}function Ws(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ns,t=Ps.get(e);if(!t)throw Vs.create("no-app",{appName:e});return t}function Ks(){return Array.from(Ps.values())}function Gs(e){return Hs.apply(this,arguments)}function Hs(){return(Hs=Gu(Hu.mark((function e(t){var n;return Hu.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.name,!Ps.has(n)){e.next=6;break}return Ps.delete(n),e.next=5,Promise.all(t.container.getProviders().map((function(e){return e.delete()})));case 5:t.isDeleted=!0;case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qs(e,t,n){var r,i=null!==(r=As[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var u=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&u.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&u.push("and"),o&&u.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Cs.warn(u.join(" "))}Ls(new $u("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}function $s(e,t){if(null!==e&&"function"!==typeof e)throw Vs.create("invalid-log-argument");!function(e,t){var n,r=du(ts);try{var i=function(){var r=n.value,i=null;t&&t.level&&(i=ns[t.level]),r.userLogHandler=null===e?null:function(t,n){for(var r=arguments.length,a=new Array(r>2?r-2:0),o=2;o<r;o++)a[o-2]=arguments[o];var u=a.map((function(e){if(null==e)return null;if("string"===typeof e)return e;if("number"===typeof e||"boolean"===typeof e)return e.toString();if(e instanceof Error)return e.message;try{return JSON.stringify(e)}catch(t){return null}})).filter((function(e){return e})).join(" ");n>=(null!==i&&void 0!==i?i:t.logLevel)&&e({level:Zu[n].toLowerCase(),message:u,args:a,type:t.name})}};for(r.s();!(n=r.n()).done;)i()}catch(a){r.e(a)}finally{r.f()}}(e,t)}function Ys(e){var t;t=e,ts.forEach((function(e){e.setLogLevel(t)}))}var Js="firebase-heartbeat-store",Xs=null;function Zs(){return Xs||(Xs=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,u=indexedDB.open(e,t),s=ys(u);return i&&u.addEventListener("upgradeneeded",(function(e){i(ys(u.result),e.oldVersion,e.newVersion,ys(u.transaction))})),r&&u.addEventListener("blocked",(function(){return r()})),s.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(){return a()}))})).catch((function(){})),s}("firebase-heartbeat-database",1,{upgrade:function(e,t){if(0===t)e.createObjectStore(Js)}}).catch((function(e){throw Vs.create("storage-open",{originalErrorMessage:e.message})}))),Xs}function ec(e){return tc.apply(this,arguments)}function tc(){return tc=Gu(Hu.mark((function e(t){var n;return Hu.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zs();case 3:return n=e.sent,e.abrupt("return",n.transaction(Js).objectStore(Js).get(ic(t)));case 7:throw e.prev=7,e.t0=e.catch(0),Vs.create("storage-get",{originalErrorMessage:e.t0.message});case 10:case"end":return e.stop()}}),e,null,[[0,7]])}))),tc.apply(this,arguments)}function nc(e,t){return rc.apply(this,arguments)}function rc(){return rc=Gu(Hu.mark((function e(t,n){var r,i,a;return Hu.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Zs();case 3:return r=e.sent,i=r.transaction(Js,"readwrite"),a=i.objectStore(Js),e.next=8,a.put(n,ic(t));case 8:return e.abrupt("return",i.done);case 11:throw e.prev=11,e.t0=e.catch(0),Vs.create("storage-set",{originalErrorMessage:e.t0.message});case 14:case"end":return e.stop()}}),e,null,[[0,11]])}))),rc.apply(this,arguments)}function ic(e){return"".concat(e.name,"!").concat(e.options.appId)}var ac=function(){function e(t){var n=this;Ka(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new lc(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}return Ha(e,[{key:"triggerHeartbeat",value:function(){var e=Gu(Hu.mark((function e(){var t,n,r;return Hu.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.container.getProvider("platform-logger").getImmediate(),n=t.getPlatformInfoString(),r=oc(),null!==this._heartbeatsCache){e.next=7;break}return e.next=6,this._heartbeatsCachePromise;case 6:this._heartbeatsCache=e.sent;case 7:if(this._heartbeatsCache.lastSentHeartbeatDate!==r&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===r}))){e.next=11;break}return e.abrupt("return");case 11:this._heartbeatsCache.heartbeats.push({date:r,agent:n});case 12:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getHeartbeatsHeader",value:function(){var e=Gu(Hu.mark((function e(){var t,n,r,i,a;return Hu.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!==this._heartbeatsCache&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(t=oc(),n=uc(this._heartbeatsCache.heartbeats),r=n.heartbeatsToSend,i=n.unsentEntries,a=gu(JSON.stringify({version:2,heartbeats:r})),this._heartbeatsCache.lastSentHeartbeatDate=t,!(i.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=i,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",a);case 18:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function oc(){return(new Date).toISOString().substring(0,10)}function uc(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=du(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),fc(r)>n)return a.dates.pop(),"break"}else if(r.push({agent:e.agent,dates:[e.date]}),fc(r)>n)return r.pop(),"break";i=i.slice(1)};for(a.s();!(t=a.n()).done;){var u=o();if("break"===u)break}}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var sc,cc,lc=function(){function e(t){Ka(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}return Ha(e,[{key:"runIndexedDBEnvironmentCheck",value:function(){var e=Gu(Hu.mark((function e(){return Hu.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Au()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"read",value:function(){var e=Gu(Hu.mark((function e(){var t;return Hu.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,ec(this.app);case 9:return t=e.sent,e.abrupt("return",t||{heartbeats:[]});case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"overwrite",value:function(){var e=Gu(Hu.mark((function e(t){var n,r;return Hu.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",nc(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"add",value:function(){var e=Gu(Hu.mark((function e(t){var n,r;return Hu.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",nc(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(Wa(r.heartbeats),Wa(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}();function fc(e){return gu(JSON.stringify({version:2,heartbeats:e})).length}sc="",Ls(new $u("platform-logger",(function(e){return new Ss(e)}),"PRIVATE")),Ls(new $u("heartbeat",(function(e){return new ac(e)}),"PRIVATE")),Qs(Es,Ts,sc),Qs(Es,Ts,"esm2017"),Qs("fire-js","");var hc=function(){function e(t,n){var r=this;Ka(this,e),this._delegate=t,this.firebase=n,Os(t,new $u("app-compat",(function(){return r}),"PUBLIC")),this.container=t.container}return Ha(e,[{key:"automaticDataCollectionEnabled",get:function(){return this._delegate.automaticDataCollectionEnabled},set:function(e){this._delegate.automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this._delegate.name}},{key:"options",get:function(){return this._delegate.options}},{key:"delete",value:function(){var e=this;return new Promise((function(t){e._delegate.checkDestroyed(),t()})).then((function(){return e.firebase.INTERNAL.removeApp(e.name),Gs(e._delegate)}))}},{key:"_getService",value:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ns;this._delegate.checkDestroyed();var r=this._delegate.container.getProvider(e);return r.isInitialized()||"EXPLICIT"!==(null===(t=r.getComponent())||void 0===t?void 0:t.instantiationMode)||r.initialize(),r.getImmediate({identifier:n})}},{key:"_removeServiceInstance",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ns;this._delegate.container.getProvider(e).clearInstance(t)}},{key:"_addComponent",value:function(e){Os(this._delegate,e)}},{key:"_addOrOverwriteComponent",value:function(e){Ds(this._delegate,e)}},{key:"toJSON",value:function(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}]),e}(),dc=(Me(cc={},"no-app","No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()"),Me(cc,"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),cc),pc=new Ru("app-compat","Firebase",dc);var vc=function t(){var n=function(t){var n={},r={__esModule:!0,initializeApp:function(e){var i=qs(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{});if(Lu(n,i.name))return n[i.name];var a=new t(i,r);return n[i.name]=a,a},app:i,registerVersion:Qs,setLogLevel:Ys,onLog:$s,apps:null,SDK_VERSION:Bs,INTERNAL:{registerComponent:function(e){var n=e.name,a=n.replace("-compat","");if(Ls(e)&&"PUBLIC"===e.type){var o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i();if("function"!==typeof e[a])throw pc.create("invalid-app-argument",{appName:n});return e[a]()};void 0!==e.serviceProps&&wu(o,e.serviceProps),r[a]=o,t.prototype[a]=function(){for(var t=this._getService.bind(this,n),r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return t.apply(this,e.multipleInstances?i:[])}}return"PUBLIC"===e.type?r[a]:null},removeApp:function(e){delete n[e]},useAsService:function(e,t){return"serverAuth"===t?null:t},modularAPIs:e}};function i(e){if(!Lu(n,e=e||Ns))throw pc.create("no-app",{appName:e});return n[e]}return r.default=r,Object.defineProperty(r,"apps",{get:function(){return Object.keys(n).map((function(e){return n[e]}))}}),i.App=t,r}(hc);return n.INTERNAL=Object.assign(Object.assign({},n.INTERNAL),{createFirebaseNamespace:t,extendNamespace:function(e){wu(n,e)},createSubscribe:zu,ErrorFactory:Ru,deepExtend:wu}),n}(),mc=new os("@firebase/app-compat");if("object"===typeof self&&self.self===self&&void 0!==self.firebase){mc.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");var yc=self.firebase.SDK_VERSION;yc&&yc.indexOf("LITE")>=0&&mc.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}var gc=vc;!function(e){Qs("@firebase/app-compat","0.1.25",e)}();function kc(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=Fa(e)););return e}function wc(){return wc="undefined"!==typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=kc(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},wc.apply(this,arguments)}gc.registerVersion("firebase","9.8.1","app-compat");function bc(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;var xc;Object.create;var _c="facebook.com",Ic="github.com",Sc="google.com",Ec="password",Tc="twitter.com",Cc="EMAIL_SIGNIN",Nc="PASSWORD_RESET",Ac="RECOVER_EMAIL",Pc="REVERT_SECOND_FACTOR_ADDITION",Rc="VERIFY_AND_CHANGE_EMAIL",Oc="VERIFY_EMAIL";function Dc(){return Me({},"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.")}var Lc=function(){var e;return Me(e={},"admin-restricted-operation","This operation is restricted to administrators only."),Me(e,"argument-error",""),Me(e,"app-not-authorized","This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console."),Me(e,"app-not-installed","The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device."),Me(e,"captcha-check-failed","The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains."),Me(e,"code-expired","The SMS code has expired. Please re-send the verification code to try again."),Me(e,"cordova-not-ready","Cordova framework is not ready."),Me(e,"cors-unsupported","This browser is not supported."),Me(e,"credential-already-in-use","This credential is already associated with a different user account."),Me(e,"custom-token-mismatch","The custom token corresponds to a different audience."),Me(e,"requires-recent-login","This operation is sensitive and requires recent authentication. Log in again before retrying this request."),Me(e,"dependent-sdk-initialized-before-auth","Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."),Me(e,"dynamic-link-not-activated","Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions."),Me(e,"email-change-needs-verification","Multi-factor users must always have a verified email."),Me(e,"email-already-in-use","The email address is already in use by another account."),Me(e,"emulator-config-failed",'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.'),Me(e,"expired-action-code","The action code has expired."),Me(e,"cancelled-popup-request","This operation has been cancelled due to another conflicting popup being opened."),Me(e,"internal-error","An internal AuthError has occurred."),Me(e,"invalid-app-credential","The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired."),Me(e,"invalid-app-id","The mobile app identifier is not registed for the current project."),Me(e,"invalid-user-token","This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key."),Me(e,"invalid-auth-event","An internal AuthError has occurred."),Me(e,"invalid-verification-code","The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user."),Me(e,"invalid-continue-uri","The continue URL provided in the request is invalid."),Me(e,"invalid-cordova-configuration","The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme."),Me(e,"invalid-custom-token","The custom token format is incorrect. Please check the documentation."),Me(e,"invalid-dynamic-link-domain","The provided dynamic link domain is not configured or authorized for the current project."),Me(e,"invalid-email","The email address is badly formatted."),Me(e,"invalid-emulator-scheme","Emulator URL must start with a valid scheme (http:// or https://)."),Me(e,"invalid-api-key","Your API key is invalid, please check you have copied it correctly."),Me(e,"invalid-cert-hash","The SHA-1 certificate hash provided is invalid."),Me(e,"invalid-credential","The supplied auth credential is malformed or has expired."),Me(e,"invalid-message-payload","The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console."),Me(e,"invalid-multi-factor-session","The request does not contain a valid proof of first factor successful sign-in."),Me(e,"invalid-oauth-provider","EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers."),Me(e,"invalid-oauth-client-id","The OAuth client ID provided is either invalid or does not match the specified API key."),Me(e,"unauthorized-domain","This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console."),Me(e,"invalid-action-code","The action code is invalid. This can happen if the code is malformed, expired, or has already been used."),Me(e,"wrong-password","The password is invalid or the user does not have a password."),Me(e,"invalid-persistence-type","The specified persistence type is invalid. It can only be local, session or none."),Me(e,"invalid-phone-number","The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code]."),Me(e,"invalid-provider-id","The specified provider ID is invalid."),Me(e,"invalid-recipient-email","The email corresponding to this action failed to send as the provided recipient email address is invalid."),Me(e,"invalid-sender","The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console."),Me(e,"invalid-verification-id","The verification ID used to create the phone auth credential is invalid."),Me(e,"invalid-tenant-id","The Auth instance's tenant ID is invalid."),Me(e,"login-blocked","Login blocked by user-provided method: {$originalMessage}"),Me(e,"missing-android-pkg-name","An Android Package Name must be provided if the Android App is required to be installed."),Me(e,"auth-domain-config-required","Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console."),Me(e,"missing-app-credential","The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided."),Me(e,"missing-verification-code","The phone auth credential was created with an empty SMS verification code."),Me(e,"missing-continue-uri","A continue URL must be provided in the request."),Me(e,"missing-iframe-start","An internal AuthError has occurred."),Me(e,"missing-ios-bundle-id","An iOS Bundle ID must be provided if an App Store ID is provided."),Me(e,"missing-or-invalid-nonce","The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload."),Me(e,"missing-multi-factor-info","No second factor identifier is provided."),Me(e,"missing-multi-factor-session","The request is missing proof of first factor successful sign-in."),Me(e,"missing-phone-number","To send verification codes, provide a phone number for the recipient."),Me(e,"missing-verification-id","The phone auth credential was created with an empty verification ID."),Me(e,"app-deleted","This instance of FirebaseApp has been deleted."),Me(e,"multi-factor-info-not-found","The user does not have a second factor matching the identifier provided."),Me(e,"multi-factor-auth-required","Proof of ownership of a second factor is required to complete sign-in."),Me(e,"account-exists-with-different-credential","An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address."),Me(e,"network-request-failed","A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred."),Me(e,"no-auth-event","An internal AuthError has occurred."),Me(e,"no-such-provider","User was not linked to an account with the given provider."),Me(e,"null-user","A null user object was provided as the argument for an operation which requires a non-null user object."),Me(e,"operation-not-allowed","The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section."),Me(e,"operation-not-supported-in-this-environment",'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.'),Me(e,"popup-blocked","Unable to establish a connection with the popup. It may have been blocked by the browser."),Me(e,"popup-closed-by-user","The popup has been closed by the user before finalizing the operation."),Me(e,"provider-already-linked","User can only be linked to one identity for the given provider."),Me(e,"quota-exceeded","The project's quota for this operation has been exceeded."),Me(e,"redirect-cancelled-by-user","The redirect operation has been cancelled by the user before finalizing."),Me(e,"redirect-operation-pending","A redirect sign-in operation is already pending."),Me(e,"rejected-credential","The request contains malformed or mismatching credentials."),Me(e,"second-factor-already-in-use","The second factor is already enrolled on this account."),Me(e,"maximum-second-factor-count-exceeded","The maximum allowed number of second factors on a user has been exceeded."),Me(e,"tenant-id-mismatch","The provided tenant ID does not match the Auth instance's tenant ID"),Me(e,"timeout","The operation has timed out."),Me(e,"user-token-expired","The user's credential is no longer valid. The user must sign in again."),Me(e,"too-many-requests","We have blocked all requests from this device due to unusual activity. Try again later."),Me(e,"unauthorized-continue-uri","The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console."),Me(e,"unsupported-first-factor","Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor."),Me(e,"unsupported-persistence-type","The current environment does not support the specified persistence type."),Me(e,"unsupported-tenant-operation","This operation is not supported in a multi-tenant context."),Me(e,"unverified-email","The operation requires a verified email."),Me(e,"user-cancelled","The user did not grant your application the permissions it requested."),Me(e,"user-not-found","There is no user record corresponding to this identifier. The user may have been deleted."),Me(e,"user-disabled","The user account has been disabled by an administrator."),Me(e,"user-mismatch","The supplied credentials do not correspond to the previously signed in user."),Me(e,"user-signed-out",""),Me(e,"weak-password","The password must be 6 characters long or more."),Me(e,"web-storage-unsupported","This browser is not supported or 3rd party cookies and data may be disabled."),Me(e,"already-initialized","initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."),e},Mc=Dc,Fc=new Ru("auth","Firebase",Dc()),jc=new os("@firebase/auth");function Uc(e){if(jc.logLevel<=Zu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];jc.error.apply(jc,["Auth (".concat(Bs,"): ").concat(e)].concat(n))}}function Vc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Wc.apply(void 0,[e].concat(n))}function zc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Wc.apply(void 0,[e].concat(n))}function Bc(e,t,n){var r=Object.assign(Object.assign({},Mc()),Me({},t,n));return new Ru("auth","Firebase",r).create(t,{appName:e.name})}function qc(e,t,n){if(!(t instanceof n))throw n.name!==t.constructor.name&&Vc(e,"argument-error"),Bc(e,"argument-error","Type of ".concat(t.constructor.name," does not match expected instance.")+"Did you pass a reference from a different Auth SDK?")}function Wc(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){var i,a=n[0],o=Wa(n.slice(1));return o[0]&&(o[0].appName=e.name),(i=e._errorFactory).create.apply(i,[a].concat(Wa(o)))}return Fc.create.apply(Fc,[e].concat(n))}function Kc(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Wc.apply(void 0,[t].concat(r))}}function Gc(e){var t="INTERNAL ASSERTION FAILED: "+e;throw Uc(t),new Error(t)}function Hc(e,t){e||Gc(t)}var Qc=new Map;function $c(e){Hc(e instanceof Function,"Expected a class definition");var t=Qc.get(e);return t?(Hc(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,Qc.set(e,t),t)}function Yc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function Jc(){return"http:"===Xc()||"https:"===Xc()}function Xc(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}var Zc=function(){function e(t,n){Ka(this,e),this.shortDelay=t,this.longDelay=n,Hc(n>t,"Short delay should be less than long delay!"),this.isMobile=Su()||Cu()}return Ha(e,[{key:"get",value:function(){return"undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(Jc()||Tu()||"connection"in navigator)&&!navigator.onLine?Math.min(5e3,this.shortDelay):this.isMobile?this.longDelay:this.shortDelay}}]),e}();function el(e,t){Hc(e.emulator,"Emulator should always be set here");var n=e.emulator.url;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}var tl=function(){function e(){Ka(this,e)}return Ha(e,null,[{key:"initialize",value:function(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}},{key:"fetch",value:function(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:void Gc("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"headers",value:function(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:void Gc("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}},{key:"response",value:function(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:void Gc("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}]),e}(),nl=(Me(xc={},"CREDENTIAL_MISMATCH","custom-token-mismatch"),Me(xc,"MISSING_CUSTOM_TOKEN","internal-error"),Me(xc,"INVALID_IDENTIFIER","invalid-email"),Me(xc,"MISSING_CONTINUE_URI","internal-error"),Me(xc,"INVALID_PASSWORD","wrong-password"),Me(xc,"MISSING_PASSWORD","internal-error"),Me(xc,"EMAIL_EXISTS","email-already-in-use"),Me(xc,"PASSWORD_LOGIN_DISABLED","operation-not-allowed"),Me(xc,"INVALID_IDP_RESPONSE","invalid-credential"),Me(xc,"INVALID_PENDING_TOKEN","invalid-credential"),Me(xc,"FEDERATED_USER_ID_ALREADY_LINKED","credential-already-in-use"),Me(xc,"MISSING_REQ_TYPE","internal-error"),Me(xc,"EMAIL_NOT_FOUND","user-not-found"),Me(xc,"RESET_PASSWORD_EXCEED_LIMIT","too-many-requests"),Me(xc,"EXPIRED_OOB_CODE","expired-action-code"),Me(xc,"INVALID_OOB_CODE","invalid-action-code"),Me(xc,"MISSING_OOB_CODE","internal-error"),Me(xc,"CREDENTIAL_TOO_OLD_LOGIN_AGAIN","requires-recent-login"),Me(xc,"INVALID_ID_TOKEN","invalid-user-token"),Me(xc,"TOKEN_EXPIRED","user-token-expired"),Me(xc,"USER_NOT_FOUND","user-token-expired"),Me(xc,"TOO_MANY_ATTEMPTS_TRY_LATER","too-many-requests"),Me(xc,"INVALID_CODE","invalid-verification-code"),Me(xc,"INVALID_SESSION_INFO","invalid-verification-id"),Me(xc,"INVALID_TEMPORARY_PROOF","invalid-credential"),Me(xc,"MISSING_SESSION_INFO","missing-verification-id"),Me(xc,"SESSION_EXPIRED","code-expired"),Me(xc,"MISSING_ANDROID_PACKAGE_NAME","missing-android-pkg-name"),Me(xc,"UNAUTHORIZED_DOMAIN","unauthorized-continue-uri"),Me(xc,"INVALID_OAUTH_CLIENT_ID","invalid-oauth-client-id"),Me(xc,"ADMIN_ONLY_OPERATION","admin-restricted-operation"),Me(xc,"INVALID_MFA_PENDING_CREDENTIAL","invalid-multi-factor-session"),Me(xc,"MFA_ENROLLMENT_NOT_FOUND","multi-factor-info-not-found"),Me(xc,"MISSING_MFA_ENROLLMENT_ID","missing-multi-factor-info"),Me(xc,"MISSING_MFA_PENDING_CREDENTIAL","missing-multi-factor-session"),Me(xc,"SECOND_FACTOR_EXISTS","second-factor-already-in-use"),Me(xc,"SECOND_FACTOR_LIMIT_EXCEEDED","maximum-second-factor-count-exceeded"),Me(xc,"BLOCKING_FUNCTION_ERROR_RESPONSE","internal-error"),xc),rl=new Zc(3e4,6e4);function il(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}function al(e,t,n,r){return ol.apply(this,arguments)}function ol(){return ol=Gu(Qu().mark((function e(t,n,r,i){var a,o=arguments;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=o.length>4&&void 0!==o[4]?o[4]:{},e.abrupt("return",ul(t,a,Gu(Qu().mark((function e(){var a,o,u,s;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a={},o={},i&&("GET"===n?o=i:a={body:JSON.stringify(i)}),u=ju(Object.assign({key:t.config.apiKey},o)).slice(1),e.next=6,t._getAdditionalHeaders();case 6:return(s=e.sent)["Content-Type"]="application/json",t.languageCode&&(s["X-Firebase-Locale"]=t.languageCode),e.abrupt("return",tl.fetch()(fl(t,t.config.apiHost,r,u),Object.assign({method:n,headers:s,referrerPolicy:"no-referrer"},a)));case 10:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e)}))),ol.apply(this,arguments)}function ul(e,t,n){return sl.apply(this,arguments)}function sl(){return(sl=Gu(Qu().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._canInitEmulator=!1,i=Object.assign(Object.assign({},nl),n),e.prev=2,a=new hl(t),e.next=6,Promise.race([r(),a.promise]);case 6:return o=e.sent,a.clearNetworkTimeout(),e.next=10,o.json();case 10:if(!("needConfirmation"in(u=e.sent))){e.next=13;break}throw dl(t,"account-exists-with-different-credential",u);case 13:if(!o.ok||"errorMessage"in u){e.next=17;break}return e.abrupt("return",u);case 17:if(s=o.ok?u.errorMessage:u.error.message,c=s.split(" : "),l=Le(c,2),f=l[0],h=l[1],"FEDERATED_USER_ID_ALREADY_LINKED"!==f){e.next=23;break}throw dl(t,"credential-already-in-use",u);case 23:if("EMAIL_EXISTS"!==f){e.next=25;break}throw dl(t,"email-already-in-use",u);case 25:if(d=i[f]||f.toLowerCase().replace(/[_\s]+/g,"-"),!h){e.next=30;break}throw Bc(t,d,h);case 30:Vc(t,d);case 31:e.next=38;break;case 33:if(e.prev=33,e.t0=e.catch(2),!(e.t0 instanceof Pu)){e.next=37;break}throw e.t0;case 37:Vc(t,"network-request-failed");case 38:case"end":return e.stop()}}),e,null,[[2,33]])})))).apply(this,arguments)}function cl(e,t,n,r){return ll.apply(this,arguments)}function ll(){return ll=Gu(Qu().mark((function e(t,n,r,i){var a,o,u=arguments;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=u.length>4&&void 0!==u[4]?u[4]:{},e.next=3,al(t,n,r,i,a);case 3:return"mfaPendingCredential"in(o=e.sent)&&Vc(t,"multi-factor-auth-required",{_serverResponse:o}),e.abrupt("return",o);case 6:case"end":return e.stop()}}),e)}))),ll.apply(this,arguments)}function fl(e,t,n,r){var i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?el(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}var hl=function(){function e(t){var n=this;Ka(this,e),this.auth=t,this.timer=null,this.promise=new Promise((function(e,t){n.timer=setTimeout((function(){return t(zc(n.auth,"network-request-failed"))}),rl.get())}))}return Ha(e,[{key:"clearNetworkTimeout",value:function(){clearTimeout(this.timer)}}]),e}();function dl(e,t,n){var r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);var i=zc(e,t,r);return i.customData._tokenResponse=n,i}function pl(e,t){return vl.apply(this,arguments)}function vl(){return(vl=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",al(t,"POST","/v1/accounts:delete",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ml(e,t){return yl.apply(this,arguments)}function yl(){return(yl=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",al(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function gl(e,t){return kl.apply(this,arguments)}function kl(){return(kl=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",al(t,"POST","/v1/accounts:lookup",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wl(e){if(e)try{var t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(n){}}function bl(){return bl=Gu(Qu().mark((function e(t){var n,r,i,a,o,u,s=arguments;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=s.length>1&&void 0!==s[1]&&s[1],r=Wu(t),e.next=4,r.getIdToken(n);case 4:return i=e.sent,Kc((a=_l(i))&&a.exp&&a.auth_time&&a.iat,r.auth,"internal-error"),o="object"===typeof a.firebase?a.firebase:void 0,u=null===o||void 0===o?void 0:o.sign_in_provider,e.abrupt("return",{claims:a,token:i,authTime:wl(xl(a.auth_time)),issuedAtTime:wl(xl(a.iat)),expirationTime:wl(xl(a.exp)),signInProvider:u||null,signInSecondFactor:(null===o||void 0===o?void 0:o.sign_in_second_factor)||null});case 10:case"end":return e.stop()}}),e)}))),bl.apply(this,arguments)}function xl(e){return 1e3*Number(e)}function _l(e){var t=Le(e.split("."),3),n=t[0],r=t[1],i=t[2];if(void 0===n||void 0===r||void 0===i)return Uc("JWT malformed, contained fewer than 3 sections"),null;try{var a=ku(r);return a?JSON.parse(a):(Uc("Failed to decode base64 JWT payload"),null)}catch(o){return Uc("Caught error parsing JWT payload as JSON",o),null}}function Il(e,t){return Sl.apply(this,arguments)}function Sl(){return Sl=Gu(Qu().mark((function e(t,n){var r=arguments;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(r.length>2&&void 0!==r[2]&&r[2])){e.next=3;break}return e.abrupt("return",n);case 3:return e.prev=3,e.next=6,n;case 6:return e.abrupt("return",e.sent);case 9:if(e.prev=9,e.t0=e.catch(3),!(e.t0 instanceof Pu&&El(e.t0))){e.next=15;break}if(t.auth.currentUser!==t){e.next=15;break}return e.next=15,t.auth.signOut();case 15:throw e.t0;case 16:case"end":return e.stop()}}),e,null,[[3,9]])}))),Sl.apply(this,arguments)}function El(e){var t=e.code;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}var Tl=function(){function e(t){Ka(this,e),this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}return Ha(e,[{key:"_start",value:function(){this.isRunning||(this.isRunning=!0,this.schedule())}},{key:"_stop",value:function(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}},{key:"getInterval",value:function(e){var t;if(e){var n=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),n}this.errorBackoff=3e4;var r=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,r)}},{key:"schedule",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isRunning){var n=this.getInterval(t);this.timerId=setTimeout(Gu(Qu().mark((function t(){return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,e.iteration();case 2:case"end":return t.stop()}}),t)}))),n)}}},{key:"iteration",value:function(){var e=Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.user.getIdToken(!0);case 3:e.next=9;break;case 5:return e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")&&this.schedule(!0),e.abrupt("return");case 9:this.schedule();case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(){return e.apply(this,arguments)}}()}]),e}(),Cl=function(){function e(t,n){Ka(this,e),this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}return Ha(e,[{key:"_initializeTime",value:function(){this.lastSignInTime=wl(this.lastLoginAt),this.creationTime=wl(this.createdAt)}},{key:"_copy",value:function(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}},{key:"toJSON",value:function(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}]),e}();function Nl(e){return Al.apply(this,arguments)}function Al(){return Al=Gu(Qu().mark((function e(t){var n,r,i,a,o,u,s,c,l,f,h;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.auth,e.next=3,t.getIdToken();case 3:return i=e.sent,e.next=6,Il(t,gl(r,{idToken:i}));case 6:Kc(null===(a=e.sent)||void 0===a?void 0:a.users.length,r,"internal-error"),o=a.users[0],t._notifyReloadListener(o),u=(null===(n=o.providerUserInfo)||void 0===n?void 0:n.length)?Ol(o.providerUserInfo):[],s=Rl(t.providerData,u),c=t.isAnonymous,l=!(t.email&&o.passwordHash)&&!(null===s||void 0===s?void 0:s.length),f=!!c&&l,h={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:s,metadata:new Cl(o.createdAt,o.lastLoginAt),isAnonymous:f},Object.assign(t,h);case 17:case"end":return e.stop()}}),e)}))),Al.apply(this,arguments)}function Pl(){return(Pl=Gu(Qu().mark((function e(t){var n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Wu(t),e.next=3,Nl(n);case 3:return e.next=5,n.auth._persistUserIfCurrent(n);case 5:n.auth._notifyListenersIfCurrent(n);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rl(e,t){var n=e.filter((function(e){return!t.some((function(t){return t.providerId===e.providerId}))}));return[].concat(Wa(n),Wa(t))}function Ol(e){return e.map((function(e){var t=e.providerId,n=bc(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}function Dl(e,t){return Ll.apply(this,arguments)}function Ll(){return(Ll=Gu(Qu().mark((function e(t,n){var r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ul(t,{},Gu(Qu().mark((function e(){var r,i,a,o,u,s;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ju({grant_type:"refresh_token",refresh_token:n}).slice(1),i=t.config,a=i.tokenApiHost,o=i.apiKey,u=fl(t,a,"/v1/token","key=".concat(o)),e.next=5,t._getAdditionalHeaders();case 5:return(s=e.sent)["Content-Type"]="application/x-www-form-urlencoded",e.abrupt("return",tl.fetch()(u,{method:"POST",headers:s,body:r}));case 8:case"end":return e.stop()}}),e)}))));case 2:return r=e.sent,e.abrupt("return",{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ml=function(){function e(){Ka(this,e),this.refreshToken=null,this.accessToken=null,this.expirationTime=null}return Ha(e,[{key:"isExpired",get:function(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}},{key:"updateFromServerResponse",value:function(e){Kc(e.idToken,"internal-error"),Kc("undefined"!==typeof e.idToken,"internal-error"),Kc("undefined"!==typeof e.refreshToken,"internal-error");var t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):function(e){var t=_l(e);return Kc(t,"internal-error"),Kc("undefined"!==typeof t.exp,"internal-error"),Kc("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}},{key:"getToken",value:function(){var e=Gu(Qu().mark((function e(t){var n,r=arguments;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>1&&void 0!==r[1]&&r[1],Kc(!this.accessToken||this.refreshToken,t,"user-token-expired"),n||!this.accessToken||this.isExpired){e.next=4;break}return e.abrupt("return",this.accessToken);case 4:if(!this.refreshToken){e.next=8;break}return e.next=7,this.refresh(t,this.refreshToken);case 7:return e.abrupt("return",this.accessToken);case 8:return e.abrupt("return",null);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearRefreshToken",value:function(){this.refreshToken=null}},{key:"refresh",value:function(){var e=Gu(Qu().mark((function e(t,n){var r,i,a,o;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dl(t,n);case 2:r=e.sent,i=r.accessToken,a=r.refreshToken,o=r.expiresIn,this.updateTokensAndExpiration(i,a,Number(o));case 7:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"updateTokensAndExpiration",value:function(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}},{key:"toJSON",value:function(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}},{key:"_assign",value:function(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}},{key:"_clone",value:function(){return Object.assign(new e,this.toJSON())}},{key:"_performRefresh",value:function(){return Gc("not implemented")}}],[{key:"fromJSON",value:function(t,n){var r=n.refreshToken,i=n.accessToken,a=n.expirationTime,o=new e;return r&&(Kc("string"===typeof r,"internal-error",{appName:t}),o.refreshToken=r),i&&(Kc("string"===typeof i,"internal-error",{appName:t}),o.accessToken=i),a&&(Kc("number"===typeof a,"internal-error",{appName:t}),o.expirationTime=a),o}}]),e}();function Fl(e,t){Kc("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}var jl=function(){function e(t){Ka(this,e);var n=t.uid,r=t.auth,i=t.stsTokenManager,a=bc(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tl(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?Wa(a.providerData):[],this.metadata=new Cl(a.createdAt||void 0,a.lastLoginAt||void 0)}return Ha(e,[{key:"getIdToken",value:function(){var e=Gu(Qu().mark((function e(t){var n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Il(this,this.stsTokenManager.getToken(this.auth,t));case 2:if(Kc(n=e.sent,this.auth,"internal-error"),this.accessToken===n){e.next=9;break}return this.accessToken=n,e.next=8,this.auth._persistUserIfCurrent(this);case 8:this.auth._notifyListenersIfCurrent(this);case 9:return e.abrupt("return",n);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getIdTokenResult",value:function(e){return function(e){return bl.apply(this,arguments)}(this,e)}},{key:"reload",value:function(){return function(e){return Pl.apply(this,arguments)}(this)}},{key:"_assign",value:function(e){this!==e&&(Kc(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((function(e){return Object.assign({},e)})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}},{key:"_clone",value:function(t){return new e(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}))}},{key:"_onReload",value:function(e){Kc(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}},{key:"_notifyReloadListener",value:function(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}},{key:"_startProactiveRefresh",value:function(){this.proactiveRefresh._start()}},{key:"_stopProactiveRefresh",value:function(){this.proactiveRefresh._stop()}},{key:"_updateTokensIfNecessary",value:function(){var e=Gu(Qu().mark((function e(t){var n,r,i=arguments;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],r=!1,t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),!n){e.next=6;break}return e.next=6,Nl(this);case 6:return e.next=8,this.auth._persistUserIfCurrent(this);case 8:r&&this.auth._notifyListenersIfCurrent(this);case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){var e=Gu(Qu().mark((function e(){var t;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getIdToken();case 2:return t=e.sent,e.next=5,Il(this,pl(this.auth,{idToken:t}));case 5:return this.stsTokenManager.clearRefreshToken(),e.abrupt("return",this.auth.signOut());case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"toJSON",value:function(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((function(e){return Object.assign({},e)})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}},{key:"refreshToken",get:function(){return this.stsTokenManager.refreshToken||""}}],[{key:"_fromJSON",value:function(t,n){var r,i,a,o,u,s,c,l,f=null!==(r=n.displayName)&&void 0!==r?r:void 0,h=null!==(i=n.email)&&void 0!==i?i:void 0,d=null!==(a=n.phoneNumber)&&void 0!==a?a:void 0,p=null!==(o=n.photoURL)&&void 0!==o?o:void 0,v=null!==(u=n.tenantId)&&void 0!==u?u:void 0,m=null!==(s=n._redirectEventId)&&void 0!==s?s:void 0,y=null!==(c=n.createdAt)&&void 0!==c?c:void 0,g=null!==(l=n.lastLoginAt)&&void 0!==l?l:void 0,k=n.uid,w=n.emailVerified,b=n.isAnonymous,x=n.providerData,_=n.stsTokenManager;Kc(k&&_,t,"internal-error");var I=Ml.fromJSON(this.name,_);Kc("string"===typeof k,t,"internal-error"),Fl(f,t.name),Fl(h,t.name),Kc("boolean"===typeof w,t,"internal-error"),Kc("boolean"===typeof b,t,"internal-error"),Fl(d,t.name),Fl(p,t.name),Fl(v,t.name),Fl(m,t.name),Fl(y,t.name),Fl(g,t.name);var S=new e({uid:k,auth:t,email:h,emailVerified:w,displayName:f,isAnonymous:b,photoURL:p,phoneNumber:d,tenantId:v,stsTokenManager:I,createdAt:y,lastLoginAt:g});return x&&Array.isArray(x)&&(S.providerData=x.map((function(e){return Object.assign({},e)}))),m&&(S._redirectEventId=m),S}},{key:"_fromIdTokenResponse",value:function(){var t=Gu(Qu().mark((function t(n,r){var i,a,o,u=arguments;return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return i=u.length>2&&void 0!==u[2]&&u[2],(a=new Ml).updateFromServerResponse(r),o=new e({uid:r.localId,auth:n,stsTokenManager:a,isAnonymous:i}),t.next=6,Nl(o);case 6:return t.abrupt("return",o);case 7:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}()}]),e}(),Ul=function(){function e(){Ka(this,e),this.type="NONE",this.storage={}}return Ha(e,[{key:"_isAvailable",value:function(){var e=Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",!0);case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.storage[t]=n;case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Gu(Qu().mark((function e(t){var n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=this.storage[t],e.abrupt("return",void 0===n?null:n);case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:delete this.storage[t];case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),e}();Ul.type="NONE";var Vl=Ul;function zl(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}var Bl=function(){function e(t,n,r){Ka(this,e),this.persistence=t,this.auth=n,this.userKey=r;var i=this.auth,a=i.config,o=i.name;this.fullUserKey=zl(this.userKey,a.apiKey,o),this.fullPersistenceKey=zl("persistence",a.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}return Ha(e,[{key:"setCurrentUser",value:function(e){return this.persistence._set(this.fullUserKey,e.toJSON())}},{key:"getCurrentUser",value:function(){var e=Gu(Qu().mark((function e(){var t;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.persistence._get(this.fullUserKey);case 2:return t=e.sent,e.abrupt("return",t?jl._fromJSON(this.auth,t):null);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"removeCurrentUser",value:function(){return this.persistence._remove(this.fullUserKey)}},{key:"savePersistenceForRedirect",value:function(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}},{key:"setPersistence",value:function(){var e=Gu(Qu().mark((function e(t){var n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.persistence!==t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.getCurrentUser();case 4:return n=e.sent,e.next=7,this.removeCurrentUser();case 7:if(this.persistence=t,!n){e.next=10;break}return e.abrupt("return",this.setCurrentUser(n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"delete",value:function(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}}],[{key:"create",value:function(){var t=Gu(Qu().mark((function t(n,r){var i,a,o,u,s,c,l,f,h,d,p,v=arguments;return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=v.length>2&&void 0!==v[2]?v[2]:"authUser",r.length){t.next=3;break}return t.abrupt("return",new e($c(Vl),n,i));case 3:return t.next=5,Promise.all(r.map(function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._isAvailable();case 2:if(!e.sent){e.next=4;break}return e.abrupt("return",t);case 4:return e.abrupt("return",void 0);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()));case 5:a=t.sent.filter((function(e){return e})),o=a[0]||$c(Vl),u=zl(i,n.config.apiKey,n.name),s=null,c=du(r),t.prev=10,c.s();case 12:if((l=c.n()).done){t.next=29;break}return f=l.value,t.prev=14,t.next=17,f._get(u);case 17:if(!(h=t.sent)){t.next=23;break}return d=jl._fromJSON(n,h),f!==o&&(s=d),o=f,t.abrupt("break",29);case 23:t.next=27;break;case 25:t.prev=25,t.t0=t.catch(14);case 27:t.next=12;break;case 29:t.next=34;break;case 31:t.prev=31,t.t1=t.catch(10),c.e(t.t1);case 34:return t.prev=34,c.f(),t.finish(34);case 37:if(p=a.filter((function(e){return e._shouldAllowMigration})),o._shouldAllowMigration&&p.length){t.next=40;break}return t.abrupt("return",new e(o,n,i));case 40:if(o=p[0],!s){t.next=44;break}return t.next=44,o._set(u,s.toJSON());case 44:return t.next=46,Promise.all(r.map(function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t===o){e.next=8;break}return e.prev=1,e.next=4,t._remove(u);case 4:e.next=8;break;case 6:e.prev=6,e.t0=e.catch(1);case 8:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t){return e.apply(this,arguments)}}()));case 46:return t.abrupt("return",new e(o,n,i));case 47:case"end":return t.stop()}}),t,null,[[10,31,34,37],[14,25]])})));return function(e,n){return t.apply(this,arguments)}}()}]),e}();function ql(e){var t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Hl(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Wl(t))return"Firefox";if(t.includes("silk/"))return"Silk";if($l(t))return"Blackberry";if(Yl(t))return"Webos";if(Kl(t))return"Safari";if((t.includes("chrome/")||Gl(t))&&!t.includes("edge/"))return"Chrome";if(Ql(t))return"Android";var n=e.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);return 2===(null===n||void 0===n?void 0:n.length)?n[1]:"Other"}function Wl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu();return/firefox\//i.test(e)}function Kl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu(),t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Gl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu();return/crios\//i.test(e)}function Hl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu();return/iemobile/i.test(e)}function Ql(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu();return/android/i.test(e)}function $l(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu();return/blackberry/i.test(e)}function Yl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu();return/webos/i.test(e)}function Jl(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu();return/iphone|ipad|ipod/i.test(e)}function Xl(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu();return Jl(t)&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}function Zl(){return Nu()&&10===document.documentMode}function ef(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu();return Jl(e)||Ql(e)||Yl(e)||$l(e)||/windows phone/i.test(e)||Hl(e)}function tf(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=ql(Iu());break;case"Worker":t="".concat(ql(Iu()),"-").concat(e);break;default:t=e}var r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(Bs,"/").concat(r)}var nf=function(){function e(t){Ka(this,e),this.auth=t,this.queue=[]}return Ha(e,[{key:"pushCallback",value:function(e,t){var n=this,r=function(t){return new Promise((function(n,r){try{n(e(t))}catch(i){r(i)}}))};r.onAbort=t,this.queue.push(r);var i=this.queue.length-1;return function(){n.queue[i]=function(){return Promise.resolve()}}}},{key:"runMiddleware",value:function(){var e=Gu(Qu().mark((function e(t){var n,r,i,a,o,u,s;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.auth.currentUser!==t){e.next=2;break}return e.abrupt("return");case 2:n=[],e.prev=3,r=du(this.queue),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=14;break}return a=i.value,e.next=11,a(t);case 11:a.onAbort&&n.push(a.onAbort);case 12:e.next=7;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),r.e(e.t0);case 19:return e.prev=19,r.f(),e.finish(19);case 22:e.next=30;break;case 24:e.prev=24,e.t1=e.catch(3),n.reverse(),o=du(n);try{for(o.s();!(u=o.n()).done;){s=u.value;try{s()}catch(Ze){}}}catch(c){o.e(c)}finally{o.f()}throw this.auth._errorFactory.create("login-blocked",{originalMessage:e.t1.message});case 30:case"end":return e.stop()}}),e,this,[[3,24],[5,16,19,22]])})));return function(t){return e.apply(this,arguments)}}()}]),e}(),rf=function(){function e(t,n,r){Ka(this,e),this.app=t,this.heartbeatServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new of(this),this.idTokenSubscription=new of(this),this.beforeStateQueue=new nf(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Fc,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=r.sdkClientVersion}return Ha(e,[{key:"_initializeWithPersistence",value:function(e,t){var n=this;return t&&(this._popupRedirectResolver=$c(t)),this._initializationPromise=this.queue(Gu(Qu().mark((function r(){var i,a;return Qu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!n._deleted){r.next=2;break}return r.abrupt("return");case 2:return r.next=4,Bl.create(n,e);case 4:if(n.persistenceManager=r.sent,!n._deleted){r.next=7;break}return r.abrupt("return");case 7:if(!(null===(i=n._popupRedirectResolver)||void 0===i?void 0:i._shouldInitProactively)){r.next=15;break}return r.prev=8,r.next=11,n._popupRedirectResolver._initialize(n);case 11:r.next=15;break;case 13:r.prev=13,r.t0=r.catch(8);case 15:return r.next=17,n.initializeCurrentUser(t);case 17:if(n.lastNotifiedUid=(null===(a=n.currentUser)||void 0===a?void 0:a.uid)||null,!n._deleted){r.next=20;break}return r.abrupt("return");case 20:n._isInitialized=!0;case 21:case"end":return r.stop()}}),r,null,[[8,13]])})))),this._initializationPromise}},{key:"_onStorageEvent",value:function(){var e=Gu(Qu().mark((function e(){var t;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._deleted){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,this.assertedPersistence.getCurrentUser();case 4:if(t=e.sent,this.currentUser||t){e.next=7;break}return e.abrupt("return");case 7:if(!this.currentUser||!t||this.currentUser.uid!==t.uid){e.next=12;break}return this._currentUser._assign(t),e.next=11,this.currentUser.getIdToken();case 11:return e.abrupt("return");case 12:return e.next=14,this._updateCurrentUser(t,!0);case 14:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeCurrentUser",value:function(){var e=Gu(Qu().mark((function e(t){var n,r,i,a,o,u,s;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.assertedPersistence.getCurrentUser();case 2:if(r=e.sent,i=r,a=!1,!t||!this.config.authDomain){e.next=14;break}return e.next=8,this.getOrInitRedirectPersistenceManager();case 8:return o=null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId,u=null===i||void 0===i?void 0:i._redirectEventId,e.next=12,this.tryRedirectSignIn(t);case 12:s=e.sent,o&&o!==u||!(null===s||void 0===s?void 0:s.user)||(i=s.user,a=!0);case 14:if(i){e.next=16;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 16:if(i._redirectEventId){e.next=32;break}if(!a){e.next=27;break}return e.prev=18,e.next=21,this.beforeStateQueue.runMiddleware(i);case 21:e.next=27;break;case 23:e.prev=23,e.t0=e.catch(18),i=r,this._popupRedirectResolver._overrideRedirectResult(this,(function(){return Promise.reject(e.t0)}));case 27:if(!i){e.next=31;break}return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 31:return e.abrupt("return",this.directlySetCurrentUser(null));case 32:return Kc(this._popupRedirectResolver,this,"argument-error"),e.next=35,this.getOrInitRedirectPersistenceManager();case 35:if(!this.redirectUser||this.redirectUser._redirectEventId!==i._redirectEventId){e.next=37;break}return e.abrupt("return",this.directlySetCurrentUser(i));case 37:return e.abrupt("return",this.reloadAndSetCurrentUserOrClear(i));case 38:case"end":return e.stop()}}),e,this,[[18,23]])})));return function(t){return e.apply(this,arguments)}}()},{key:"tryRedirectSignIn",value:function(){var e=Gu(Qu().mark((function e(t){var n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=null,e.prev=1,e.next=4,this._popupRedirectResolver._completeRedirectFn(this,t,!0);case 4:n=e.sent,e.next=11;break;case 7:return e.prev=7,e.t0=e.catch(1),e.next=11,this._setRedirectUser(null);case 11:return e.abrupt("return",n);case 12:case"end":return e.stop()}}),e,this,[[1,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"reloadAndSetCurrentUserOrClear",value:function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Nl(t);case 3:e.next=9;break;case 5:if(e.prev=5,e.t0=e.catch(0),e.t0.code==="auth/".concat("network-request-failed")){e.next=9;break}return e.abrupt("return",this.directlySetCurrentUser(null));case 9:return e.abrupt("return",this.directlySetCurrentUser(t));case 10:case"end":return e.stop()}}),e,this,[[0,5]])})));return function(t){return e.apply(this,arguments)}}()},{key:"useDeviceLanguage",value:function(){this.languageCode=function(){if("undefined"===typeof navigator)return null;var e=navigator;return e.languages&&e.languages[0]||e.language||null}()}},{key:"_delete",value:function(){var e=Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this._deleted=!0;case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(){var e=Gu(Qu().mark((function e(t){var n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t?Wu(t):null)&&Kc(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),e.abrupt("return",this._updateCurrentUser(n&&n._clone(this)));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_updateCurrentUser",value:function(){var e=Gu(Qu().mark((function e(t){var n,r=this,i=arguments;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=i.length>1&&void 0!==i[1]&&i[1],!this._deleted){e.next=3;break}return e.abrupt("return");case 3:if(t&&Kc(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n){e.next=7;break}return e.next=7,this.beforeStateQueue.runMiddleware(t);case 7:return e.abrupt("return",this.queue(Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.directlySetCurrentUser(t);case 2:r.notifyAuthListeners();case 3:case"end":return e.stop()}}),e)})))));case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signOut",value:function(){var e=Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.beforeStateQueue.runMiddleware(null);case 2:if(!this.redirectPersistenceManager&&!this._popupRedirectResolver){e.next=5;break}return e.next=5,this._setRedirectUser(null);case 5:return e.abrupt("return",this._updateCurrentUser(null,!0));case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setPersistence",value:function(e){var t=this;return this.queue(Gu(Qu().mark((function n(){return Qu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.assertedPersistence.setPersistence($c(e));case 2:case"end":return n.stop()}}),n)}))))}},{key:"_getPersistence",value:function(){return this.assertedPersistence.persistence.type}},{key:"_updateErrorMap",value:function(e){this._errorFactory=new Ru("auth","Firebase",e())}},{key:"onAuthStateChanged",value:function(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}},{key:"beforeAuthStateChanged",value:function(e,t){return this.beforeStateQueue.pushCallback(e,t)}},{key:"onIdTokenChanged",value:function(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}},{key:"toJSON",value:function(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}},{key:"_setRedirectUser",value:function(){var e=Gu(Qu().mark((function e(t,n){var r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getOrInitRedirectPersistenceManager(n);case 2:return r=e.sent,e.abrupt("return",null===t?r.removeCurrentUser():r.setCurrentUser(t));case 4:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"getOrInitRedirectPersistenceManager",value:function(){var e=Gu(Qu().mark((function e(t){var n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.redirectPersistenceManager){e.next=9;break}return Kc(n=t&&$c(t)||this._popupRedirectResolver,this,"argument-error"),e.next=5,Bl.create(this,[$c(n._redirectPersistence)],"redirectUser");case 5:return this.redirectPersistenceManager=e.sent,e.next=8,this.redirectPersistenceManager.getCurrentUser();case 8:this.redirectUser=e.sent;case 9:return e.abrupt("return",this.redirectPersistenceManager);case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_redirectUserForId",value:function(){var e=Gu(Qu().mark((function e(t){var n,r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isInitialized){e.next=3;break}return e.next=3,this.queue(Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)}))));case 3:if((null===(n=this._currentUser)||void 0===n?void 0:n._redirectEventId)!==t){e.next=5;break}return e.abrupt("return",this._currentUser);case 5:if((null===(r=this.redirectUser)||void 0===r?void 0:r._redirectEventId)!==t){e.next=7;break}return e.abrupt("return",this.redirectUser);case 7:return e.abrupt("return",null);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_persistUserIfCurrent",value:function(){var e=Gu(Qu().mark((function e(t){var n=this;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t!==this.currentUser){e.next=2;break}return e.abrupt("return",this.queue(Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.directlySetCurrentUser(t));case 1:case"end":return e.stop()}}),e)})))));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_notifyListenersIfCurrent",value:function(e){e===this.currentUser&&this.notifyAuthListeners()}},{key:"_key",value:function(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}},{key:"_startProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}},{key:"_stopProactiveRefresh",value:function(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}},{key:"_currentUser",get:function(){return this.currentUser}},{key:"notifyAuthListeners",value:function(){var e,t;if(this._isInitialized){this.idTokenSubscription.next(this.currentUser);var n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}}},{key:"registerStateListener",value:function(e,t,n,r){var i=this;if(this._deleted)return function(){};var a="function"===typeof t?t:t.next.bind(t),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Kc(o,this,"internal-error"),o.then((function(){return a(i.currentUser)})),"function"===typeof t?e.addObserver(t,n,r):e.addObserver(t)}},{key:"directlySetCurrentUser",value:function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.currentUser&&this.currentUser!==t&&(this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh()),this.currentUser=t,!t){e.next=7;break}return e.next=5,this.assertedPersistence.setCurrentUser(t);case 5:e.next=9;break;case 7:return e.next=9,this.assertedPersistence.removeCurrentUser();case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"queue",value:function(e){return this.operations=this.operations.then(e,e),this.operations}},{key:"assertedPersistence",get:function(){return Kc(this.persistenceManager,this,"internal-error"),this.persistenceManager}},{key:"_logFramework",value:function(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=tf(this.config.clientPlatform,this._getFrameworks()))}},{key:"_getFrameworks",value:function(){return this.frameworks}},{key:"_getAdditionalHeaders",value:function(){var e=Gu(Qu().mark((function e(){var t,n,r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Me({},"X-Client-Version",this.clientVersion),this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId),e.next=4,null===(t=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();case 4:return(r=e.sent)&&(n["X-Firebase-Client"]=r),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function af(e){return Wu(e)}var of=function(){function e(t){var n=this;Ka(this,e),this.auth=t,this.observer=null,this.addObserver=zu((function(e){return n.observer=e}))}return Ha(e,[{key:"next",get:function(){return Kc(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}]),e}();function uf(e,t,n){var r=af(e);Kc(r._canInitEmulator,r,"emulator-config-failed"),Kc(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");var i=!!(null===n||void 0===n?void 0:n.disableWarnings),a=sf(t),o=function(e){var t=sf(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};var r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){var a=i[1];return{host:a,port:cf(r.substr(a.length+1))}}var o=Le(r.split(":"),2);return{host:o[0],port:cf(o[1])}}(t),u=o.host,s=o.port,c=null===s?"":":".concat(s);r.config.emulator={url:"".concat(a,"//").concat(u).concat(c,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:u,port:s,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){var e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function sf(e){var t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function cf(e){if(!e)return null;var t=Number(e);return isNaN(t)?null:t}var lf=function(){function e(t,n){Ka(this,e),this.providerId=t,this.signInMethod=n}return Ha(e,[{key:"toJSON",value:function(){return Gc("not implemented")}},{key:"_getIdTokenResponse",value:function(e){return Gc("not implemented")}},{key:"_linkToIdToken",value:function(e,t){return Gc("not implemented")}},{key:"_getReauthenticationResolver",value:function(e){return Gc("not implemented")}}]),e}();function ff(e,t){return hf.apply(this,arguments)}function hf(){return(hf=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",al(t,"POST","/v1/accounts:resetPassword",il(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function df(e,t){return pf.apply(this,arguments)}function pf(){return(pf=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",al(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vf(e,t){return mf.apply(this,arguments)}function mf(){return(mf=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",al(t,"POST","/v1/accounts:update",il(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yf(e,t){return gf.apply(this,arguments)}function gf(){return(gf=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cl(t,"POST","/v1/accounts:signInWithPassword",il(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function kf(e,t){return wf.apply(this,arguments)}function wf(){return(wf=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",al(t,"POST","/v1/accounts:sendOobCode",il(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bf(e,t){return xf.apply(this,arguments)}function xf(){return(xf=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kf(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _f(e,t){return If.apply(this,arguments)}function If(){return(If=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kf(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sf(e,t){return Ef.apply(this,arguments)}function Ef(){return(Ef=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kf(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tf(e,t){return Cf.apply(this,arguments)}function Cf(){return(Cf=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",kf(t,n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Nf(e,t){return Af.apply(this,arguments)}function Af(){return(Af=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cl(t,"POST","/v1/accounts:signInWithEmailLink",il(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pf(e,t){return Rf.apply(this,arguments)}function Rf(){return(Rf=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cl(t,"POST","/v1/accounts:signInWithEmailLink",il(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Of=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return Ka(this,n),(a=t.call(this,"password",i))._email=e,a._password=r,a._tenantId=o,a}return Ha(n,[{key:"toJSON",value:function(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}},{key:"_getIdTokenResponse",value:function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",yf(t,{returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Nf(t,{email:this._email,oobCode:this._password}));case 5:Vc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_linkToIdToken",value:function(){var e=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:e.t0=this.signInMethod,e.next="password"===e.t0?3:"emailLink"===e.t0?4:5;break;case 3:return e.abrupt("return",df(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password}));case 4:return e.abrupt("return",Pf(t,{idToken:n,email:this._email,oobCode:this._password}));case 5:Vc(t,"internal-error");case 6:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_getReauthenticationResolver",value:function(e){return this._getIdTokenResponse(e)}}],[{key:"_fromEmailAndPassword",value:function(e,t){return new n(e,t,"password")}},{key:"_fromEmailAndCode",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return new n(e,t,"emailLink",r)}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}}]),n}(lf);function Df(e,t){return Lf.apply(this,arguments)}function Lf(){return(Lf=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cl(t,"POST","/v1/accounts:signInWithIdp",il(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Mf=function(e){Ma(n,e);var t=Ba(n);function n(){var e;return Ka(this,n),(e=t.apply(this,arguments)).pendingToken=null,e}return Ha(n,[{key:"toJSON",value:function(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}},{key:"_getIdTokenResponse",value:function(e){return Df(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Df(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Df(e,t)}},{key:"buildRequest",value:function(){var e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{var t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ju(t)}return e}}],[{key:"_fromParams",value:function(e){var t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Vc("argument-error"),t}},{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=bc(t,["providerId","signInMethod"]);if(!r||!i)return null;var o=new n(r,i);return o.idToken=a.idToken||void 0,o.accessToken=a.accessToken||void 0,o.secret=a.secret,o.nonce=a.nonce,o.pendingToken=a.pendingToken||null,o}}]),n}(lf);function Ff(e,t){return jf.apply(this,arguments)}function jf(){return(jf=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",al(t,"POST","/v1/accounts:sendVerificationCode",il(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uf(){return(Uf=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cl(t,"POST","/v1/accounts:signInWithPhoneNumber",il(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vf(){return(Vf=Gu(Qu().mark((function e(t,n){var r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cl(t,"POST","/v1/accounts:signInWithPhoneNumber",il(t,n));case 2:if(!(r=e.sent).temporaryProof){e.next=5;break}throw dl(t,"account-exists-with-different-credential",r);case 5:return e.abrupt("return",r);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var zf=Me({},"USER_NOT_FOUND","user-not-found");function Bf(){return(Bf=Gu(Qu().mark((function e(t,n){var r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object.assign(Object.assign({},n),{operation:"REAUTH"}),e.abrupt("return",cl(t,"POST","/v1/accounts:signInWithPhoneNumber",il(t,r),zf));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qf=function(e){Ma(n,e);var t=Ba(n);function n(e){var r;return Ka(this,n),(r=t.call(this,"phone","phone")).params=e,r}return Ha(n,[{key:"_getIdTokenResponse",value:function(e){return function(e,t){return Uf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_linkToIdToken",value:function(e,t){return function(e,t){return Vf.apply(this,arguments)}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}},{key:"_getReauthenticationResolver",value:function(e){return function(e,t){return Bf.apply(this,arguments)}(e,this._makeVerificationRequest())}},{key:"_makeVerificationRequest",value:function(){var e=this.params,t=e.temporaryProof,n=e.phoneNumber,r=e.verificationId,i=e.verificationCode;return t&&n?{temporaryProof:t,phoneNumber:n}:{sessionInfo:r,code:i}}},{key:"toJSON",value:function(){var e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}}],[{key:"_fromVerification",value:function(e,t){return new n({verificationId:e,verificationCode:t})}},{key:"_fromTokenResponse",value:function(e,t){return new n({phoneNumber:e,temporaryProof:t})}},{key:"fromJSON",value:function(e){"string"===typeof e&&(e=JSON.parse(e));var t=e,r=t.verificationId,i=t.verificationCode,a=t.phoneNumber,o=t.temporaryProof;return i||r||a||o?new n({verificationId:r,verificationCode:i,phoneNumber:a,temporaryProof:o}):null}}]),n}(lf);var Wf=function(){function e(t){var n,r,i,a,o,u;Ka(this,e);var s=Uu(Vu(t)),c=null!==(n=s.apiKey)&&void 0!==n?n:null,l=null!==(r=s.oobCode)&&void 0!==r?r:null,f=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=s.mode)&&void 0!==i?i:null);Kc(c&&l&&f,"argument-error"),this.apiKey=c,this.operation=f,this.code=l,this.continueUrl=null!==(a=s.continueUrl)&&void 0!==a?a:null,this.languageCode=null!==(o=s.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(u=s.tenantId)&&void 0!==u?u:null}return Ha(e,null,[{key:"parseLink",value:function(t){var n=function(e){var t=Uu(Vu(e)).link,n=t?Uu(Vu(t)).deep_link_id:null,r=Uu(Vu(e)).deep_link_id;return(r?Uu(Vu(r)).link:null)||r||n||t||e}(t);try{return new e(n)}catch(HN){return null}}}]),e}();var Kf=function(){function e(){Ka(this,e),this.providerId=e.PROVIDER_ID}return Ha(e,null,[{key:"credential",value:function(e,t){return Of._fromEmailAndPassword(e,t)}},{key:"credentialWithLink",value:function(e,t){var n=Wf.parseLink(t);return Kc(n,"argument-error"),Of._fromEmailAndCode(e,n.code,n.tenantId)}}]),e}();Kf.PROVIDER_ID="password",Kf.EMAIL_PASSWORD_SIGN_IN_METHOD="password",Kf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";var Gf=function(){function e(t){Ka(this,e),this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}return Ha(e,[{key:"setDefaultLanguage",value:function(e){this.defaultLanguageCode=e}},{key:"setCustomParameters",value:function(e){return this.customParameters=e,this}},{key:"getCustomParameters",value:function(){return this.customParameters}}]),e}(),Hf=function(e){Ma(n,e);var t=Ba(n);function n(){var e;return Ka(this,n),(e=t.apply(this,arguments)).scopes=[],e}return Ha(n,[{key:"addScope",value:function(e){return this.scopes.includes(e)||this.scopes.push(e),this}},{key:"getScopes",value:function(){return Wa(this.scopes)}}]),n}(Gf),Qf=function(e){Ma(n,e);var t=Ba(n);function n(){return Ka(this,n),t.apply(this,arguments)}return Ha(n,[{key:"credential",value:function(e){return this._credential(Object.assign(Object.assign({},e),{nonce:e.rawNonce}))}},{key:"_credential",value:function(e){return Kc(e.idToken||e.accessToken,"argument-error"),Mf._fromParams(Object.assign(Object.assign({},e),{providerId:this.providerId,signInMethod:this.providerId}))}}],[{key:"credentialFromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e;return Kc("providerId"in t&&"signInMethod"in t,"argument-error"),Mf._fromParams(t)}},{key:"credentialFromResult",value:function(e){return n.oauthCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.oauthCredentialFromTaggedObject(e.customData||{})}},{key:"oauthCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken,a=t.oauthTokenSecret,o=t.pendingToken,u=t.nonce,s=t.providerId;if(!i&&!a&&!r&&!o)return null;if(!s)return null;try{return new n(s)._credential({idToken:r,accessToken:i,nonce:u,pendingToken:o})}catch(c){return null}}}]),n}(Hf),$f=function(e){Ma(n,e);var t=Ba(n);function n(){return Ka(this,n),t.call(this,"facebook.com")}return Ha(n,null,[{key:"credential",value:function(e){return Mf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(HN){return null}}}]),n}(Hf);$f.FACEBOOK_SIGN_IN_METHOD="facebook.com",$f.PROVIDER_ID="facebook.com";var Yf=function(e){Ma(n,e);var t=Ba(n);function n(){var e;return Ka(this,n),(e=t.call(this,"google.com")).addScope("profile"),e}return Ha(n,null,[{key:"credential",value:function(e,t){return Mf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthIdToken,i=t.oauthAccessToken;if(!r&&!i)return null;try{return n.credential(r,i)}catch(HN){return null}}}]),n}(Hf);Yf.GOOGLE_SIGN_IN_METHOD="google.com",Yf.PROVIDER_ID="google.com";var Jf=function(e){Ma(n,e);var t=Ba(n);function n(){return Ka(this,n),t.call(this,"github.com")}return Ha(n,null,[{key:"credential",value:function(e){return Mf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GITHUB_SIGN_IN_METHOD,accessToken:e})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return n.credential(t.oauthAccessToken)}catch(HN){return null}}}]),n}(Hf);Jf.GITHUB_SIGN_IN_METHOD="github.com",Jf.PROVIDER_ID="github.com";var Xf=function(e){Ma(n,e);var t=Ba(n);function n(e,r){var i;return Ka(this,n),(i=t.call(this,e,e)).pendingToken=r,i}return Ha(n,[{key:"_getIdTokenResponse",value:function(e){return Df(e,this.buildRequest())}},{key:"_linkToIdToken",value:function(e,t){var n=this.buildRequest();return n.idToken=t,Df(e,n)}},{key:"_getReauthenticationResolver",value:function(e){var t=this.buildRequest();return t.autoCreate=!1,Df(e,t)}},{key:"toJSON",value:function(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}},{key:"buildRequest",value:function(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}],[{key:"fromJSON",value:function(e){var t="string"===typeof e?JSON.parse(e):e,r=t.providerId,i=t.signInMethod,a=t.pendingToken;return r&&i&&a&&r===i?new n(r,a):null}},{key:"_create",value:function(e,t){return new n(e,t)}}]),n}(lf),Zf=function(e){Ma(n,e);var t=Ba(n);function n(e){return Ka(this,n),Kc(e.startsWith("saml."),"argument-error"),t.call(this,e)}return Ha(n,null,[{key:"credentialFromResult",value:function(e){return n.samlCredentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.samlCredentialFromTaggedObject(e.customData||{})}},{key:"credentialFromJSON",value:function(e){var t=Xf.fromJSON(e);return Kc(t,"argument-error"),t}},{key:"samlCredentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.pendingToken,r=t.providerId;if(!n||!r)return null;try{return Xf._create(r,n)}catch(i){return null}}}]),n}(Gf),eh=function(e){Ma(n,e);var t=Ba(n);function n(){return Ka(this,n),t.call(this,"twitter.com")}return Ha(n,null,[{key:"credential",value:function(e,t){return Mf._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}},{key:"credentialFromResult",value:function(e){return n.credentialFromTaggedObject(e)}},{key:"credentialFromError",value:function(e){return n.credentialFromTaggedObject(e.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var r=t.oauthAccessToken,i=t.oauthTokenSecret;if(!r||!i)return null;try{return n.credential(r,i)}catch(HN){return null}}}]),n}(Hf);function th(e,t){return nh.apply(this,arguments)}function nh(){return(nh=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cl(t,"POST","/v1/accounts:signUp",il(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}eh.TWITTER_SIGN_IN_METHOD="twitter.com",eh.PROVIDER_ID="twitter.com";var rh=function(){function e(t){Ka(this,e),this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}return Ha(e,null,[{key:"_fromIdTokenResponse",value:function(){var t=Gu(Qu().mark((function t(n,r,i){var a,o,u,s,c=arguments;return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.length>3&&void 0!==c[3]&&c[3],t.next=3,jl._fromIdTokenResponse(n,i,a);case 3:return o=t.sent,u=ih(i),s=new e({user:o,providerId:u,_tokenResponse:i,operationType:r}),t.abrupt("return",s);case 7:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()},{key:"_forOperation",value:function(){var t=Gu(Qu().mark((function t(n,r,i){var a;return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n._updateTokensIfNecessary(i,!0);case 2:return a=ih(i),t.abrupt("return",new e({user:n,providerId:a,_tokenResponse:i,operationType:r}));case 4:case"end":return t.stop()}}),t)})));return function(e,n,r){return t.apply(this,arguments)}}()}]),e}();function ih(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}function ah(){return ah=Gu(Qu().mark((function e(t){var n,r,i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=af(t),e.next=3,r._initializationPromise;case 3:if(!(null===(n=r.currentUser)||void 0===n?void 0:n.isAnonymous)){e.next=5;break}return e.abrupt("return",new rh({user:r.currentUser,providerId:null,operationType:"signIn"}));case 5:return e.next=7,th(r,{returnSecureToken:!0});case 7:return i=e.sent,e.next=10,rh._fromIdTokenResponse(r,"signIn",i,!0);case 10:return a=e.sent,e.next=13,r._updateCurrentUser(a.user);case 13:return e.abrupt("return",a);case 14:case"end":return e.stop()}}),e)}))),ah.apply(this,arguments)}var oh=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i,a){var o,u;return Ka(this,n),(o=t.call(this,r.code,r.message)).operationType=i,o.user=a,Object.setPrototypeOf(Va(o),n.prototype),o.customData={appName:e.name,tenantId:null!==(u=e.tenantId)&&void 0!==u?u:void 0,_serverResponse:r.customData._serverResponse,operationType:i},o}return Ha(n,null,[{key:"_fromErrorAndOperation",value:function(e,t,r,i){return new n(e,t,r,i)}}]),n}(Pu);function uh(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((function(n){if(n.code==="auth/".concat("multi-factor-auth-required"))throw oh._fromErrorAndOperation(e,n,t,r);throw n}))}function sh(e){return new Set(e.map((function(e){return e.providerId})).filter((function(e){return!!e})))}function ch(e,t){return lh.apply(this,arguments)}function lh(){return lh=Gu(Qu().mark((function e(t,n){var r,i,a,o;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wu(t),e.next=3,dh(!0,r,n);case 3:return e.t0=ml,e.t1=r.auth,e.next=7,r.getIdToken();case 7:return e.t2=e.sent,e.t3=[n],e.t4={idToken:e.t2,deleteProvider:e.t3},e.next=12,(0,e.t0)(e.t1,e.t4);case 12:return i=e.sent,a=i.providerUserInfo,o=sh(a||[]),r.providerData=r.providerData.filter((function(e){return o.has(e.providerId)})),o.has("phone")||(r.phoneNumber=null),e.next=19,r.auth._persistUserIfCurrent(r);case 19:return e.abrupt("return",r);case 20:case"end":return e.stop()}}),e)}))),lh.apply(this,arguments)}function fh(e,t){return hh.apply(this,arguments)}function hh(){return hh=Gu(Qu().mark((function e(t,n){var r,i,a=arguments;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=a.length>2&&void 0!==a[2]&&a[2],e.t0=Il,e.t1=t,e.t2=n,e.t3=t.auth,e.next=7,t.getIdToken();case 7:return e.t4=e.sent,e.t5=e.t2._linkToIdToken.call(e.t2,e.t3,e.t4),e.t6=r,e.next=12,(0,e.t0)(e.t1,e.t5,e.t6);case 12:return i=e.sent,e.abrupt("return",rh._forOperation(t,"link",i));case 14:case"end":return e.stop()}}),e)}))),hh.apply(this,arguments)}function dh(e,t,n){return ph.apply(this,arguments)}function ph(){return(ph=Gu(Qu().mark((function e(t,n,r){var i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Nl(n);case 2:i=sh(n.providerData),a=!1===t?"provider-already-linked":"no-such-provider",Kc(i.has(r)===t,n.auth,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function vh(e,t){return mh.apply(this,arguments)}function mh(){return mh=Gu(Qu().mark((function e(t,n){var r,i,a,o,u,s,c=arguments;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=c.length>2&&void 0!==c[2]&&c[2],i=t.auth,a="reauthenticate",e.prev=3,e.next=6,Il(t,uh(i,a,n,t),r);case 6:return Kc((o=e.sent).idToken,i,"internal-error"),Kc(u=_l(o.idToken),i,"internal-error"),s=u.sub,Kc(t.uid===s,i,"user-mismatch"),e.abrupt("return",rh._forOperation(t,a,o));case 15:throw e.prev=15,e.t0=e.catch(3),(null===e.t0||void 0===e.t0?void 0:e.t0.code)==="auth/".concat("user-not-found")&&Vc(i,"user-mismatch"),e.t0;case 19:case"end":return e.stop()}}),e,null,[[3,15]])}))),mh.apply(this,arguments)}function yh(e,t){return gh.apply(this,arguments)}function gh(){return gh=Gu(Qu().mark((function e(t,n){var r,i,a,o,u=arguments;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=u.length>2&&void 0!==u[2]&&u[2],i="signIn",e.next=4,uh(t,i,n);case 4:return a=e.sent,e.next=7,rh._fromIdTokenResponse(t,i,a);case 7:if(o=e.sent,r){e.next=11;break}return e.next=11,t._updateCurrentUser(o.user);case 11:return e.abrupt("return",o);case 12:case"end":return e.stop()}}),e)}))),gh.apply(this,arguments)}function kh(e,t){return wh.apply(this,arguments)}function wh(){return(wh=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",yh(af(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bh(e,t){return xh.apply(this,arguments)}function xh(){return(xh=Gu(Qu().mark((function e(t,n){var r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wu(t),e.next=3,dh(!1,r,n.providerId);case 3:return e.abrupt("return",fh(r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _h(e,t){return Ih.apply(this,arguments)}function Ih(){return(Ih=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vh(Wu(t),n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sh(e,t){return Eh.apply(this,arguments)}function Eh(){return(Eh=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",cl(t,"POST","/v1/accounts:signInWithCustomToken",il(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Th(){return(Th=Gu(Qu().mark((function e(t,n){var r,i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=af(t),e.next=3,Sh(r,{token:n,returnSecureToken:!0});case 3:return i=e.sent,e.next=6,rh._fromIdTokenResponse(r,"signIn",i);case 6:return a=e.sent,e.next=9,r._updateCurrentUser(a.user);case 9:return e.abrupt("return",a);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ch=function(){function e(t,n){Ka(this,e),this.factorId=t,this.uid=n.mfaEnrollmentId,this.enrollmentTime=new Date(n.enrolledAt).toUTCString(),this.displayName=n.displayName}return Ha(e,null,[{key:"_fromServerResponse",value:function(e,t){return"phoneInfo"in t?Nh._fromServerResponse(e,t):Vc(e,"internal-error")}}]),e}(),Nh=function(e){Ma(n,e);var t=Ba(n);function n(e){var r;return Ka(this,n),(r=t.call(this,"phone",e)).phoneNumber=e.phoneInfo,r}return Ha(n,null,[{key:"_fromServerResponse",value:function(e,t){return new n(t)}}]),n}(Ch);function Ah(e,t,n){var r;Kc((null===(r=n.url)||void 0===r?void 0:r.length)>0,e,"invalid-continue-uri"),Kc("undefined"===typeof n.dynamicLinkDomain||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Kc(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Kc(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}function Ph(){return(Ph=Gu(Qu().mark((function e(t,n,r){var i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wu(t),a={requestType:"PASSWORD_RESET",email:n},r&&Ah(i,a,r),e.next=5,_f(i,a);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Rh(){return(Rh=Gu(Qu().mark((function e(t,n,r){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ff(Wu(t),{oobCode:n,newPassword:r});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Oh(){return(Oh=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,vf(Wu(t),{oobCode:n});case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Dh(e,t){return Lh.apply(this,arguments)}function Lh(){return(Lh=Gu(Qu().mark((function e(t,n){var r,i,a,o;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wu(t),e.next=3,ff(r,{oobCode:n});case 3:i=e.sent,Kc(a=i.requestType,r,"internal-error"),e.t0=a,e.next="EMAIL_SIGNIN"===e.t0?9:"VERIFY_AND_CHANGE_EMAIL"===e.t0?10:"REVERT_SECOND_FACTOR_ADDITION"===e.t0?12:13;break;case 9:return e.abrupt("break",14);case 10:return Kc(i.newEmail,r,"internal-error"),e.abrupt("break",14);case 12:Kc(i.mfaInfo,r,"internal-error");case 13:Kc(i.email,r,"internal-error");case 14:return o=null,i.mfaInfo&&(o=Ch._fromServerResponse(af(r),i.mfaInfo)),e.abrupt("return",{data:{email:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.newEmail:i.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===i.requestType?i.email:i.newEmail)||null,multiFactorInfo:o},operation:a});case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mh(){return(Mh=Gu(Qu().mark((function e(t,n){var r,i;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Dh(Wu(t),n);case 2:return r=e.sent,i=r.data,e.abrupt("return",i.email);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Fh(e,t,n){return jh.apply(this,arguments)}function jh(){return(jh=Gu(Qu().mark((function e(t,n,r){var i,a,o;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=af(t),e.next=3,th(i,{returnSecureToken:!0,email:n,password:r});case 3:return a=e.sent,e.next=6,rh._fromIdTokenResponse(i,"signIn",a);case 6:return o=e.sent,e.next=9,i._updateCurrentUser(o.user);case 9:return e.abrupt("return",o);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uh(){return(Uh=Gu(Qu().mark((function e(t,n,r){var i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wu(t),a={requestType:"EMAIL_SIGNIN",email:n},Kc(r.handleCodeInApp,i,"argument-error"),r&&Ah(i,a,r),e.next=6,Sf(i,a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vh(){return(Vh=Gu(Qu().mark((function e(t,n,r){var i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wu(t),Kc((a=Kf.credentialWithLink(n,r||Yc()))._tenantId===(i.tenantId||null),i,"tenant-id-mismatch"),e.abrupt("return",kh(i,a));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zh(e,t){return Bh.apply(this,arguments)}function Bh(){return(Bh=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",al(t,"POST","/v1/accounts:createAuthUri",il(t,n)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function qh(){return(qh=Gu(Qu().mark((function e(t,n){var r,i,a,o;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Jc()?Yc():"http://localhost",i={identifier:n,continueUri:r},e.next=4,zh(Wu(t),i);case 4:return a=e.sent,o=a.signinMethods,e.abrupt("return",o||[]);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Wh(){return(Wh=Gu(Qu().mark((function e(t,n){var r,i,a,o;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Wu(t),e.next=3,t.getIdToken();case 3:return i=e.sent,a={requestType:"VERIFY_EMAIL",idToken:i},n&&Ah(r.auth,a,n),e.next=8,bf(r.auth,a);case 8:if(o=e.sent,o.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kh(){return(Kh=Gu(Qu().mark((function e(t,n,r){var i,a,o,u;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wu(t),e.next=3,t.getIdToken();case 3:return a=e.sent,o={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:a,newEmail:n},r&&Ah(i.auth,o,r),e.next=8,Tf(i.auth,o);case 8:if(u=e.sent,u.email===t.email){e.next=13;break}return e.next=13,t.reload();case 13:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Gh(e,t){return Hh.apply(this,arguments)}function Hh(){return(Hh=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",al(t,"POST","/v1/accounts:update",n));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Qh(){return(Qh=Gu(Qu().mark((function e(t,n){var r,i,a,o,u,s,c;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=n.displayName,i=n.photoURL,void 0!==r||void 0!==i){e.next=3;break}return e.abrupt("return");case 3:return a=Wu(t),e.next=6,a.getIdToken();case 6:return o=e.sent,u={idToken:o,displayName:r,photoUrl:i,returnSecureToken:!0},e.next=10,Il(a,Gh(a.auth,u));case 10:return s=e.sent,a.displayName=s.displayName||null,a.photoURL=s.photoUrl||null,(c=a.providerData.find((function(e){return"password"===e.providerId})))&&(c.displayName=a.displayName,c.photoURL=a.photoURL),e.next=17,a._updateTokensIfNecessary(s);case 17:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $h(e,t,n){return Yh.apply(this,arguments)}function Yh(){return(Yh=Gu(Qu().mark((function e(t,n,r){var i,a,o,u;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.auth,e.next=3,t.getIdToken();case 3:return a=e.sent,o={idToken:a,returnSecureToken:!0},n&&(o.email=n),r&&(o.password=r),e.next=9,Il(t,df(i,o));case 9:return u=e.sent,e.next=12,t._updateTokensIfNecessary(u,!0);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Jh=Ha((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Ka(this,e),this.isNewUser=t,this.providerId=n,this.profile=r})),Xh=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i,a){var o;return Ka(this,n),(o=t.call(this,e,r,i)).username=a,o}return Ha(n)}(Jh),Zh=function(e){Ma(n,e);var t=Ba(n);function n(e,r){return Ka(this,n),t.call(this,e,"facebook.com",r)}return Ha(n)}(Jh),ed=function(e){Ma(n,e);var t=Ba(n);function n(e,r){return Ka(this,n),t.call(this,e,"github.com",r,"string"===typeof(null===r||void 0===r?void 0:r.login)?null===r||void 0===r?void 0:r.login:null)}return Ha(n)}(Xh),td=function(e){Ma(n,e);var t=Ba(n);function n(e,r){return Ka(this,n),t.call(this,e,"google.com",r)}return Ha(n)}(Jh),nd=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i){return Ka(this,n),t.call(this,e,"twitter.com",r,i)}return Ha(n)}(Xh);function rd(e){var t=e.user,n=e._tokenResponse;return t.isAnonymous&&!n?{providerId:null,isNewUser:!1,profile:null}:function(e){var t,n;if(!e)return null;var r=e.providerId,i=e.rawUserInfo?JSON.parse(e.rawUserInfo):{},a=e.isNewUser||"identitytoolkit#SignupNewUserResponse"===e.kind;if(!r&&(null===e||void 0===e?void 0:e.idToken)){var o=null===(n=null===(t=_l(e.idToken))||void 0===t?void 0:t.firebase)||void 0===n?void 0:n.sign_in_provider;if(o)return new Jh(a,"anonymous"!==o&&"custom"!==o?o:null)}if(!r)return null;switch(r){case"facebook.com":return new Zh(a,i);case"github.com":return new ed(a,i);case"google.com":return new td(a,i);case"twitter.com":return new nd(a,i,e.screenName||null);case"custom":case"anonymous":return new Jh(a,null);default:return new Jh(a,r,i)}}(n)}var id=function(){function e(t,n){Ka(this,e),this.type=t,this.credential=n}return Ha(e,[{key:"toJSON",value:function(){return{multiFactorSession:Me({},"enroll"===this.type?"idToken":"pendingCredential",this.credential)}}}],[{key:"_fromIdtoken",value:function(t){return new e("enroll",t)}},{key:"_fromMfaPendingCredential",value:function(t){return new e("signin",t)}},{key:"fromJSON",value:function(t){var n,r;if(null===t||void 0===t?void 0:t.multiFactorSession){if(null===(n=t.multiFactorSession)||void 0===n?void 0:n.pendingCredential)return e._fromMfaPendingCredential(t.multiFactorSession.pendingCredential);if(null===(r=t.multiFactorSession)||void 0===r?void 0:r.idToken)return e._fromIdtoken(t.multiFactorSession.idToken)}return null}}]),e}(),ad=function(){function e(t,n,r){Ka(this,e),this.session=t,this.hints=n,this.signInResolver=r}return Ha(e,[{key:"resolveSignIn",value:function(){var e=Gu(Qu().mark((function e(t){var n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,e.abrupt("return",this.signInResolver(n));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromError",value:function(t,n){var r=af(t),i=n.customData._serverResponse,a=(i.mfaInfo||[]).map((function(e){return Ch._fromServerResponse(r,e)}));Kc(i.mfaPendingCredential,r,"internal-error");var o=id._fromMfaPendingCredential(i.mfaPendingCredential);return new e(o,a,function(){var e=Gu(Qu().mark((function e(t){var a,u,s;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._process(r,o);case 2:a=e.sent,delete i.mfaInfo,delete i.mfaPendingCredential,u=Object.assign(Object.assign({},i),{idToken:a.idToken,refreshToken:a.refreshToken}),e.t0=n.operationType,e.next="signIn"===e.t0?9:"reauthenticate"===e.t0?15:17;break;case 9:return e.next=11,rh._fromIdTokenResponse(r,n.operationType,u);case 11:return s=e.sent,e.next=14,r._updateCurrentUser(s.user);case 14:return e.abrupt("return",s);case 15:return Kc(n.user,r,"internal-error"),e.abrupt("return",rh._forOperation(n.user,n.operationType,u));case 17:Vc(r,"internal-error");case 18:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}]),e}();function od(e,t){return al(e,"POST","/v2/accounts/mfaEnrollment:start",il(e,t))}var ud=function(){function e(t){var n=this;Ka(this,e),this.user=t,this.enrolledFactors=[],t._onReload((function(e){e.mfaInfo&&(n.enrolledFactors=e.mfaInfo.map((function(e){return Ch._fromServerResponse(t.auth,e)})))}))}return Ha(e,[{key:"getSession",value:function(){var e=Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=id,e.next=3,this.user.getIdToken();case 3:return e.t1=e.sent,e.abrupt("return",e.t0._fromIdtoken.call(e.t0,e.t1));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"enroll",value:function(){var e=Gu(Qu().mark((function e(t,n){var r,i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,e.next=3,this.getSession();case 3:return i=e.sent,e.next=6,Il(this.user,r._process(this.user.auth,i,n));case 6:return a=e.sent,e.next=9,this.user._updateTokensIfNecessary(a);case 9:return e.abrupt("return",this.user.reload());case 10:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"unenroll",value:function(){var e=Gu(Qu().mark((function e(t){var n,r,i;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n="string"===typeof t?t:t.uid,e.next=3,this.user.getIdToken();case 3:return r=e.sent,e.next=6,Il(this.user,al(a=this.user.auth,"POST","/v2/accounts/mfaEnrollment:withdraw",il(a,{idToken:r,mfaEnrollmentId:n})));case 6:return i=e.sent,this.enrolledFactors=this.enrolledFactors.filter((function(e){return e.uid!==n})),e.next=10,this.user._updateTokensIfNecessary(i);case 10:return e.prev=10,e.next=13,this.user.reload();case 13:e.next=19;break;case 15:if(e.prev=15,e.t0=e.catch(10),e.t0.code==="auth/".concat("user-token-expired")){e.next=19;break}throw e.t0;case 19:case"end":return e.stop()}var a}),e,this,[[10,15]])})));return function(t){return e.apply(this,arguments)}}()}],[{key:"_fromUser",value:function(t){return new e(t)}}]),e}(),sd=new WeakMap;var cd="__sak",ld=function(){function e(t,n){Ka(this,e),this.storageRetriever=t,this.type=n}return Ha(e,[{key:"_isAvailable",value:function(){try{return this.storage?(this.storage.setItem(cd,"1"),this.storage.removeItem(cd),Promise.resolve(!0)):Promise.resolve(!1)}catch(HN){return Promise.resolve(!1)}}},{key:"_set",value:function(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}},{key:"_get",value:function(e){var t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}},{key:"_remove",value:function(e){return this.storage.removeItem(e),Promise.resolve()}},{key:"storage",get:function(){return this.storageRetriever()}}]),e}();var fd=function(e){Ma(n,e);var t=Ba(n);function n(){var e;return Ka(this,n),(e=t.call(this,(function(){return window.localStorage}),"LOCAL")).boundEventHandler=function(t,n){return e.onStorageEvent(t,n)},e.listeners={},e.localCache={},e.pollTimer=null,e.safariLocalStorageNotSynced=function(){var e=Iu();return Kl(e)||Jl(e)}()&&function(){try{return!(!window||window===window.top)}catch(e){return!1}}(),e.fallbackToPolling=ef(),e._shouldAllowMigration=!0,e}return Ha(n,[{key:"forAllChangedKeys",value:function(e){for(var t=0,n=Object.keys(this.listeners);t<n.length;t++){var r=n[t],i=this.storage.getItem(r),a=this.localCache[r];i!==a&&e(r,a,i)}}},{key:"onStorageEvent",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(e.key){var r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){var i=this.storage.getItem(r);if(e.newValue!==i)null!==e.newValue?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}var a=function(){var e=t.storage.getItem(r);(n||t.localCache[r]!==e)&&t.notifyListeners(r,e)},o=this.storage.getItem(r);Zl()&&o!==e.newValue&&e.newValue!==e.oldValue?setTimeout(a,10):a()}else this.forAllChangedKeys((function(e,n,r){t.notifyListeners(e,r)}))}},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t?JSON.parse(t):t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval((function(){e.forAllChangedKeys((function(t,n,r){e.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)}))}),1e3)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"attachListener",value:function(){window.addEventListener("storage",this.boundEventHandler)}},{key:"detachListener",value:function(){window.removeEventListener("storage",this.boundEventHandler)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}},{key:"_set",value:function(){var e=Gu(Qu().mark((function e(t,r){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wc(Fa(n.prototype),"_set",this).call(this,t,r);case 2:this.localCache[t]=JSON.stringify(r);case 3:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Gu(Qu().mark((function e(t){var r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wc(Fa(n.prototype),"_get",this).call(this,t);case 2:return r=e.sent,this.localCache[t]=JSON.stringify(r),e.abrupt("return",r);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wc(Fa(n.prototype),"_remove",this).call(this,t);case 2:delete this.localCache[t];case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),n}(ld);fd.type="LOCAL";var hd=fd,dd=function(e){Ma(n,e);var t=Ba(n);function n(){return Ka(this,n),t.call(this,(function(){return window.sessionStorage}),"SESSION")}return Ha(n,[{key:"_addListener",value:function(e,t){}},{key:"_removeListener",value:function(e,t){}}]),n}(ld);dd.type="SESSION";var pd=dd;function vd(e){return Promise.all(e.map(function(){var e=Gu(Qu().mark((function e(t){var n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t;case 3:return n=e.sent,e.abrupt("return",{fulfilled:!0,value:n});case 7:return e.prev=7,e.t0=e.catch(0),e.abrupt("return",{fulfilled:!1,reason:e.t0});case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}()))}var md=function(){function e(t){Ka(this,e),this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}return Ha(e,[{key:"isListeningto",value:function(e){return this.eventTarget===e}},{key:"handleEvent",value:function(){var e=Gu(Qu().mark((function e(t){var n,r,i,a,o,u,s,c;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=(n=t).data,i=r.eventId,a=r.eventType,o=r.data,null===(u=this.handlersMap[a])||void 0===u?void 0:u.size){e.next=5;break}return e.abrupt("return");case 5:return n.ports[0].postMessage({status:"ack",eventId:i,eventType:a}),s=Array.from(u).map(function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",t(n.origin,o));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=9,vd(s);case 9:c=e.sent,n.ports[0].postMessage({status:"done",eventId:i,eventType:a,response:c});case 11:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_subscribe",value:function(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}},{key:"_unsubscribe",value:function(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}],[{key:"_getInstance",value:function(t){var n=this.receivers.find((function(e){return e.isListeningto(t)}));if(n)return n;var r=new e(t);return this.receivers.push(r),r}}]),e}();function yd(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="",r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}md.receivers=[];var gd=function(){function e(t){Ka(this,e),this.target=t,this.handlers=new Set}return Ha(e,[{key:"removeMessageHandler",value:function(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}},{key:"_send",value:function(){var e=Gu(Qu().mark((function e(t,n){var r,i,a,o,u=this,s=arguments;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=s.length>2&&void 0!==s[2]?s[2]:50,i="undefined"!==typeof MessageChannel?new MessageChannel:null){e.next=4;break}throw new Error("connection_unavailable");case 4:return e.abrupt("return",new Promise((function(e,s){var c=yd("",20);i.port1.start();var l=setTimeout((function(){s(new Error("unsupported_event"))}),r);o={messageChannel:i,onMessage:function(t){var n=t;if(n.data.eventId===c)switch(n.data.status){case"ack":clearTimeout(l),a=setTimeout((function(){s(new Error("timeout"))}),3e3);break;case"done":clearTimeout(a),e(n.data.response);break;default:clearTimeout(l),clearTimeout(a),s(new Error("invalid_response"))}}},u.handlers.add(o),i.port1.addEventListener("message",o.onMessage),u.target.postMessage({eventType:t,eventId:c,data:n},[i.port2])})).finally((function(){o&&u.removeMessageHandler(o)})));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()}]),e}();function kd(){return window}function wd(){return"undefined"!==typeof kd().WorkerGlobalScope&&"function"===typeof kd().importScripts}function bd(){return xd.apply(this,arguments)}function xd(){return(xd=Gu(Qu().mark((function e(){var t;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null===navigator||void 0===navigator?void 0:navigator.serviceWorker){e.next=2;break}return e.abrupt("return",null);case 2:return e.prev=2,e.next=5,navigator.serviceWorker.ready;case 5:return t=e.sent,e.abrupt("return",t.active);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",null);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})))).apply(this,arguments)}function _d(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}var Id="firebaseLocalStorageDb",Sd="firebaseLocalStorage",Ed="fbase_key",Td=function(){function e(t){Ka(this,e),this.request=t}return Ha(e,[{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.request.addEventListener("success",(function(){t(e.request.result)})),e.request.addEventListener("error",(function(){n(e.request.error)}))}))}}]),e}();function Cd(e,t){return e.transaction([Sd],t?"readwrite":"readonly").objectStore(Sd)}function Nd(){var e=indexedDB.deleteDatabase(Id);return new Td(e).toPromise()}function Ad(){var e=indexedDB.open(Id,1);return new Promise((function(t,n){e.addEventListener("error",(function(){n(e.error)})),e.addEventListener("upgradeneeded",(function(){var t=e.result;try{t.createObjectStore(Sd,{keyPath:Ed})}catch(r){n(r)}})),e.addEventListener("success",Gu(Qu().mark((function n(){var r;return Qu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((r=e.result).objectStoreNames.contains(Sd)){n.next=12;break}return r.close(),n.next=5,Nd();case 5:return n.t0=t,n.next=8,Ad();case 8:n.t1=n.sent,(0,n.t0)(n.t1),n.next=13;break;case 12:t(r);case 13:case"end":return n.stop()}}),n)}))))}))}function Pd(e,t,n){return Rd.apply(this,arguments)}function Rd(){return Rd=Gu(Qu().mark((function e(t,n,r){var i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Cd(t,!0).put((Me(i={},Ed,n),Me(i,"value",r),i)),e.abrupt("return",new Td(a).toPromise());case 2:case"end":return e.stop()}}),e)}))),Rd.apply(this,arguments)}function Od(e,t){return Dd.apply(this,arguments)}function Dd(){return Dd=Gu(Qu().mark((function e(t,n){var r,i;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Cd(t,!1).get(n),e.next=3,new Td(r).toPromise();case 3:return i=e.sent,e.abrupt("return",void 0===i?null:i.value);case 5:case"end":return e.stop()}}),e)}))),Dd.apply(this,arguments)}function Ld(e,t){var n=Cd(e,!0).delete(t);return new Td(n).toPromise()}var Md=function(){function e(){Ka(this,e),this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((function(){}),(function(){}))}return Ha(e,[{key:"_openDb",value:function(){var e=Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.db){e.next=2;break}return e.abrupt("return",this.db);case 2:return e.next=4,Ad();case 4:return this.db=e.sent,e.abrupt("return",this.db);case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"_withRetries",value:function(){var e=Gu(Qu().mark((function e(t){var n,r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=0;case 1:return e.prev=2,e.next=5,this._openDb();case 5:return r=e.sent,e.next=8,t(r);case 8:return e.abrupt("return",e.sent);case 11:if(e.prev=11,e.t0=e.catch(2),!(n++>3)){e.next=15;break}throw e.t0;case 15:this.db&&(this.db.close(),this.db=void 0);case 16:e.next=1;break;case 18:case"end":return e.stop()}}),e,this,[[2,11]])})));return function(t){return e.apply(this,arguments)}}()},{key:"initializeServiceWorkerMessaging",value:function(){var e=Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",wd()?this.initializeReceiver():this.initializeSender());case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeReceiver",value:function(){var e=Gu(Qu().mark((function e(){var t=this;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:this.receiver=md._getInstance(wd()?self:null),this.receiver._subscribe("keyChanged",function(){var e=Gu(Qu().mark((function e(n,r){var i;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._poll();case 2:return i=e.sent,e.abrupt("return",{keyProcessed:i.includes(r.key)});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()),this.receiver._subscribe("ping",function(){var e=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",["keyChanged"]);case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"initializeSender",value:function(){var e=Gu(Qu().mark((function e(){var t,n,r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,bd();case 2:if(this.activeServiceWorker=e.sent,this.activeServiceWorker){e.next=5;break}return e.abrupt("return");case 5:return this.sender=new gd(this.activeServiceWorker),e.next=8,this.sender._send("ping",{},800);case 8:if(r=e.sent){e.next=11;break}return e.abrupt("return");case 11:(null===(t=r[0])||void 0===t?void 0:t.fulfilled)&&(null===(n=r[0])||void 0===n?void 0:n.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0);case 12:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyServiceWorker",value:function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.sender&&this.activeServiceWorker&&_d()===this.activeServiceWorker){e.next=2;break}return e.abrupt("return");case 2:return e.prev=2,e.next=5,this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50);case 5:e.next=9;break;case 7:e.prev=7,e.t0=e.catch(2);case 9:case"end":return e.stop()}}),e,this,[[2,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_isAvailable",value:function(){var e=Gu(Qu().mark((function e(){var t;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,indexedDB){e.next=3;break}return e.abrupt("return",!1);case 3:return e.next=5,Ad();case 5:return t=e.sent,e.next=8,Pd(t,cd,"1");case 8:return e.next=10,Ld(t,cd);case 10:return e.abrupt("return",!0);case 13:e.prev=13,e.t0=e.catch(0);case 15:return e.abrupt("return",!1);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}()},{key:"_withPendingWrite",value:function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.pendingWrites++,e.prev=1,e.next=4,t();case 4:return e.prev=4,this.pendingWrites--,e.finish(4);case 7:case"end":return e.stop()}}),e,this,[[1,,4,7]])})));return function(t){return e.apply(this,arguments)}}()},{key:"_set",value:function(){var e=Gu(Qu().mark((function e(t,n){var r=this;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r._withRetries((function(e){return Pd(e,t,n)}));case 2:return r.localCache[t]=n,e.abrupt("return",r.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"_get",value:function(){var e=Gu(Qu().mark((function e(t){var n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){return Od(e,t)}));case 2:return n=e.sent,this.localCache[t]=n,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_remove",value:function(){var e=Gu(Qu().mark((function e(t){var n=this;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this._withPendingWrite(Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._withRetries((function(e){return Ld(e,t)}));case 2:return delete n.localCache[t],e.abrupt("return",n.notifyServiceWorker(t));case 4:case"end":return e.stop()}}),e)})))));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_poll",value:function(){var e=Gu(Qu().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._withRetries((function(e){var t=Cd(e,!1).getAll();return new Td(t).toPromise()}));case 2:if(t=e.sent){e.next=5;break}return e.abrupt("return",[]);case 5:if(0===this.pendingWrites){e.next=7;break}return e.abrupt("return",[]);case 7:n=[],r=new Set,i=du(t);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.fbase_key,s=o.value,r.add(u),JSON.stringify(this.localCache[u])!==JSON.stringify(s)&&(this.notifyListeners(u,s),n.push(u))}catch(h){i.e(h)}finally{i.f()}for(c=0,l=Object.keys(this.localCache);c<l.length;c++)f=l[c],this.localCache[f]&&!r.has(f)&&(this.notifyListeners(f,null),n.push(f));return e.abrupt("return",n);case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"notifyListeners",value:function(e,t){this.localCache[e]=t;var n=this.listeners[e];if(n)for(var r=0,i=Array.from(n);r<i.length;r++){(0,i[r])(t)}}},{key:"startPolling",value:function(){var e=this;this.stopPolling(),this.pollTimer=setInterval(Gu(Qu().mark((function t(){return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",e._poll());case 1:case"end":return t.stop()}}),t)}))),800)}},{key:"stopPolling",value:function(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}},{key:"_addListener",value:function(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}},{key:"_removeListener",value:function(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}]),e}();Md.type="LOCAL";var Fd=Md;function jd(e,t){return al(e,"POST","/v2/accounts/mfaSignIn:start",il(e,t))}function Ud(e){return Vd.apply(this,arguments)}function Vd(){return(Vd=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,al(t,"GET","/v1/recaptchaParams");case 2:if(e.t0=e.sent.recaptchaSiteKey,e.t0){e.next=5;break}e.t0="";case 5:return e.abrupt("return",e.t0);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function zd(e){return new Promise((function(t,n){var r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=function(e){var t=zc("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)}))}function Bd(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}var qd=1e12,Wd=function(){function e(t){Ka(this,e),this.auth=t,this.counter=qd,this._widgets=new Map}return Ha(e,[{key:"render",value:function(e,t){var n=this.counter;return this._widgets.set(n,new Kd(e,this.auth.name,t||{})),this.counter++,n}},{key:"reset",value:function(e){var t,n=e||qd;null===(t=this._widgets.get(n))||void 0===t||t.delete(),this._widgets.delete(n)}},{key:"getResponse",value:function(e){var t,n=e||qd;return(null===(t=this._widgets.get(n))||void 0===t?void 0:t.getResponse())||""}},{key:"execute",value:function(){var e=Gu(Qu().mark((function e(t){var n,r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t||qd,null===(n=this._widgets.get(r))||void 0===n||n.execute(),e.abrupt("return","");case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),Kd=function(){function e(t,n,r){var i=this;Ka(this,e),this.params=r,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=function(){i.execute()};var a="string"===typeof t?document.getElementById(t):t;Kc(a,"argument-error",{appName:n}),this.container=a,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}return Ha(e,[{key:"getResponse",value:function(){return this.checkIfDeleted(),this.responseToken}},{key:"delete",value:function(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}},{key:"execute",value:function(){var e=this;this.checkIfDeleted(),this.timerId||(this.timerId=window.setTimeout((function(){e.responseToken=function(e){for(var t=[],n="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",r=0;r<e;r++)t.push(n.charAt(Math.floor(Math.random()*n.length)));return t.join("")}(50);var t=e.params,n=t.callback,r=t["expired-callback"];if(n)try{n(e.responseToken)}catch(i){}e.timerId=window.setTimeout((function(){if(e.timerId=null,e.responseToken=null,r)try{r()}catch(i){}e.isVisible&&e.execute()}),6e4)}),500))}},{key:"checkIfDeleted",value:function(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}]),e}();var Gd=Bd("rcb"),Hd=new Zc(3e4,6e4),Qd="https://www.google.com/recaptcha/api.js?",$d=function(){function e(){Ka(this,e),this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!kd().grecaptcha}return Ha(e,[{key:"load",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Kc(Yd(n),e,"argument-error"),this.shouldResolveImmediately(n)?Promise.resolve(kd().grecaptcha):new Promise((function(r,i){var a=kd().setTimeout((function(){i(zc(e,"network-request-failed"))}),Hd.get());kd()[Gd]=function(){kd().clearTimeout(a),delete kd()[Gd];var o=kd().grecaptcha;if(o){var u=o.render;o.render=function(e,n){var r=u(e,n);return t.counter++,r},t.hostLanguage=n,r(o)}else i(zc(e,"internal-error"))},zd("".concat(Qd,"?").concat(ju({onload:Gd,render:"explicit",hl:n}))).catch((function(){clearTimeout(a),i(zc(e,"internal-error"))}))}))}},{key:"clearedOneInstance",value:function(){this.counter--}},{key:"shouldResolveImmediately",value:function(e){return!!kd().grecaptcha&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}]),e}();function Yd(e){return e.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(e)}var Jd=function(){function e(){Ka(this,e)}return Ha(e,[{key:"load",value:function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Wd(t));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"clearedOneInstance",value:function(){}}]),e}(),Xd="recaptcha",Zd={theme:"light",type:"image"},ep=function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Object.assign({},Zd),r=arguments.length>2?arguments[2]:void 0;Ka(this,e),this.parameters=n,this.type=Xd,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=af(r),this.isInvisible="invisible"===this.parameters.size,Kc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment");var i="string"===typeof t?document.getElementById(t):t;Kc(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Jd:new $d,this.validateStartingState()}return Ha(e,[{key:"verify",value:function(){var e=Gu(Qu().mark((function e(){var t,n,r,i=this;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertNotDestroyed(),e.next=3,this.render();case 3:if(t=e.sent,n=this.getAssertedRecaptcha(),!(r=n.getResponse(t))){e.next=8;break}return e.abrupt("return",r);case 8:return e.abrupt("return",new Promise((function(e){i.tokenChangeListeners.add((function t(n){n&&(i.tokenChangeListeners.delete(t),e(n))})),i.isInvisible&&n.execute(t)})));case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;try{this.assertNotDestroyed()}catch(t){return Promise.reject(t)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch((function(t){throw e.renderPromise=null,t}))),this.renderPromise}},{key:"_reset",value:function(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}},{key:"clear",value:function(){var e=this;this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach((function(t){e.container.removeChild(t)}))}},{key:"validateStartingState",value:function(){Kc(!this.parameters.sitekey,this.auth,"argument-error"),Kc(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Kc("undefined"!==typeof document,this.auth,"operation-not-supported-in-this-environment")}},{key:"makeTokenCallback",value:function(e){var t=this;return function(n){if(t.tokenChangeListeners.forEach((function(e){return e(n)})),"function"===typeof e)e(n);else if("string"===typeof e){var r=kd()[e];"function"===typeof r&&r(n)}}}},{key:"assertNotDestroyed",value:function(){Kc(!this.destroyed,this.auth,"internal-error")}},{key:"makeRenderPromise",value:function(){var e=Gu(Qu().mark((function e(){var t,n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.init();case 2:return this.widgetId||(t=this.container,this.isInvisible||(n=document.createElement("div"),t.appendChild(n),t=n),this.widgetId=this.getAssertedRecaptcha().render(t,this.parameters)),e.abrupt("return",this.widgetId);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"init",value:function(){var e=Gu(Qu().mark((function e(){var t;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Kc(Jc()&&!wd(),this.auth,"internal-error"),e.next=3,tp();case 3:return e.next=5,this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);case 5:return this.recaptcha=e.sent,e.next=8,Ud(this.auth);case 8:Kc(t=e.sent,this.auth,"internal-error"),this.parameters.sitekey=t;case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"getAssertedRecaptcha",value:function(){return Kc(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}]),e}();function tp(){var e=null;return new Promise((function(t){"complete"!==document.readyState?(e=function(){return t()},window.addEventListener("load",e)):t()})).catch((function(t){throw e&&window.removeEventListener("load",e),t}))}var np=function(){function e(t,n){Ka(this,e),this.verificationId=t,this.onConfirmation=n}return Ha(e,[{key:"confirm",value:function(e){var t=qf._fromVerification(this.verificationId,e);return this.onConfirmation(t)}}]),e}();function rp(){return(rp=Gu(Qu().mark((function e(t,n,r){var i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=af(t),e.next=3,up(i,n,Wu(r));case 3:return a=e.sent,e.abrupt("return",new np(a,(function(e){return kh(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ip(e,t,n){return ap.apply(this,arguments)}function ap(){return(ap=Gu(Qu().mark((function e(t,n,r){var i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wu(t),e.next=3,dh(!1,i,"phone");case 3:return e.next=5,up(i.auth,n,Wu(r));case 5:return a=e.sent,e.abrupt("return",new np(a,(function(e){return bh(i,e)})));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function op(){return(op=Gu(Qu().mark((function e(t,n,r){var i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Wu(t),e.next=3,up(i.auth,n,Wu(r));case 3:return a=e.sent,e.abrupt("return",new np(a,(function(e){return _h(i,e)})));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function up(e,t,n){return sp.apply(this,arguments)}function sp(){return sp=Gu(Qu().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r.verify();case 2:if(a=e.sent,e.prev=3,Kc("string"===typeof a,t,"argument-error"),Kc(r.type===Xd,t,"argument-error"),!("session"in(o="string"===typeof n?{phoneNumber:n}:n))){e.next=26;break}if(u=o.session,!("phoneNumber"in o)){e.next=17;break}return Kc("enroll"===u.type,t,"internal-error"),e.next=13,od(t,{idToken:u.credential,phoneEnrollmentInfo:{phoneNumber:o.phoneNumber,recaptchaToken:a}});case 13:return s=e.sent,e.abrupt("return",s.phoneSessionInfo.sessionInfo);case 17:return Kc("signin"===u.type,t,"internal-error"),Kc(c=(null===(i=o.multiFactorHint)||void 0===i?void 0:i.uid)||o.multiFactorUid,t,"missing-multi-factor-info"),e.next=22,jd(t,{mfaPendingCredential:u.credential,mfaEnrollmentId:c,phoneSignInInfo:{recaptchaToken:a}});case 22:return l=e.sent,e.abrupt("return",l.phoneResponseInfo.sessionInfo);case 24:e.next=31;break;case 26:return e.next=28,Ff(t,{phoneNumber:o.phoneNumber,recaptchaToken:a});case 28:return f=e.sent,h=f.sessionInfo,e.abrupt("return",h);case 31:return e.prev=31,r._reset(),e.finish(31);case 34:case"end":return e.stop()}}),e,null,[[3,,31,34]])}))),sp.apply(this,arguments)}function cp(){return(cp=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fh(Wu(t),n);case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var lp=function(){function e(t){Ka(this,e),this.providerId=e.PROVIDER_ID,this.auth=af(t)}return Ha(e,[{key:"verifyPhoneNumber",value:function(e,t){return up(this.auth,e,Wu(t))}}],[{key:"credential",value:function(e,t){return qf._fromVerification(e,t)}},{key:"credentialFromResult",value:function(t){var n=t;return e.credentialFromTaggedObject(n)}},{key:"credentialFromError",value:function(t){return e.credentialFromTaggedObject(t.customData||{})}},{key:"credentialFromTaggedObject",value:function(e){var t=e._tokenResponse;if(!t)return null;var n=t.phoneNumber,r=t.temporaryProof;return n&&r?qf._fromTokenResponse(n,r):null}}]),e}();function fp(e,t){return t?$c(t):(Kc(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}lp.PROVIDER_ID="phone",lp.PHONE_SIGN_IN_METHOD="phone";var hp=function(e){Ma(n,e);var t=Ba(n);function n(e){var r;return Ka(this,n),(r=t.call(this,"custom","custom")).params=e,r}return Ha(n,[{key:"_getIdTokenResponse",value:function(e){return Df(e,this._buildIdpRequest())}},{key:"_linkToIdToken",value:function(e,t){return Df(e,this._buildIdpRequest(t))}},{key:"_getReauthenticationResolver",value:function(e){return Df(e,this._buildIdpRequest())}},{key:"_buildIdpRequest",value:function(e){var t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}]),n}(lf);function dp(e){return yh(e.auth,new hp(e),e.bypassAuthState)}function pp(e){var t=e.auth,n=e.user;return Kc(n,t,"internal-error"),vh(n,new hp(e),e.bypassAuthState)}function vp(e){return mp.apply(this,arguments)}function mp(){return(mp=Gu(Qu().mark((function e(t){var n,r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.auth,Kc(r=t.user,n,"internal-error"),e.abrupt("return",fh(r,new hp(t),t.bypassAuthState));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var yp=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]&&arguments[4];Ka(this,e),this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}return Ha(e,[{key:"execute",value:function(){var e=this;return new Promise(function(){var t=Gu(Qu().mark((function t(n,r){return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return e.pendingPromise={resolve:n,reject:r},t.prev=1,t.next=4,e.resolver._initialize(e.auth);case 4:return e.eventManager=t.sent,t.next=7,e.onExecution();case 7:e.eventManager.registerConsumer(e),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),e.reject(t.t0);case 13:case"end":return t.stop()}}),t,null,[[1,10]])})));return function(e,n){return t.apply(this,arguments)}}())}},{key:"onAuthEvent",value:function(){var e=Gu(Qu().mark((function e(t){var n,r,i,a,o,u,s;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.urlResponse,r=t.sessionId,i=t.postBody,a=t.tenantId,o=t.error,u=t.type,!o){e.next=4;break}return this.reject(o),e.abrupt("return");case 4:return s={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState},e.prev=5,e.t0=this,e.next=9,this.getIdpTask(u)(s);case 9:e.t1=e.sent,e.t0.resolve.call(e.t0,e.t1),e.next=16;break;case 13:e.prev=13,e.t2=e.catch(5),this.reject(e.t2);case 16:case"end":return e.stop()}}),e,this,[[5,13]])})));return function(t){return e.apply(this,arguments)}}()},{key:"onError",value:function(e){this.reject(e)}},{key:"getIdpTask",value:function(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return dp;case"linkViaPopup":case"linkViaRedirect":return vp;case"reauthViaPopup":case"reauthViaRedirect":return pp;default:Vc(this.auth,"internal-error")}}},{key:"resolve",value:function(e){Hc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}},{key:"reject",value:function(e){Hc(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}},{key:"unregisterAndCleanUp",value:function(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}]),e}(),gp=new Zc(2e3,1e4);function kp(e,t,n){return wp.apply(this,arguments)}function wp(){return(wp=Gu(Qu().mark((function e(t,n,r){var i,a,o;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=af(t),qc(t,n,Gf),a=fp(i,r),o=new Ip(i,"signInViaPopup",n,a),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bp(){return(bp=Gu(Qu().mark((function e(t,n,r){var i,a,o;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qc((i=Wu(t)).auth,n,Gf),a=fp(i.auth,r),o=new Ip(i.auth,"reauthViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xp(e,t,n){return _p.apply(this,arguments)}function _p(){return(_p=Gu(Qu().mark((function e(t,n,r){var i,a,o;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qc((i=Wu(t)).auth,n,Gf),a=fp(i.auth,r),o=new Ip(i.auth,"linkViaPopup",n,a,i),e.abrupt("return",o.executeNotNull());case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ip=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i,a,o){var u;return Ka(this,n),(u=t.call(this,e,r,a,o)).provider=i,u.authWindow=null,u.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=Va(u),u}return Ha(n,[{key:"executeNotNull",value:function(){var e=Gu(Qu().mark((function e(){var t;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.execute();case 2:return Kc(t=e.sent,this.auth,"internal-error"),e.abrupt("return",t);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Gu(Qu().mark((function e(){var t,n=this;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hc(1===this.filter.length,"Popup operations only handle one event"),t=yd(),e.next=4,this.resolver._openPopup(this.auth,this.provider,this.filter[0],t);case 4:this.authWindow=e.sent,this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch((function(e){n.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(function(e){e||n.reject(zc(n.auth,"web-storage-unsupported"))})),this.pollUserCancellation();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"eventId",get:function(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}},{key:"cancel",value:function(){this.reject(zc(this.auth,"cancelled-popup-request"))}},{key:"cleanUp",value:function(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}},{key:"pollUserCancellation",value:function(){var e=this;!function t(){var n,r;(null===(r=null===(n=e.authWindow)||void 0===n?void 0:n.window)||void 0===r?void 0:r.closed)?e.pollId=window.setTimeout((function(){e.pollId=null,e.reject(zc(e.auth,"popup-closed-by-user"))}),2e3):e.pollId=window.setTimeout(t,gp.get())}()}}]),n}(yp);Ip.currentPopupAction=null;var Sp=new Map,Ep=function(e){Ma(n,e);var t=Ba(n);function n(e,r){var i,a=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return Ka(this,n),(i=t.call(this,e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,a)).eventId=null,i}return Ha(n,[{key:"execute",value:function(){var e=Gu(Qu().mark((function e(){var t,r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=Sp.get(this.auth._key())){e.next=21;break}return e.prev=2,e.next=5,Tp(this.resolver,this.auth);case 5:if(!e.sent){e.next=12;break}return e.next=9,wc(Fa(n.prototype),"execute",this).call(this);case 9:e.t0=e.sent,e.next=13;break;case 12:e.t0=null;case 13:r=e.t0,t=function(){return Promise.resolve(r)},e.next=20;break;case 17:e.prev=17,e.t1=e.catch(2),t=function(){return Promise.reject(e.t1)};case 20:Sp.set(this.auth._key(),t);case 21:return this.bypassAuthState||Sp.set(this.auth._key(),(function(){return Promise.resolve(null)})),e.abrupt("return",t());case 23:case"end":return e.stop()}}),e,this,[[2,17]])})));return function(){return e.apply(this,arguments)}}()},{key:"onAuthEvent",value:function(){var e=Gu(Qu().mark((function e(t){var r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("signInViaRedirect"!==t.type){e.next=4;break}return e.abrupt("return",wc(Fa(n.prototype),"onAuthEvent",this).call(this,t));case 4:if("unknown"!==t.type){e.next=7;break}return this.resolve(null),e.abrupt("return");case 7:if(!t.eventId){e.next=17;break}return e.next=10,this.auth._redirectUserForId(t.eventId);case 10:if(!(r=e.sent)){e.next=16;break}return this.user=r,e.abrupt("return",wc(Fa(n.prototype),"onAuthEvent",this).call(this,t));case 16:this.resolve(null);case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"onExecution",value:function(){var e=Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"cleanUp",value:function(){}}]),n}(yp);function Tp(e,t){return Cp.apply(this,arguments)}function Cp(){return Cp=Gu(Qu().mark((function e(t,n){var r,i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Op(n),i=Rp(t),e.next=4,i._isAvailable();case 4:if(e.sent){e.next=6;break}return e.abrupt("return",!1);case 6:return e.next=8,i._get(r);case 8:return e.t0=e.sent,a="true"===e.t0,e.next=12,i._remove(r);case 12:return e.abrupt("return",a);case 13:case"end":return e.stop()}}),e)}))),Cp.apply(this,arguments)}function Np(e,t){return Ap.apply(this,arguments)}function Ap(){return(Ap=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Rp(t)._set(Op(n),"true"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Pp(e,t){Sp.set(e._key(),t)}function Rp(e){return $c(e._redirectPersistence)}function Op(e){return zl("pendingRedirect",e.config.apiKey,e.name)}function Dp(e,t,n){return function(e,t,n){return Lp.apply(this,arguments)}(e,t,n)}function Lp(){return(Lp=Gu(Qu().mark((function e(t,n,r){var i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=af(t),qc(t,n,Gf),a=fp(i,r),e.next=5,Np(a,i);case 5:return e.abrupt("return",a._openRedirect(i,n,"signInViaRedirect"));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Mp(e,t,n){return function(e,t,n){return Fp.apply(this,arguments)}(e,t,n)}function Fp(){return(Fp=Gu(Qu().mark((function e(t,n,r){var i,a,o;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qc((i=Wu(t)).auth,n,Gf),a=fp(i.auth,r),e.next=5,Np(a,i.auth);case 5:return e.next=7,Wp(i);case 7:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"reauthViaRedirect",o));case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jp(e,t,n){return function(e,t,n){return Up.apply(this,arguments)}(e,t,n)}function Up(){return(Up=Gu(Qu().mark((function e(t,n,r){var i,a,o;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return qc((i=Wu(t)).auth,n,Gf),a=fp(i.auth,r),e.next=5,dh(!1,i,n.providerId);case 5:return e.next=7,Np(a,i.auth);case 7:return e.next=9,Wp(i);case 9:return o=e.sent,e.abrupt("return",a._openRedirect(i.auth,n,"linkViaRedirect",o));case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Vp(e,t){return zp.apply(this,arguments)}function zp(){return(zp=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,af(t)._initializationPromise;case 2:return e.abrupt("return",Bp(t,n,!1));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Bp(e,t){return qp.apply(this,arguments)}function qp(){return qp=Gu(Qu().mark((function e(t,n){var r,i,a,o,u,s=arguments;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=s.length>2&&void 0!==s[2]&&s[2],i=af(t),a=fp(i,n),o=new Ep(i,a,r),e.next=6,o.execute();case 6:if(!(u=e.sent)||r){e.next=13;break}return delete u.user._redirectEventId,e.next=11,i._persistUserIfCurrent(u.user);case 11:return e.next=13,i._setRedirectUser(null,n);case 13:return e.abrupt("return",u);case 14:case"end":return e.stop()}}),e)}))),qp.apply(this,arguments)}function Wp(e){return Kp.apply(this,arguments)}function Kp(){return(Kp=Gu(Qu().mark((function e(t){var n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=yd("".concat(t.uid,":::")),t._redirectEventId=n,e.next=4,t.auth._setRedirectUser(t);case 4:return e.next=6,t.auth._persistUserIfCurrent(t);case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Gp=function(){function e(t){Ka(this,e),this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}return Ha(e,[{key:"registerConsumer",value:function(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}},{key:"unregisterConsumer",value:function(e){this.consumers.delete(e)}},{key:"onEvent",value:function(e){var t=this;if(this.hasEventBeenHandled(e))return!1;var n=!1;return this.consumers.forEach((function(r){t.isEventForConsumer(e,r)&&(n=!0,t.sendToConsumer(e,r),t.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Qp(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}},{key:"sendToConsumer",value:function(e,t){var n;if(e.error&&!Qp(e)){var r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(zc(this.auth,r))}else t.onAuthEvent(e)}},{key:"isEventForConsumer",value:function(e,t){var n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}},{key:"hasEventBeenHandled",value:function(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hp(e))}},{key:"saveEventToCache",value:function(e){this.cachedEventUids.add(Hp(e)),this.lastProcessedEventTime=Date.now()}}]),e}();function Hp(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((function(e){return e})).join("-")}function Qp(e){var t=e.type,n=e.error;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}function $p(e){return Yp.apply(this,arguments)}function Yp(){return Yp=Gu(Qu().mark((function e(t){var n,r=arguments;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=r.length>1&&void 0!==r[1]?r[1]:{},e.abrupt("return",al(t,"GET","/v1/projects",n));case 2:case"end":return e.stop()}}),e)}))),Yp.apply(this,arguments)}var Jp=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xp=/^https?/;function Zp(){return(Zp=Gu(Qu().mark((function e(t){var n,r,i,a,o;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.config.emulator){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,$p(t);case 4:n=e.sent,r=n.authorizedDomains,i=du(r),e.prev=7,i.s();case 9:if((a=i.n()).done){e.next=20;break}if(o=a.value,e.prev=11,!ev(o)){e.next=14;break}return e.abrupt("return");case 14:e.next=18;break;case 16:e.prev=16,e.t0=e.catch(11);case 18:e.next=9;break;case 20:e.next=25;break;case 22:e.prev=22,e.t1=e.catch(7),i.e(e.t1);case 25:return e.prev=25,i.f(),e.finish(25);case 28:Vc(t,"unauthorized-domain");case 29:case"end":return e.stop()}}),e,null,[[7,22,25,28],[11,16]])})))).apply(this,arguments)}function ev(e){var t=Yc(),n=new URL(t),r=n.protocol,i=n.hostname;if(e.startsWith("chrome-extension://")){var a=new URL(e);return""===a.hostname&&""===i?"chrome-extension:"===r&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===r&&a.hostname===i}if(!Xp.test(r))return!1;if(Jp.test(e))return i===e;var o=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+o+"|"+o+")$","i").test(i)}var tv=new Zc(3e4,6e4);function nv(){var e=kd().___jsl;if(null===e||void 0===e?void 0:e.H)for(var t=0,n=Object.keys(e.H);t<n.length;t++){var r=n[t];if(e.H[r].r=e.H[r].r||[],e.H[r].L=e.H[r].L||[],e.H[r].r=Wa(e.H[r].L),e.CP)for(var i=0;i<e.CP.length;i++)e.CP[i]=null}}var rv=null;function iv(e){return rv=rv||function(e){return new Promise((function(t,n){var r,i,a;function o(){nv(),gapi.load("gapi.iframes",{callback:function(){t(gapi.iframes.getContext())},ontimeout:function(){nv(),n(zc(e,"network-request-failed"))},timeout:tv.get()})}if(null===(i=null===(r=kd().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(a=kd().gapi)||void 0===a?void 0:a.load)){var u=Bd("iframefcb");return kd()[u]=function(){gapi.load?o():n(zc(e,"network-request-failed"))},zd("https://apis.google.com/js/api.js?onload=".concat(u)).catch((function(e){return n(e)}))}o()}})).catch((function(e){throw rv=null,e}))}(e),rv}var av=new Zc(5e3,15e3),ov={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},uv=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function sv(e){var t=e.config;Kc(t.authDomain,e,"auth-domain-config-required");var n=t.emulator?el(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:Bs},i=uv.get(e.config.apiHost);i&&(r.eid=i);var a=e._getFrameworks();return a.length&&(r.fw=a.join(",")),"".concat(n,"?").concat(ju(r).slice(1))}function cv(e){return lv.apply(this,arguments)}function lv(){return lv=Gu(Qu().mark((function e(t){var n,r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iv(t);case 2:return n=e.sent,Kc(r=kd().gapi,t,"internal-error"),e.abrupt("return",n.open({where:document.body,url:sv(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ov,dontclear:!0},(function(e){return new Promise(function(){var n=Gu(Qu().mark((function n(r,i){var a,o,u;return Qu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return u=function(){kd().clearTimeout(o),r(e)},n.next=3,e.restyle({setHideOnLeave:!1});case 3:a=zc(t,"network-request-failed"),o=kd().setTimeout((function(){i(a)}),av.get()),e.ping(u).then(u,(function(){i(a)}));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}())})));case 6:case"end":return e.stop()}}),e)}))),lv.apply(this,arguments)}var fv={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},hv="_blank",dv="http://localhost",pv=function(){function e(t){Ka(this,e),this.window=t,this.associatedEvent=null}return Ha(e,[{key:"close",value:function(){if(this.window)try{this.window.close()}catch(e){}}}]),e}();function vv(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600,a=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),u="",s=Object.assign(Object.assign({},fv),{width:r.toString(),height:i.toString(),top:a,left:o}),c=Iu().toLowerCase();n&&(u=Gl(c)?hv:n),Wl(c)&&(t=t||dv,s.scrollbars="yes");var l=Object.entries(s).reduce((function(e,t){var n=Le(t,2),r=n[0],i=n[1];return"".concat(e).concat(r,"=").concat(i,",")}),"");if(Xl(c)&&"_self"!==u)return mv(t||"",u),new pv(null);var f=window.open(t||"",u,l);Kc(f,e,"popup-blocked");try{f.focus()}catch(h){}return new pv(f)}function mv(e,t){var n=document.createElement("a");n.href=e,n.target=t;var r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var yv="__/auth/handler",gv="emulator/auth/handler";function kv(e,t,n,r,i,a){Kc(e.config.authDomain,e,"auth-domain-config-required"),Kc(e.config.apiKey,e,"invalid-api-key");var o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:Bs,eventId:i};if(t instanceof Gf){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",function(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(var u=0,s=Object.entries(a||{});u<s.length;u++){var c=Le(s[u],2),l=c[0],f=c[1];o[l]=f}}if(t instanceof Hf){var h=t.getScopes().filter((function(e){return""!==e}));h.length>0&&(o.scopes=h.join(","))}e.tenantId&&(o.tid=e.tenantId);for(var d=o,p=0,v=Object.keys(d);p<v.length;p++){var m=v[p];void 0===d[m]&&delete d[m]}return"".concat(function(e){var t=e.config;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(yv);return el(t,gv)}(e),"?").concat(ju(d).slice(1))}var wv="webStorageSupport",bv=function(){function e(){Ka(this,e),this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=pd,this._completeRedirectFn=Bp,this._overrideRedirectResult=Pp}return Ha(e,[{key:"_openPopup",value:function(){var e=Gu(Qu().mark((function e(t,n,r,i){var a,o;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Hc(null===(a=this.eventManagers[t._key()])||void 0===a?void 0:a.manager,"_initialize() not called before _openPopup()"),o=kv(t,n,r,Yc(),i),e.abrupt("return",vv(t,o,yd()));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Gu(Qu().mark((function e(t,n,r,i){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._originValidation(t);case 2:return a=kv(t,n,r,Yc(),i),kd().location.href=a,e.abrupt("return",new Promise((function(){})));case 4:case"end":return e.stop()}var a}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_initialize",value:function(e){var t=this,n=e._key();if(this.eventManagers[n]){var r=this.eventManagers[n],i=r.manager,a=r.promise;return i?Promise.resolve(i):(Hc(a,"If manager is not set, promise should be"),a)}var o=this.initAndGetManager(e);return this.eventManagers[n]={promise:o},o.catch((function(){delete t.eventManagers[n]})),o}},{key:"initAndGetManager",value:function(){var e=Gu(Qu().mark((function e(t){var n,r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,cv(t);case 2:return n=e.sent,r=new Gp(t),n.register("authEvent",(function(e){return Kc(null===e||void 0===e?void 0:e.authEvent,t,"invalid-auth-event"),{status:r.onEvent(e.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,e.abrupt("return",r);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.iframes[e._key()].send(wv,{type:wv},(function(n){var r,i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r.webStorageSupport;void 0!==i&&t(!!i),Vc(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Zp.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"_shouldInitProactively",get:function(){return ef()||Kl()||Jl()}}]),e}(),xv=bv,_v=function(e){Ma(n,e);var t=Ba(n);function n(e){var r;return Ka(this,n),(r=t.call(this,"phone")).credential=e,r}return Ha(n,[{key:"_finalizeEnroll",value:function(e,t,n){return function(e,t){return al(e,"POST","/v2/accounts/mfaEnrollment:finalize",il(e,t))}(e,{idToken:t,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}},{key:"_finalizeSignIn",value:function(e,t){return function(e,t){return al(e,"POST","/v2/accounts/mfaSignIn:finalize",il(e,t))}(e,{mfaPendingCredential:t,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}],[{key:"_fromCredential",value:function(e){return new n(e)}}]),n}(function(){function e(t){Ka(this,e),this.factorId=t}return Ha(e,[{key:"_process",value:function(e,t,n){switch(t.type){case"enroll":return this._finalizeEnroll(e,t.credential,n);case"signin":return this._finalizeSignIn(e,t.credential);default:return Gc("unexpected MultiFactorSessionType")}}}]),e}()),Iv=function(){function e(){Ka(this,e)}return Ha(e,null,[{key:"assertion",value:function(e){return _v._fromCredential(e)}}]),e}();Iv.FACTOR_ID="phone";var Sv,Ev="@firebase/auth",Tv="0.20.1",Cv=function(){function e(t){Ka(this,e),this.auth=t,this.internalListeners=new Map}return Ha(e,[{key:"getUid",value:function(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}},{key:"getToken",value:function(){var e=Gu(Qu().mark((function e(t){var n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.assertAuthConfigured(),e.next=3,this.auth._initializationPromise;case 3:if(this.auth.currentUser){e.next=5;break}return e.abrupt("return",null);case 5:return e.next=7,this.auth.currentUser.getIdToken(t);case 7:return n=e.sent,e.abrupt("return",{accessToken:n});case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"addAuthTokenListener",value:function(e){if(this.assertAuthConfigured(),!this.internalListeners.has(e)){var t=this.auth.onIdTokenChanged((function(t){var n;e((null===(n=t)||void 0===n?void 0:n.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}}},{key:"removeAuthTokenListener",value:function(e){this.assertAuthConfigured();var t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}},{key:"assertAuthConfigured",value:function(){Kc(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}},{key:"updateProactiveRefresh",value:function(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}]),e}();function Nv(){return window}Sv="Browser",Ls(new $u("auth",(function(e,t){var n=t.options,r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=r.options,o=a.apiKey,u=a.authDomain;return function(e,t){Kc(o&&!o.includes(":"),"invalid-api-key",{appName:e.name}),Kc(!(null===u||void 0===u?void 0:u.includes(":")),"argument-error",{appName:e.name});var r={apiKey:o,authDomain:u,clientPlatform:Sv,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:tf(Sv)},i=new rf(e,t,r);return function(e,t){var n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map($c);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(i,n),i}(r,i)}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((function(e,t,n){e.getProvider("auth-internal").initialize()}))),Ls(new $u("auth-internal",(function(e){return function(e){return new Cv(e)}(af(e.getProvider("auth").getImmediate()))}),"PRIVATE").setInstantiationMode("EXPLICIT")),Qs(Ev,Tv,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(Sv)),Qs(Ev,Tv,"esm2017");function Av(e,t,n){return Pv.apply(this,arguments)}function Pv(){return Pv=Gu(Qu().mark((function e(t,n,r){var i,a,o,u,s;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=Nv(),o=a.BuildInfo,Hc(n.sessionId,"AuthEvent did not contain a session ID"),e.next=4,Fv(n.sessionId);case 4:return u=e.sent,s={},Jl()?s.ibi=o.packageName:Ql()?s.apn=o.packageName:Vc(t,"operation-not-supported-in-this-environment"),o.displayName&&(s.appDisplayName=o.displayName),s.sessionId=u,e.abrupt("return",kv(t,r,n.type,void 0,null!==(i=n.eventId)&&void 0!==i?i:void 0,s));case 10:case"end":return e.stop()}}),e)}))),Pv.apply(this,arguments)}function Rv(){return(Rv=Gu(Qu().mark((function e(t){var n,r,i;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Nv(),r=n.BuildInfo,i={},Jl()?i.iosBundleId=r.packageName:Ql()?i.androidPackageName=r.packageName:Vc(t,"operation-not-supported-in-this-environment"),e.next=5,$p(t,i);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ov(e){var t=Nv().cordova;return new Promise((function(n){t.plugins.browsertab.isAvailable((function(r){var i=null;r?t.plugins.browsertab.openUrl(e):i=t.InAppBrowser.open(e,function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu();return/(iPad|iPhone|iPod).*OS 7_\d/i.test(e)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(e)}()?"_blank":"_system","location=yes"),n(i)}))}))}function Dv(e,t,n){return Lv.apply(this,arguments)}function Lv(){return Lv=Gu(Qu().mark((function e(t,n,r){var i,a,o;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=Nv(),a=i.cordova,o=function(){},e.prev=2,e.next=5,new Promise((function(e,i){var u=null;function s(){var t;e();var n=null===(t=a.plugins.browsertab)||void 0===t?void 0:t.close;"function"===typeof n&&n(),"function"===typeof(null===r||void 0===r?void 0:r.close)&&r.close()}function c(){u||(u=window.setTimeout((function(){i(zc(t,"redirect-cancelled-by-user"))}),2e3))}function l(){"visible"===(null===document||void 0===document?void 0:document.visibilityState)&&c()}n.addPassiveListener(s),document.addEventListener("resume",c,!1),Ql()&&document.addEventListener("visibilitychange",l,!1),o=function(){n.removePassiveListener(s),document.removeEventListener("resume",c,!1),document.removeEventListener("visibilitychange",l,!1),u&&window.clearTimeout(u)}}));case 5:return e.prev=5,o(),e.finish(5);case 8:case"end":return e.stop()}}),e,null,[[2,,5,8]])}))),Lv.apply(this,arguments)}function Mv(e){var t,n,r,i,a,o,u,s,c,l,f=Nv();Kc("function"===typeof(null===(t=null===f||void 0===f?void 0:f.universalLinks)||void 0===t?void 0:t.subscribe),e,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Kc("undefined"!==typeof(null===(n=null===f||void 0===f?void 0:f.BuildInfo)||void 0===n?void 0:n.packageName),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Kc("function"===typeof(null===(a=null===(i=null===(r=null===f||void 0===f?void 0:f.cordova)||void 0===r?void 0:r.plugins)||void 0===i?void 0:i.browsertab)||void 0===a?void 0:a.openUrl),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Kc("function"===typeof(null===(s=null===(u=null===(o=null===f||void 0===f?void 0:f.cordova)||void 0===o?void 0:o.plugins)||void 0===u?void 0:u.browsertab)||void 0===s?void 0:s.isAvailable),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Kc("function"===typeof(null===(l=null===(c=null===f||void 0===f?void 0:f.cordova)||void 0===c?void 0:c.InAppBrowser)||void 0===l?void 0:l.open),e,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}function Fv(e){return jv.apply(this,arguments)}function jv(){return(jv=Gu(Qu().mark((function e(t){var n,r,i;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Uv(t),e.next=3,crypto.subtle.digest("SHA-256",n);case 3:return r=e.sent,i=Array.from(new Uint8Array(r)),e.abrupt("return",i.map((function(e){return e.toString(16).padStart(2,"0")})).join(""));case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Uv(e){if(Hc(/[0-9a-zA-Z]+/.test(e),"Can only convert alpha-numeric strings"),"undefined"!==typeof TextEncoder)return(new TextEncoder).encode(e);for(var t=new ArrayBuffer(e.length),n=new Uint8Array(t),r=0;r<e.length;r++)n[r]=e.charCodeAt(r);return n}var Vv=function(e){Ma(n,e);var t=Ba(n);function n(){var e;return Ka(this,n),(e=t.apply(this,arguments)).passiveListeners=new Set,e.initPromise=new Promise((function(t){e.resolveInialized=t})),e}return Ha(n,[{key:"addPassiveListener",value:function(e){this.passiveListeners.add(e)}},{key:"removePassiveListener",value:function(e){this.passiveListeners.delete(e)}},{key:"resetRedirect",value:function(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}},{key:"onEvent",value:function(e){return this.resolveInialized(),this.passiveListeners.forEach((function(t){return t(e)})),wc(Fa(n.prototype),"onEvent",this).call(this,e)}},{key:"initialized",value:function(){var e=Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.initPromise;case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),n}(Gp);function zv(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{type:t,eventId:n,urlResponse:null,sessionId:Gv(),postBody:null,tenantId:e.tenantId,error:zc(e,"no-auth-event")}}function Bv(e,t){return Hv()._set(Qv(e),t)}function qv(e){return Wv.apply(this,arguments)}function Wv(){return(Wv=Gu(Qu().mark((function e(t){var n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Hv()._get(Qv(t));case 2:if(!(n=e.sent)){e.next=6;break}return e.next=6,Hv()._remove(Qv(t));case 6:return e.abrupt("return",n);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Kv(e,t){var n,r,i=function(e){var t=$v(e),n=t.link?decodeURIComponent(t.link):void 0,r=$v(n).link,i=t.deep_link_id?decodeURIComponent(t.deep_link_id):void 0;return $v(i).link||i||r||n||e}(t);if(i.includes("/__/auth/callback")){var a=$v(i),o=a.firebaseError?function(e){try{return JSON.parse(e)}catch(t){return null}}(decodeURIComponent(a.firebaseError)):null,u=null===(r=null===(n=null===o||void 0===o?void 0:o.code)||void 0===n?void 0:n.split("auth/"))||void 0===r?void 0:r[1],s=u?zc(u):null;return s?{type:e.type,eventId:e.eventId,tenantId:e.tenantId,error:s,urlResponse:null,sessionId:null,postBody:null}:{type:e.type,eventId:e.eventId,tenantId:e.tenantId,sessionId:e.sessionId,urlResponse:i,postBody:null}}return null}function Gv(){for(var e=[],t="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ",n=0;n<20;n++){var r=Math.floor(Math.random()*t.length);e.push(t.charAt(r))}return e.join("")}function Hv(){return $c(hd)}function Qv(e){return zl("authEvent",e.config.apiKey,e.name)}function $v(e){if(!(null===e||void 0===e?void 0:e.includes("?")))return{};var t,n=e.split("?"),r=Pe(t=n)||qa(t)||Oe(t)||De();r[0];return Uu(r.slice(1).join("?"))}var Yv=function(){function e(){Ka(this,e),this._redirectPersistence=pd,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=Bp,this._overrideRedirectResult=Pp}return Ha(e,[{key:"_initialize",value:function(){var e=Gu(Qu().mark((function e(t){var n,r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t._key(),(r=this.eventManagers.get(n))||(r=new Vv(t),this.eventManagers.set(n,r),this.attachCallbackListeners(t,r)),e.abrupt("return",r);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(e){Vc(e,"operation-not-supported-in-this-environment")}},{key:"_openRedirect",value:function(){var e=Gu(Qu().mark((function e(t,n,r,i){var a,o,u,s;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Mv(t),e.next=3,this._initialize(t);case 3:return a=e.sent,e.next=6,a.initialized();case 6:return a.resetRedirect(),Sp.clear(),e.next=10,this._originValidation(t);case 10:return o=zv(t,r,i),e.next=13,Bv(t,o);case 13:return e.next=15,Av(t,o,n);case 15:return u=e.sent,e.next=18,Ov(u);case 18:return s=e.sent,e.abrupt("return",Dv(t,a,s));case 20:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){throw new Error("Method not implemented.")}},{key:"_originValidation",value:function(e){var t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function(e){return Rv.apply(this,arguments)}(e)),this.originValidationPromises[t]}},{key:"attachCallbackListeners",value:function(e,t){var n=Nv(),r=n.universalLinks,i=n.handleOpenURL,a=n.BuildInfo,o=setTimeout(Gu(Qu().mark((function n(){return Qu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,qv(e);case 2:t.onEvent(Xv());case 3:case"end":return n.stop()}}),n)}))),500),u=function(){var n=Gu(Qu().mark((function n(r){var i,a;return Qu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return clearTimeout(o),n.next=3,qv(e);case 3:i=n.sent,a=null,i&&(null===r||void 0===r?void 0:r.url)&&(a=Kv(i,r.url)),t.onEvent(a||Xv());case 7:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}();"undefined"!==typeof r&&"function"===typeof r.subscribe&&r.subscribe(null,u);var s=i,c="".concat(a.packageName.toLowerCase(),"://");Nv().handleOpenURL=function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.toLowerCase().startsWith(c)&&u({url:t}),"function"===typeof s)try{s(t)}catch(n){console.error(n)}case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}}]),e}(),Jv=Yv;function Xv(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:zc("no-auth-event")}}function Zv(){var e;return(null===(e=null===self||void 0===self?void 0:self.location)||void 0===e?void 0:e.protocol)||null}function em(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu();return!("file:"!==Zv()&&"ionic:"!==Zv()||!e.toLowerCase().match(/iphone|ipad|ipod|android/))}function tm(){return Nu()&&11===(null===document||void 0===document?void 0:document.documentMode)}function nm(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu();return/Edge\/\d+/.test(e)}function rm(){try{var e=self.localStorage,t=yd();if(e)return e.setItem(t,"1"),e.removeItem(t),!function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Iu();return tm()||nm(e)}()||Au()}catch(n){return im()&&Au()}return!1}function im(){return"undefined"!==typeof n.g&&"WorkerGlobalScope"in n.g&&"importScripts"in n.g}function am(){return("http:"===Zv()||"https:"===Zv()||Tu()||em())&&!(Cu()||Eu())&&rm()&&!im()}function om(){return em()&&"undefined"!==typeof document}function um(){return sm.apply(this,arguments)}function sm(){return(sm=Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(om()){e.next=2;break}return e.abrupt("return",!1);case 2:return e.abrupt("return",new Promise((function(e){var t=setTimeout((function(){e(!1)}),1e3);document.addEventListener("deviceready",(function(){clearTimeout(t),e(!0)}))})));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var cm={LOCAL:"local",NONE:"none",SESSION:"session"},lm=Kc,fm="persistence";function hm(e,t){lm(Object.values(cm).includes(t),e,"invalid-persistence-type"),Cu()?lm(t!==cm.SESSION,e,"unsupported-persistence-type"):Eu()?lm(t===cm.NONE,e,"unsupported-persistence-type"):im()?lm(t===cm.NONE||t===cm.LOCAL&&Au(),e,"unsupported-persistence-type"):lm(t===cm.NONE||rm(),e,"unsupported-persistence-type")}function dm(e){return pm.apply(this,arguments)}function pm(){return pm=Gu(Qu().mark((function e(t){var n,r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._initializationPromise;case 2:n=vm(),r=zl(fm,t.config.apiKey,t.name),n&&n.setItem(r,t._getPersistence());case 5:case"end":return e.stop()}}),e)}))),pm.apply(this,arguments)}function vm(){var e;try{return(null===(e="undefined"!==typeof window?window:null)||void 0===e?void 0:e.sessionStorage)||null}catch(t){return null}}var mm=Kc,ym=function(){function e(){Ka(this,e),this.browserResolver=$c(xv),this.cordovaResolver=$c(Jv),this.underlyingResolver=null,this._redirectPersistence=pd,this._completeRedirectFn=Bp,this._overrideRedirectResult=Pp}return Ha(e,[{key:"_initialize",value:function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._initialize(t));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"_openPopup",value:function(){var e=Gu(Qu().mark((function e(t,n,r,i){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openPopup(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_openRedirect",value:function(){var e=Gu(Qu().mark((function e(t,n,r,i){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.selectUnderlyingResolver();case 2:return e.abrupt("return",this.assertedUnderlyingResolver._openRedirect(t,n,r,i));case 3:case"end":return e.stop()}}),e,this)})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"_isIframeWebStorageSupported",value:function(e,t){this.assertedUnderlyingResolver._isIframeWebStorageSupported(e,t)}},{key:"_originValidation",value:function(e){return this.assertedUnderlyingResolver._originValidation(e)}},{key:"_shouldInitProactively",get:function(){return om()||this.browserResolver._shouldInitProactively}},{key:"assertedUnderlyingResolver",get:function(){return mm(this.underlyingResolver,"internal-error"),this.underlyingResolver}},{key:"selectUnderlyingResolver",value:function(){var e=Gu(Qu().mark((function e(){var t;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.underlyingResolver){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,um();case 4:t=e.sent,this.underlyingResolver=t?this.cordovaResolver:this.browserResolver;case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}();function gm(e){return e.unwrap()}function km(e,t){var n,r=null===(n=t.customData)||void 0===n?void 0:n._tokenResponse;if("auth/multi-factor-auth-required"===t.code)t.resolver=new Im(e,function(e,t){var n,r=Wu(e),i=t;return Kc(t.customData.operationType,r,"argument-error"),Kc(null===(n=i.customData._serverResponse)||void 0===n?void 0:n.mfaPendingCredential,r,"argument-error"),ad._fromError(r,i)}(e,t));else if(r){var i=wm(t),a=t;i&&(a.credential=i,a.tenantId=r.tenantId||void 0,a.email=r.email||void 0,a.phoneNumber=r.phoneNumber||void 0)}}function wm(e){var t=(e instanceof Pu?e.customData:e)._tokenResponse;if(!t)return null;if(!(e instanceof Pu)&&"temporaryProof"in t&&"phoneNumber"in t)return lp.credentialFromResult(e);var n,r=t.providerId;if(!r||r===Ec)return null;switch(r){case Sc:n=Yf;break;case _c:n=$f;break;case Ic:n=Jf;break;case Tc:n=eh;break;default:var i=t.oauthIdToken,a=t.oauthAccessToken,o=t.oauthTokenSecret,u=t.pendingToken,s=t.nonce;return a||o||i||u?u?r.startsWith("saml.")?Xf._create(r,u):Mf._fromParams({providerId:r,signInMethod:r,pendingToken:u,idToken:i,accessToken:a}):new Qf(r).credential({idToken:i,accessToken:a,rawNonce:s}):null}return e instanceof Pu?n.credentialFromError(e):n.credentialFromResult(e)}function bm(e,t){return t.catch((function(t){throw t instanceof Pu&&km(e,t),t})).then((function(e){var t,n=e.operationType,r=e.user;return{operationType:n,credential:(t=e,wm(t)),additionalUserInfo:rd(e),user:Sm.getOrCreate(r)}}))}function xm(e,t){return _m.apply(this,arguments)}function _m(){return(_m=Gu(Qu().mark((function e(t,n){var r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n;case 2:return r=e.sent,e.abrupt("return",{verificationId:r.verificationId,confirm:function(e){return bm(t,r.confirm(e))}});case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Im=function(){function e(t,n){Ka(this,e),this.resolver=n,this.auth=t.wrapped()}return Ha(e,[{key:"session",get:function(){return this.resolver.session}},{key:"hints",get:function(){return this.resolver.hints}},{key:"resolveSignIn",value:function(e){return bm(gm(this.auth),this.resolver.resolveSignIn(e))}}]),e}(),Sm=function(){function e(t){Ka(this,e),this._delegate=t,this.multiFactor=function(e){var t=Wu(e);return sd.has(t)||sd.set(t,ud._fromUser(t)),sd.get(t)}(t)}return Ha(e,[{key:"delete",value:function(){return this._delegate.delete()}},{key:"reload",value:function(){return this._delegate.reload()}},{key:"toJSON",value:function(){return this._delegate.toJSON()}},{key:"getIdTokenResult",value:function(e){return this._delegate.getIdTokenResult(e)}},{key:"getIdToken",value:function(e){return this._delegate.getIdToken(e)}},{key:"linkAndRetrieveDataWithCredential",value:function(e){return this.linkWithCredential(e)}},{key:"linkWithCredential",value:function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bm(this.auth,bh(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithPhoneNumber",value:function(){var e=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",xm(this.auth,ip(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"linkWithPopup",value:function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bm(this.auth,xp(this._delegate,t,ym)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"linkWithRedirect",value:function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dm(af(this.auth));case 2:return e.abrupt("return",jp(this._delegate,t,ym));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateAndRetrieveDataWithCredential",value:function(e){return this.reauthenticateWithCredential(e)}},{key:"reauthenticateWithCredential",value:function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bm(this.auth,_h(this._delegate,t)));case 1:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"reauthenticateWithPhoneNumber",value:function(e,t){return xm(this.auth,function(e,t,n){return op.apply(this,arguments)}(this._delegate,e,t))}},{key:"reauthenticateWithPopup",value:function(e){return bm(this.auth,function(e,t,n){return bp.apply(this,arguments)}(this._delegate,e,ym))}},{key:"reauthenticateWithRedirect",value:function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,dm(af(this.auth));case 2:return e.abrupt("return",Mp(this._delegate,t,ym));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"sendEmailVerification",value:function(e){return function(e,t){return Wh.apply(this,arguments)}(this._delegate,e)}},{key:"unlink",value:function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ch(this._delegate,t);case 2:return e.abrupt("return",this);case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateEmail",value:function(e){return function(e,t){return $h(Wu(e),t,null)}(this._delegate,e)}},{key:"updatePassword",value:function(e){return function(e,t){return $h(Wu(e),null,t)}(this._delegate,e)}},{key:"updatePhoneNumber",value:function(e){return function(e,t){return cp.apply(this,arguments)}(this._delegate,e)}},{key:"updateProfile",value:function(e){return function(e,t){return Qh.apply(this,arguments)}(this._delegate,e)}},{key:"verifyBeforeUpdateEmail",value:function(e,t){return function(e,t,n){return Kh.apply(this,arguments)}(this._delegate,e,t)}},{key:"emailVerified",get:function(){return this._delegate.emailVerified}},{key:"isAnonymous",get:function(){return this._delegate.isAnonymous}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"phoneNumber",get:function(){return this._delegate.phoneNumber}},{key:"providerData",get:function(){return this._delegate.providerData}},{key:"refreshToken",get:function(){return this._delegate.refreshToken}},{key:"tenantId",get:function(){return this._delegate.tenantId}},{key:"displayName",get:function(){return this._delegate.displayName}},{key:"email",get:function(){return this._delegate.email}},{key:"photoURL",get:function(){return this._delegate.photoURL}},{key:"providerId",get:function(){return this._delegate.providerId}},{key:"uid",get:function(){return this._delegate.uid}},{key:"auth",get:function(){return this._delegate.auth}}],[{key:"getOrCreate",value:function(t){return e.USER_MAP.has(t)||e.USER_MAP.set(t,new e(t)),e.USER_MAP.get(t)}}]),e}();Sm.USER_MAP=new WeakMap;var Em=Kc,Tm=function(){function e(t,n){if(Ka(this,e),this.app=t,n.isInitialized())return this._delegate=n.getImmediate(),void this.linkUnderlyingAuth();var r=t.options.apiKey;Em(r,"invalid-api-key",{appName:t.name}),Em(r,"invalid-api-key",{appName:t.name});var i="undefined"!==typeof window?ym:void 0;this._delegate=n.initialize({options:{persistence:Nm(r,t.name),popupRedirectResolver:i}}),this._delegate._updateErrorMap(Lc),this.linkUnderlyingAuth()}return Ha(e,[{key:"emulatorConfig",get:function(){return this._delegate.emulatorConfig}},{key:"currentUser",get:function(){return this._delegate.currentUser?Sm.getOrCreate(this._delegate.currentUser):null}},{key:"languageCode",get:function(){return this._delegate.languageCode},set:function(e){this._delegate.languageCode=e}},{key:"settings",get:function(){return this._delegate.settings}},{key:"tenantId",get:function(){return this._delegate.tenantId},set:function(e){this._delegate.tenantId=e}},{key:"useDeviceLanguage",value:function(){this._delegate.useDeviceLanguage()}},{key:"signOut",value:function(){return this._delegate.signOut()}},{key:"useEmulator",value:function(e,t){uf(this._delegate,e,t)}},{key:"applyActionCode",value:function(e){return function(e,t){return Oh.apply(this,arguments)}(this._delegate,e)}},{key:"checkActionCode",value:function(e){return Dh(this._delegate,e)}},{key:"confirmPasswordReset",value:function(e,t){return function(e,t,n){return Rh.apply(this,arguments)}(this._delegate,e,t)}},{key:"createUserWithEmailAndPassword",value:function(){var e=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",bm(this._delegate,Fh(this._delegate,t,n)));case 1:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"fetchProvidersForEmail",value:function(e){return this.fetchSignInMethodsForEmail(e)}},{key:"fetchSignInMethodsForEmail",value:function(e){return function(e,t){return qh.apply(this,arguments)}(this._delegate,e)}},{key:"isSignInWithEmailLink",value:function(e){return function(e,t){var n=Wf.parseLink(t);return"EMAIL_SIGNIN"===(null===n||void 0===n?void 0:n.operation)}(this._delegate,e)}},{key:"getRedirectResult",value:function(){var e=Gu(Qu().mark((function e(){var t;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Em(am(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,Vp(this._delegate,ym);case 3:if(t=e.sent){e.next=6;break}return e.abrupt("return",{credential:null,user:null});case 6:return e.abrupt("return",bm(this._delegate,Promise.resolve(t)));case 7:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"addFrameworkForLogging",value:function(e){!function(e,t){af(e)._logFramework(t)}(this._delegate,e)}},{key:"onAuthStateChanged",value:function(e,t,n){var r=Cm(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onAuthStateChanged(i,a,o)}},{key:"onIdTokenChanged",value:function(e,t,n){var r=Cm(e,t,n),i=r.next,a=r.error,o=r.complete;return this._delegate.onIdTokenChanged(i,a,o)}},{key:"sendSignInLinkToEmail",value:function(e,t){return function(e,t,n){return Uh.apply(this,arguments)}(this._delegate,e,t)}},{key:"sendPasswordResetEmail",value:function(e,t){return function(e,t,n){return Ph.apply(this,arguments)}(this._delegate,e,t||void 0)}},{key:"setPersistence",value:function(){var e=Gu(Qu().mark((function e(t){var n,r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:hm(this._delegate,t),e.t0=t,e.next=e.t0===cm.SESSION?4:e.t0===cm.LOCAL?6:e.t0===cm.NONE?11:13;break;case 4:return n=pd,e.abrupt("break",14);case 6:return e.next=8,$c(Fd)._isAvailable();case 8:return r=e.sent,n=r?Fd:hd,e.abrupt("break",14);case 11:return n=Vl,e.abrupt("break",14);case 13:return e.abrupt("return",Vc("argument-error",{appName:this._delegate.name}));case 14:return e.abrupt("return",this._delegate.setPersistence(n));case 15:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInAndRetrieveDataWithCredential",value:function(e){return this.signInWithCredential(e)}},{key:"signInAnonymously",value:function(){return bm(this._delegate,function(e){return ah.apply(this,arguments)}(this._delegate))}},{key:"signInWithCredential",value:function(e){return bm(this._delegate,kh(this._delegate,e))}},{key:"signInWithCustomToken",value:function(e){return bm(this._delegate,function(e,t){return Th.apply(this,arguments)}(this._delegate,e))}},{key:"signInWithEmailAndPassword",value:function(e,t){return bm(this._delegate,function(e,t,n){return kh(Wu(e),Kf.credential(t,n))}(this._delegate,e,t))}},{key:"signInWithEmailLink",value:function(e,t){return bm(this._delegate,function(e,t,n){return Vh.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPhoneNumber",value:function(e,t){return xm(this._delegate,function(e,t,n){return rp.apply(this,arguments)}(this._delegate,e,t))}},{key:"signInWithPopup",value:function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Em(am(),this._delegate,"operation-not-supported-in-this-environment"),e.abrupt("return",bm(this._delegate,kp(this._delegate,t,ym)));case 2:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"signInWithRedirect",value:function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Em(am(),this._delegate,"operation-not-supported-in-this-environment"),e.next=3,dm(this._delegate);case 3:return e.abrupt("return",Dp(this._delegate,t,ym));case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"updateCurrentUser",value:function(e){return this._delegate.updateCurrentUser(e)}},{key:"verifyPasswordResetCode",value:function(e){return function(e,t){return Mh.apply(this,arguments)}(this._delegate,e)}},{key:"unwrap",value:function(){return this._delegate}},{key:"_delete",value:function(){return this._delegate._delete()}},{key:"linkUnderlyingAuth",value:function(){var e=this;this._delegate.wrapped=function(){return e}}}]),e}();function Cm(e,t,n){var r=e;"function"!==typeof e&&(r=e.next,t=e.error,n=e.complete);var i=r;return{next:function(e){return i(e&&Sm.getOrCreate(e))},error:t,complete:n}}function Nm(e,t){var n=function(e,t){var n=vm();if(!n)return[];var r=zl(fm,e,t);switch(n.getItem(r)){case cm.NONE:return[Vl];case cm.LOCAL:return[Fd,pd];case cm.SESSION:return[pd];default:return[]}}(e,t);if("undefined"===typeof self||n.includes(Fd)||n.push(Fd),"undefined"!==typeof window)for(var r=0,i=[hd,pd];r<i.length;r++){var a=i[r];n.includes(a)||n.push(a)}return n.includes(Vl)||n.push(Vl),n}Tm.Persistence=cm;var Am=function(){function e(){Ka(this,e),this.providerId="phone",this._delegate=new lp(gm(gc.auth()))}return Ha(e,[{key:"verifyPhoneNumber",value:function(e,t){return this._delegate.verifyPhoneNumber(e,t)}},{key:"unwrap",value:function(){return this._delegate}}],[{key:"credential",value:function(e,t){return lp.credential(e,t)}}]),e}();Am.PHONE_SIGN_IN_METHOD=lp.PHONE_SIGN_IN_METHOD,Am.PROVIDER_ID=lp.PROVIDER_ID;var Pm,Rm=Kc,Om=function(){function e(t,n){var r,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:gc.app();Ka(this,e),Rm(null===(r=i.options)||void 0===r?void 0:r.apiKey,"invalid-api-key",{appName:i.name}),this._delegate=new ep(t,n,i.auth()),this.type=this._delegate.type}return Ha(e,[{key:"clear",value:function(){this._delegate.clear()}},{key:"render",value:function(){return this._delegate.render()}},{key:"verify",value:function(){return this._delegate.verify()}}]),e}();(Pm=gc).INTERNAL.registerComponent(new $u("auth-compat",(function(e){var t=e.getProvider("app-compat").getImmediate(),n=e.getProvider("auth");return new Tm(t,n)}),"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:Cc,PASSWORD_RESET:Nc,RECOVER_EMAIL:Ac,REVERT_SECOND_FACTOR_ADDITION:Pc,VERIFY_AND_CHANGE_EMAIL:Rc,VERIFY_EMAIL:Oc}},EmailAuthProvider:Kf,FacebookAuthProvider:$f,GithubAuthProvider:Jf,GoogleAuthProvider:Yf,OAuthProvider:Qf,SAMLAuthProvider:Zf,PhoneAuthProvider:Am,PhoneMultiFactorGenerator:Iv,RecaptchaVerifier:Om,TwitterAuthProvider:eh,Auth:Tm,AuthCredential:lf,Error:Pu}).setInstantiationMode("LAZY").setMultipleInstances(!1)),Pm.registerVersion("@firebase/auth-compat","0.2.14");var Dm,Lm="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof n.g?n.g:"undefined"!==typeof self?self:{},Mm={},Fm=Fm||{},jm=Lm||self;function Um(){}function Vm(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function zm(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}var Bm="closure_uid_"+(1e9*Math.random()>>>0),qm=0;function Wm(e,t,n){return e.call.apply(e.bind,arguments)}function Km(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Gm(e,t,n){return(Gm=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Wm:Km).apply(null,arguments)}function Hm(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Qm(e,t){function n(){}n.prototype=t.prototype,e.Z=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Vb=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function $m(){this.s=this.s,this.o=this.o}var Ym={};$m.prototype.s=!1,$m.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var e=function(e){return Object.prototype.hasOwnProperty.call(e,Bm)&&e[Bm]||(e[Bm]=++qm)}(this);delete Ym[e]}},$m.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Jm=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"===typeof e)return"string"!==typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1},Xm=Array.prototype.forEach?function(e,t,n){Array.prototype.forEach.call(e,t,n)}:function(e,t,n){for(var r=e.length,i="string"===typeof e?e.split(""):e,a=0;a<r;a++)a in i&&t.call(n,i[a],a,e)};function Zm(e){return Array.prototype.concat.apply([],arguments)}function ey(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function ty(e){return/^[\s\xa0]*$/.test(e)}var ny,ry=String.prototype.trim?function(e){return e.trim()}:function(e){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(e)[1]};function iy(e,t){return-1!=e.indexOf(t)}function ay(e,t){return e<t?-1:e>t?1:0}e:{var oy=jm.navigator;if(oy){var uy=oy.userAgent;if(uy){ny=uy;break e}}ny=""}function sy(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function cy(e){var t={};for(var n in e)t[n]=e[n];return t}var ly="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function fy(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<ly.length;a++)n=ly[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function hy(e){return hy[" "](e),e}hy[" "]=Um;var dy,py=iy(ny,"Opera"),vy=iy(ny,"Trident")||iy(ny,"MSIE"),my=iy(ny,"Edge"),yy=my||vy,gy=iy(ny,"Gecko")&&!(iy(ny.toLowerCase(),"webkit")&&!iy(ny,"Edge"))&&!(iy(ny,"Trident")||iy(ny,"MSIE"))&&!iy(ny,"Edge"),ky=iy(ny.toLowerCase(),"webkit")&&!iy(ny,"Edge");function wy(){var e=jm.document;return e?e.documentMode:void 0}e:{var by="",xy=function(){var e=ny;return gy?/rv:([^\);]+)(\)|;)/.exec(e):my?/Edge\/([\d\.]+)/.exec(e):vy?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e):ky?/WebKit\/(\S+)/.exec(e):py?/(?:Version)[ \/]?(\S+)/.exec(e):void 0}();if(xy&&(by=xy?xy[1]:""),vy){var _y=wy();if(null!=_y&&_y>parseFloat(by)){dy=String(_y);break e}}dy=by}var Iy,Sy={};function Ey(){return function(e){var t=Sy;return Object.prototype.hasOwnProperty.call(t,9)?t[9]:t[9]=e(9)}((function(){for(var e=0,t=ry(String(dy)).split("."),n=ry("9").split("."),r=Math.max(t.length,n.length),i=0;0==e&&i<r;i++){var a=t[i]||"",o=n[i]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==a[0].length&&0==o[0].length)break;e=ay(0==a[1].length?0:parseInt(a[1],10),0==o[1].length?0:parseInt(o[1],10))||ay(0==a[2].length,0==o[2].length)||ay(a[2],o[2]),a=a[3],o=o[3]}while(0==e)}return 0<=e}))}if(jm.document&&vy){var Ty=wy();Iy=Ty||(parseInt(dy,10)||void 0)}else Iy=void 0;var Cy=Iy,Ny=function(){if(!jm.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{jm.addEventListener("test",Um,t),jm.removeEventListener("test",Um,t)}catch(n){}return e}();function Ay(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}function Py(e,t){if(Ay.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(gy){e:{try{hy(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:Ry[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&Py.Z.h.call(this)}}Ay.prototype.h=function(){this.defaultPrevented=!0},Qm(Py,Ay);var Ry={2:"touch",3:"pen",4:"mouse"};Py.prototype.h=function(){Py.Z.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var Oy="closure_listenable_"+(1e6*Math.random()|0),Dy=0;function Ly(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ia=i,this.key=++Dy,this.ca=this.fa=!1}function My(e){e.ca=!0,e.listener=null,e.proxy=null,e.src=null,e.ia=null}function Fy(e){this.src=e,this.g={},this.h=0}function jy(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Jm(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(My(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function Uy(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.ca&&a.listener==t&&a.capture==!!n&&a.ia==r)return i}return-1}Fy.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=Uy(e,t,r,i);return-1<o?(t=e[o],n||(t.fa=!1)):((t=new Ly(t,this.src,a,!!r,i)).fa=n,e.push(t)),t};var Vy="closure_lm_"+(1e6*Math.random()|0),zy={};function By(e,t,n,r,i){if(r&&r.once)return Wy(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)By(e,t[a],n,r,i);return null}return n=Jy(n),e&&e[Oy]?e.N(t,n,zm(r)?!!r.capture:!!r,i):qy(e,t,n,!1,r,i)}function qy(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=zm(i)?!!i.capture:!!i,u=$y(e);if(u||(e[Vy]=u=new Fy(e)),(n=u.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Qy;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Ny||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Hy(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Wy(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Wy(e,t[a],n,r,i);return null}return n=Jy(n),e&&e[Oy]?e.O(t,n,zm(r)?!!r.capture:!!r,i):qy(e,t,n,!0,r,i)}function Ky(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ky(e,t[a],n,r,i);else r=zm(r)?!!r.capture:!!r,n=Jy(n),e&&e[Oy]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=Uy(a=e.g[t],n,r,i))&&(My(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=$y(e))&&(t=e.g[t.toString()],e=-1,t&&(e=Uy(t,n,r,i)),(n=-1<e?t[e]:null)&&Gy(n))}function Gy(e){if("number"!==typeof e&&e&&!e.ca){var t=e.src;if(t&&t[Oy])jy(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Hy(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=$y(t))?(jy(n,e),0==n.h&&(n.src=null,t[Vy]=null)):My(e)}}}function Hy(e){return e in zy?zy[e]:zy[e]="on"+e}function Qy(e,t){if(e.ca)e=!0;else{t=new Py(t,this);var n=e.listener,r=e.ia||e.src;e.fa&&Gy(e),e=n.call(r,t)}return e}function $y(e){return(e=e[Vy])instanceof Fy?e:null}var Yy="__closure_events_fn_"+(1e9*Math.random()>>>0);function Jy(e){return"function"===typeof e?e:(e[Yy]||(e[Yy]=function(t){return e.handleEvent(t)}),e[Yy])}function Xy(){$m.call(this),this.i=new Fy(this),this.P=this,this.I=null}function Zy(e,t){var n,r=e.I;if(r)for(n=[];r;r=r.I)n.push(r);if(e=e.P,r=t.type||t,"string"===typeof t)t=new Ay(t,e);else if(t instanceof Ay)t.target=t.target||e;else{var i=t;fy(t=new Ay(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=eg(o,r,!0,t)&&i}if(i=eg(o=t.g=e,r,!0,t)&&i,i=eg(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=eg(o=t.g=n[a],r,!1,t)&&i}function eg(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.ca&&o.capture==n){var u=o.listener,s=o.ia||o.src;o.fa&&jy(e.i,o),i=!1!==u.call(s,r)&&i}}return i&&!r.defaultPrevented}Qm(Xy,$m),Xy.prototype[Oy]=!0,Xy.prototype.removeEventListener=function(e,t,n,r){Ky(this,e,t,n,r)},Xy.prototype.M=function(){if(Xy.Z.M.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)My(n[r]);delete t.g[e],t.h--}}this.I=null},Xy.prototype.N=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Xy.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var tg=jm.JSON.stringify;function ng(){var e=lg,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var rg,ig=function(){function e(){Ka(this,e),this.h=this.g=null}return Ha(e,[{key:"add",value:function(e,t){var n=ag.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}]),e}(),ag=new(function(){function e(t,n){Ka(this,e),this.i=t,this.j=n,this.h=0,this.g=null}return Ha(e,[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}]),e}())((function(){return new og}),(function(e){return e.reset()})),og=function(){function e(){Ka(this,e),this.next=this.g=this.h=null}return Ha(e,[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}]),e}();function ug(e){jm.setTimeout((function(){throw e}),0)}function sg(e,t){rg||function(){var e=jm.Promise.resolve(void 0);rg=function(){e.then(fg)}}(),cg||(rg(),cg=!0),lg.add(e,t)}var cg=!1,lg=new ig;function fg(){for(var e;e=ng();){try{e.h.call(e.g)}catch(n){ug(n)}var t=ag;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}cg=!1}function hg(e,t){Xy.call(this),this.h=e||1,this.g=t||jm,this.j=Gm(this.kb,this),this.l=Date.now()}function dg(e){e.da=!1,e.S&&(e.g.clearTimeout(e.S),e.S=null)}function pg(e,t,n){if("function"===typeof e)n&&(e=Gm(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Gm(e.handleEvent,e)}return 2147483647<Number(t)?-1:jm.setTimeout(e,t||0)}function vg(e){e.g=pg((function(){e.g=null,e.i&&(e.i=!1,vg(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Qm(hg,Xy),(Dm=hg.prototype).da=!1,Dm.S=null,Dm.kb=function(){if(this.da){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-e):(this.S&&(this.g.clearTimeout(this.S),this.S=null),Zy(this,"tick"),this.da&&(dg(this),this.start()))}},Dm.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Dm.M=function(){hg.Z.M.call(this),dg(this),delete this.g};var mg=function(e){Ma(n,e);var t=Ba(n);function n(e,r){var i;return Ka(this,n),(i=t.call(this)).m=e,i.j=r,i.h=null,i.i=!1,i.g=null,i}return Ha(n,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:vg(this)}},{key:"M",value:function(){wc(Fa(n.prototype),"M",this).call(this),this.g&&(jm.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}]),n}($m);function yg(e){$m.call(this),this.h=e,this.g={}}Qm(yg,$m);var gg=[];function kg(e,t,n,r){Array.isArray(n)||(n&&(gg[0]=n.toString()),n=gg);for(var i=0;i<n.length;i++){var a=By(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function wg(e){sy(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Gy(e)}),e),e.g={}}function bg(){this.g=!0}function xg(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return tg(n)}catch(u){return t}}(e,n)+(r?" "+r:"")}))}yg.prototype.M=function(){yg.Z.M.call(this),wg(this)},yg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},bg.prototype.Aa=function(){this.g=!1},bg.prototype.info=function(){};var _g={},Ig=null;function Sg(){return Ig=Ig||new Xy}function Eg(e){Ay.call(this,_g.Ma,e)}function Tg(e){var t=Sg();Zy(t,new Eg(t,e))}function Cg(e,t){Ay.call(this,_g.STAT_EVENT,e),this.stat=t}function Ng(e){var t=Sg();Zy(t,new Cg(t,e))}function Ag(e,t){Ay.call(this,_g.Na,e),this.size=t}function Pg(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return jm.setTimeout((function(){e()}),t)}_g.Ma="serverreachability",Qm(Eg,Ay),_g.STAT_EVENT="statevent",Qm(Cg,Ay),_g.Na="timingevent",Qm(Ag,Ay);var Rg={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Og={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Dg(){}function Lg(e){return e.h||(e.h=e.i())}function Mg(){}Dg.prototype.h=null;var Fg,jg={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Ug(){Ay.call(this,"d")}function Vg(){Ay.call(this,"c")}function zg(){}function Bg(e,t,n,r){this.l=e,this.j=t,this.m=n,this.X=r||1,this.V=new yg(this),this.P=Wg,e=yy?125:void 0,this.W=new hg(e),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new qg}function qg(){this.i=null,this.g="",this.h=!1}Qm(Ug,Ay),Qm(Vg,Ay),Qm(zg,Dg),zg.prototype.g=function(){return new XMLHttpRequest},zg.prototype.i=function(){return{}},Fg=new zg;var Wg=45e3,Kg={},Gg={};function Hg(e,t,n){e.K=1,e.v=mk(lk(t)),e.s=n,e.U=!0,Qg(e,null)}function Qg(e,t){e.F=Date.now(),Xg(e),e.A=lk(e.v);var n=e.A,r=e.X;Array.isArray(r)||(r=[String(r)]),Nk(n.h,"t",r),e.C=0,n=e.l.H,e.h=new qg,e.g=Pw(e.l,n?t:null,!e.s),0<e.O&&(e.L=new mg(Gm(e.Ia,e,e.g),e.O)),kg(e.V,e.g,"readystatechange",e.gb),t=e.H?cy(e.H):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.s,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Tg(1),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",u=a.split("&"),s=0;s<u.length;s++){var c=u[s].split("=");if(1<c.length){var l=c[0];c=c[1];var f=l.split("_");o=2<=f.length&&"type"==f[1]?o+(l+"=")+c+"&":o+(l+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.u,e.A,e.m,e.X,e.s)}function $g(e){return!!e.g&&("GET"==e.u&&2!=e.K&&e.l.Ba)}function Yg(e,t,n){for(var r,i=!0;!e.I&&e.C<n.length;){if((r=Jg(e,n))==Gg){4==t&&(e.o=4,Ng(14),i=!1),xg(e.j,e.m,null,"[Incomplete Response]");break}if(r==Kg){e.o=4,Ng(15),xg(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}xg(e.j,e.m,r,null),rk(e,r)}$g(e)&&r!=Gg&&r!=Kg&&(e.h.g="",e.C=0),4!=t||0!=n.length||e.h.h||(e.o=1,Ng(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.aa&&(e.aa=!0,(t=e.l).g==e&&t.$&&!t.L&&(t.h.info("Great, no buffering proxy detected. Bytes received: "+n.length),_w(t),t.L=!0,Ng(11))):(xg(e.j,e.m,n,"[Invalid Chunked Response]"),nk(e),tk(e))}function Jg(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?Gg:(n=Number(t.substring(n,r)),isNaN(n)?Kg:(r+=1)+n>t.length?Gg:(t=t.substr(r,n),e.C=r+n,t))}function Xg(e){e.Y=Date.now()+e.P,Zg(e,e.P)}function Zg(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Pg(Gm(e.eb,e),t)}function ek(e){e.B&&(jm.clearTimeout(e.B),e.B=null)}function tk(e){0==e.l.G||e.I||Ew(e.l,e)}function nk(e){ek(e);var t=e.L;t&&"function"==typeof t.na&&t.na(),e.L=null,dg(e.W),wg(e.V),e.g&&(t=e.g,e.g=null,t.abort(),t.na())}function rk(e,t){try{var n=e.l;if(0!=n.G&&(n.g==e||Fk(n.i,e)))if(n.I=e.N,!e.J&&Fk(n.i,e)&&3==n.G){try{var r=n.Ca.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;Sw(n),pw(n)}xw(n),Ng(18)}}else n.ta=i[1],0<n.ta-n.U&&37500>i[2]&&n.N&&0==n.A&&!n.v&&(n.v=Pg(Gm(n.ab,n),6e3));if(1>=Mk(n.i)&&n.ka){try{n.ka()}catch(a){}n.ka=void 0}}else Cw(n,11)}else if((e.J||n.g==e)&&Sw(n),!ty(t))for(i=n.Ca.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.U=a[0],a=a[1],2==n.G)if("c"==a[0]){n.J=a[1],n.la=a[2];var o=a[3];null!=o&&(n.ma=o,n.h.info("VER="+n.ma));var u=a[4];null!=u&&(n.za=u,n.h.info("SVER="+n.za));var s=a[5];null!=s&&"number"===typeof s&&0<s&&(r=1.5*s,n.K=r,n.h.info("backChannelRequestTimeoutMs_="+r)),r=n;var c=e.g;if(c){var l=c.g?c.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(l){var f=r.i;!f.g&&(iy(l,"spdy")||iy(l,"quic")||iy(l,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(jk(f,f.h),f.h=null))}if(r.D){var h=c.g?c.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.sa=h,vk(r.F,r.D,h))}}n.G=3,n.j&&n.j.xa(),n.$&&(n.O=Date.now()-e.F,n.h.info("Handshake RTT: "+n.O+"ms"));var d=e;if((r=n).oa=Aw(r,r.H?r.la:null,r.W),d.J){Uk(r.i,d);var p=d,v=r.K;v&&p.setTimeout(v),p.B&&(ek(p),Xg(p)),r.g=d}else bw(r);0<n.l.length&&yw(n)}else"stop"!=a[0]&&"close"!=a[0]||Cw(n,7);else 3==n.G&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?Cw(n,7):dw(n):"noop"!=a[0]&&n.j&&n.j.wa(a),n.A=0)}Tg(4)}catch(a){}}function ik(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Vm(e)||"string"===typeof e)Xm(e,t,void 0);else{if(e.T&&"function"==typeof e.T)var n=e.T();else if(e.R&&"function"==typeof e.R)n=void 0;else if(Vm(e)||"string"===typeof e){n=[];for(var r=e.length,i=0;i<r;i++)n.push(i)}else for(i in n=[],r=0,e)n[r++]=i;r=function(e){if(e.R&&"function"==typeof e.R)return e.R();if("string"===typeof e)return e.split("");if(Vm(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length;for(var a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}}function ak(e,t){this.h={},this.g=[],this.i=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(e)if(e instanceof ak)for(n=e.T(),r=0;r<n.length;r++)this.set(n[r],e.get(n[r]));else for(r in e)this.set(r,e[r])}function ok(e){if(e.i!=e.g.length){for(var t=0,n=0;t<e.g.length;){var r=e.g[t];uk(e.h,r)&&(e.g[n++]=r),t++}e.g.length=n}if(e.i!=e.g.length){var i={};for(n=t=0;t<e.g.length;)uk(i,r=e.g[t])||(e.g[n++]=r,i[r]=1),t++;e.g.length=n}}function uk(e,t){return Object.prototype.hasOwnProperty.call(e,t)}(Dm=Bg.prototype).setTimeout=function(e){this.P=e},Dm.gb=function(e){e=e.target;var t=this.L;t&&3==sw(e)?t.l():this.Ia(e)},Dm.Ia=function(e){try{if(e==this.g)e:{var t=sw(this.g),n=this.g.Da(),r=this.g.ba();if(!(3>t)&&(3!=t||yy||this.g&&(this.h.h||this.g.ga()||cw(this.g)))){this.I||4!=t||7==n||Tg(8==n||0>=r?3:2),ek(this);var i=this.g.ba();this.N=i;t:if($g(this)){var a=cw(this.g);e="";var o=a.length,u=4==sw(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){nk(this),tk(this);var s="";break t}this.h.i=new jm.TextDecoder}for(n=0;n<o;n++)this.h.h=!0,e+=this.h.i.decode(a[n],{stream:u&&n==o-1});a.splice(0,o),this.h.g+=e,this.C=0,s=this.h.g}else s=this.g.ga();if(this.i=200==i,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.u,this.A,this.m,this.X,t,i),this.i){if(this.$&&!this.J){t:{if(this.g){var c,l=this.g;if((c=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!ty(c)){var f=c;break t}}f=null}if(!(i=f)){this.i=!1,this.o=3,Ng(12),nk(this),tk(this);break e}xg(this.j,this.m,i,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,rk(this,i)}this.U?(Yg(this,t,s),yy&&this.i&&3==t&&(kg(this.V,this.W,"tick",this.fb),this.W.start())):(xg(this.j,this.m,s,null),rk(this,s)),4==t&&nk(this),this.i&&!this.I&&(4==t?Ew(this.l,this):(this.i=!1,Xg(this)))}else 400==i&&0<s.indexOf("Unknown SID")?(this.o=3,Ng(12)):(this.o=0,Ng(13)),nk(this),tk(this)}}}catch(t){}},Dm.fb=function(){if(this.g){var e=sw(this.g),t=this.g.ga();this.C<t.length&&(ek(this),Yg(this,e,t),this.i&&4!=e&&Xg(this))}},Dm.cancel=function(){this.I=!0,nk(this)},Dm.eb=function(){this.B=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.A),2!=this.K&&(Tg(3),Ng(17)),nk(this),this.o=2,tk(this)):Zg(this,this.Y-e)},(Dm=ak.prototype).R=function(){ok(this);for(var e=[],t=0;t<this.g.length;t++)e.push(this.h[this.g[t]]);return e},Dm.T=function(){return ok(this),this.g.concat()},Dm.get=function(e,t){return uk(this.h,e)?this.h[e]:t},Dm.set=function(e,t){uk(this.h,e)||(this.i++,this.g.push(e)),this.h[e]=t},Dm.forEach=function(e,t){for(var n=this.T(),r=0;r<n.length;r++){var i=n[r],a=this.get(i);e.call(t,a,i,this)}};var sk=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function ck(e,t){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,e instanceof ck){this.g=void 0!==t?t:e.g,fk(this,e.j),this.s=e.s,hk(this,e.i),dk(this,e.m),this.l=e.l,t=e.h;var n=new Sk;n.i=t.i,t.g&&(n.g=new ak(t.g),n.h=t.h),pk(this,n),this.o=e.o}else e&&(n=String(e).match(sk))?(this.g=!!t,fk(this,n[1]||"",!0),this.s=yk(n[2]||""),hk(this,n[3]||"",!0),dk(this,n[4]),this.l=yk(n[5]||"",!0),pk(this,n[6]||"",!0),this.o=yk(n[7]||"")):(this.g=!!t,this.h=new Sk(null,this.g))}function lk(e){return new ck(e)}function fk(e,t,n){e.j=n?yk(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function hk(e,t,n){e.i=n?yk(t,!0):t}function dk(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function pk(e,t,n){t instanceof Sk?(e.h=t,function(e,t){t&&!e.j&&(Ek(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Tk(this,t),Nk(this,n,e))}),e)),e.j=t}(e.h,e.g)):(n||(t=gk(t,_k)),e.h=new Sk(t,e.g))}function vk(e,t,n){e.h.set(t,n)}function mk(e){return vk(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function yk(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function gk(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,kk),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function kk(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}ck.prototype.toString=function(){var e=[],t=this.j;t&&e.push(gk(t,wk,!0),":");var n=this.i;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(gk(t,wk,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.i&&"/"!=n.charAt(0)&&e.push("/"),e.push(gk(n,"/"==n.charAt(0)?xk:bk,!0))),(n=this.h.toString())&&e.push("?",n),(n=this.o)&&e.push("#",gk(n,Ik)),e.join("")};var wk=/[#\/\?@]/g,bk=/[#\?:]/g,xk=/[#\?]/g,_k=/[#\?@]/g,Ik=/#/g;function Sk(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function Ek(e){e.g||(e.g=new ak,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Tk(e,t){Ek(e),t=Ak(e,t),uk(e.g.h,t)&&(e.i=null,e.h-=e.g.get(t).length,uk((e=e.g).h,t)&&(delete e.h[t],e.i--,e.g.length>2*e.i&&ok(e)))}function Ck(e,t){return Ek(e),t=Ak(e,t),uk(e.g.h,t)}function Nk(e,t,n){Tk(e,t),0<n.length&&(e.i=null,e.g.set(Ak(e,t),ey(n)),e.h+=n.length)}function Ak(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Dm=Sk.prototype).add=function(e,t){Ek(this),this.i=null,e=Ak(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Dm.forEach=function(e,t){Ek(this),this.g.forEach((function(n,r){Xm(n,(function(n){e.call(t,n,r,this)}),this)}),this)},Dm.T=function(){Ek(this);for(var e=this.g.R(),t=this.g.T(),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Dm.R=function(e){Ek(this);var t=[];if("string"===typeof e)Ck(this,e)&&(t=Zm(t,this.g.get(Ak(this,e))));else{e=this.g.R();for(var n=0;n<e.length;n++)t=Zm(t,e[n])}return t},Dm.set=function(e,t){return Ek(this),this.i=null,Ck(this,e=Ak(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Dm.get=function(e,t){return e&&0<(e=this.R(e)).length?String(e[0]):t},Dm.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=this.g.T(),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r));r=this.R(r);for(var a=0;a<r.length;a++){var o=i;""!==r[a]&&(o+="="+encodeURIComponent(String(r[a]))),e.push(o)}}return this.i=e.join("&")};var Pk=Ha((function e(t,n){Ka(this,e),this.h=t,this.g=n}));function Rk(e){this.l=e||Dk,jm.PerformanceNavigationTiming?e=0<(e=jm.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(jm.g&&jm.g.Ea&&jm.g.Ea()&&jm.g.Ea().Zb),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var Ok,Dk=10;function Lk(e){return!!e.h||!!e.g&&e.g.size>=e.j}function Mk(e){return e.h?1:e.g?e.g.size:0}function Fk(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function jk(e,t){e.g?e.g.add(t):e.h=t}function Uk(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function Vk(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=du(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.D)}}catch(a){r.e(a)}finally{r.f()}return n}return ey(e.i)}function zk(){}function Bk(){this.g=new zk}function qk(e,t,n){var r=n||"";try{ik(e,(function(e,n){var i=e;zm(e)&&(i=tg(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Wk(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function Kk(e){this.l=e.$b||null,this.j=e.ib||!1}function Gk(e,t){Xy.call(this),this.D=e,this.u=t,this.m=void 0,this.readyState=Hk,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Rk.prototype.cancel=function(){if(this.i=Vk(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=du(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}},zk.prototype.stringify=function(e){return jm.JSON.stringify(e,void 0)},zk.prototype.parse=function(e){return jm.JSON.parse(e,void 0)},Qm(Kk,Dg),Kk.prototype.g=function(){return new Gk(this.l,this.j)},Kk.prototype.i=(Ok={},function(){return Ok}),Qm(Gk,Xy);var Hk=0;function Qk(e){e.j.read().then(e.Sa.bind(e)).catch(e.ha.bind(e))}function $k(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Yk(e)}function Yk(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Dm=Gk.prototype).open=function(e,t){if(this.readyState!=Hk)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Yk(this)},Dm.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||jm).fetch(new Request(this.B,t)).then(this.Va.bind(this),this.ha.bind(this))},Dm.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$k(this)),this.readyState=Hk},Dm.Va=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Yk(this)),this.g&&(this.readyState=3,Yk(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if("undefined"!==typeof jm.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Qk(this)}else e.text().then(this.Ua.bind(this),this.ha.bind(this))},Dm.Sa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?$k(this):Yk(this),3==this.readyState&&Qk(this)}},Dm.Ua=function(e){this.g&&(this.response=this.responseText=e,$k(this))},Dm.Ta=function(e){this.g&&(this.response=e,$k(this))},Dm.ha=function(){this.g&&$k(this)},Dm.setRequestHeader=function(e,t){this.v.append(e,t)},Dm.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Dm.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Gk.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Jk=jm.JSON.parse;function Xk(e){Xy.call(this),this.headers=new ak,this.u=e||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Zk,this.K=this.L=!1}Qm(Xk,Xy);var Zk="",ew=/^https?$/i,tw=["POST","PUT"];function nw(e){return"content-type"==e.toLowerCase()}function rw(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,iw(e),ow(e)}function iw(e){e.D||(e.D=!0,Zy(e,"complete"),Zy(e,"error"))}function aw(e){if(e.h&&"undefined"!=typeof Fm&&(!e.C[1]||4!=sw(e)||2!=e.ba()))if(e.v&&4==sw(e))pg(e.Fa,0,e);else if(Zy(e,"readystatechange"),4==sw(e)){e.h=!1;try{var t,n=e.ba();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.H).match(sk)[1]||null;if(!a&&jm.self&&jm.self.location){var o=jm.self.location.protocol;a=o.substr(0,o.length-1)}i=!ew.test(a?a.toLowerCase():"")}t=i}if(t)Zy(e,"complete"),Zy(e,"success");else{e.m=6;try{var u=2<sw(e)?e.g.statusText:""}catch(s){u=""}e.j=u+" ["+e.ba()+"]",iw(e)}}finally{ow(e)}}}function ow(e,t){if(e.g){uw(e);var n=e.g,r=e.C[0]?Um:null;e.g=null,e.C=null,t||Zy(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function uw(e){e.g&&e.K&&(e.g.ontimeout=null),e.A&&(jm.clearTimeout(e.A),e.A=null)}function sw(e){return e.g?e.g.readyState:0}function cw(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.J){case Zk:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Xe){return null}}function lw(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=function(e){var t="";return sy(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):vk(e,t,n))}function fw(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function hw(e){this.za=0,this.l=[],this.h=new bg,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=fw("failFast",!1,e),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=fw("baseRetryDelayMs",5e3,e),this.$a=fw("retryDelaySeedMs",1e4,e),this.Ya=fw("forwardChannelMaxRetries",2,e),this.ra=fw("forwardChannelRequestTimeoutMs",2e4,e),this.qa=e&&e.xmlHttpFactory||void 0,this.Ba=e&&e.Yb||!1,this.K=void 0,this.H=e&&e.supportsCrossDomainXhr||!1,this.J="",this.i=new Rk(e&&e.concurrentRequestLimit),this.Ca=new Bk,this.ja=e&&e.fastHandshake||!1,this.Ra=e&&e.Wb||!1,e&&e.Aa&&this.h.Aa(),e&&e.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&e&&e.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!e||!1!==e.Xb}function dw(e){if(vw(e),3==e.G){var t=e.V++,n=lk(e.F);vk(n,"SID",e.J),vk(n,"RID",t),vk(n,"TYPE","terminate"),kw(e,n),(t=new Bg(e,e.h,t,void 0)).K=2,t.v=mk(lk(n)),n=!1,jm.navigator&&jm.navigator.sendBeacon&&(n=jm.navigator.sendBeacon(t.v.toString(),"")),!n&&jm.Image&&((new Image).src=t.v,n=!0),n||(t.g=Pw(t.l,null),t.g.ea(t.v)),t.F=Date.now(),Xg(t)}Nw(e)}function pw(e){e.g&&(_w(e),e.g.cancel(),e.g=null)}function vw(e){pw(e),e.u&&(jm.clearTimeout(e.u),e.u=null),Sw(e),e.i.cancel(),e.m&&("number"===typeof e.m&&jm.clearTimeout(e.m),e.m=null)}function mw(e,t){e.l.push(new Pk(e.Za++,t)),3==e.G&&yw(e)}function yw(e){Lk(e.i)||e.m||(e.m=!0,sg(e.Ha,e),e.C=0)}function gw(e,t){var n;n=t?t.m:e.V++;var r=lk(e.F);vk(r,"SID",e.J),vk(r,"RID",n),vk(r,"AID",e.U),kw(e,r),e.o&&e.s&&lw(r,e.o,e.s),n=new Bg(e,e.h,n,e.C+1),null===e.o&&(n.H=e.s),t&&(e.l=t.D.concat(e.l)),t=ww(e,n,1e3),n.setTimeout(Math.round(.5*e.ra)+Math.round(.5*e.ra*Math.random())),jk(e.i,n),Hg(n,r,t)}function kw(e,t){e.j&&ik({},(function(e,n){vk(t,n,e)}))}function ww(e,t,n){n=Math.min(e.l.length,n);var r=e.j?Gm(e.j.Oa,e.j,e):null;e:for(var i=e.l,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].h,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var u=!0,s=0;s<n;s++){var c=i[s].h,l=i[s].g;if(0>(c-=a))a=Math.max(0,i[s].h-100),u=!1;else try{qk(l,o,"req"+c+"_")}catch(dt){r&&r(l)}}if(u){r=o.join("&");break e}}return e=e.l.splice(0,n),t.D=e,r}function bw(e){e.g||e.u||(e.Y=1,sg(e.Ga,e),e.A=0)}function xw(e){return!(e.g||e.u||3<=e.A)&&(e.Y++,e.u=Pg(Gm(e.Ga,e),Tw(e,e.A)),e.A++,!0)}function _w(e){null!=e.B&&(jm.clearTimeout(e.B),e.B=null)}function Iw(e){e.g=new Bg(e,e.h,"rpc",e.Y),null===e.o&&(e.g.H=e.s),e.g.O=0;var t=lk(e.oa);vk(t,"RID","rpc"),vk(t,"SID",e.J),vk(t,"CI",e.N?"0":"1"),vk(t,"AID",e.U),kw(e,t),vk(t,"TYPE","xmlhttp"),e.o&&e.s&&lw(t,e.o,e.s),e.K&&e.g.setTimeout(e.K);var n=e.g;e=e.la,n.K=1,n.v=mk(lk(t)),n.s=null,n.U=!0,Qg(n,e)}function Sw(e){null!=e.v&&(jm.clearTimeout(e.v),e.v=null)}function Ew(e,t){var n=null;if(e.g==t){Sw(e),_w(e),e.g=null;var r=2}else{if(!Fk(e.i,t))return;n=t.D,Uk(e.i,t),r=1}if(e.I=t.N,0!=e.G)if(t.i)if(1==r){n=t.s?t.s.length:0,t=Date.now()-t.F;var i=e.C;Zy(r=Sg(),new Ag(r,n,t,i)),yw(e)}else bw(e);else if(3==(i=t.o)||0==i&&0<e.I||!(1==r&&function(e,t){return!(Mk(e.i)>=e.i.j-(e.m?1:0))&&(e.m?(e.l=t.D.concat(e.l),!0):!(1==e.G||2==e.G||e.C>=(e.Xa?0:e.Ya))&&(e.m=Pg(Gm(e.Ha,e,t),Tw(e,e.C)),e.C++,!0))}(e,t)||2==r&&xw(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:Cw(e,5);break;case 4:Cw(e,10);break;case 3:Cw(e,6);break;default:Cw(e,2)}}function Tw(e,t){var n=e.Pa+Math.floor(Math.random()*e.$a);return e.j||(n*=2),n*t}function Cw(e,t){if(e.h.info("Error code "+t),2==t){var n=null;e.j&&(n=null);var r=Gm(e.jb,e);n||(n=new ck("//www.google.com/images/cleardot.gif"),jm.location&&"http"==jm.location.protocol||fk(n,"https"),mk(n)),function(e,t){var n=new bg;if(jm.Image){var r=new Image;r.onload=Hm(Wk,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Hm(Wk,n,r,"TestLoadImage: error",!1,t),r.onabort=Hm(Wk,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Hm(Wk,n,r,"TestLoadImage: timeout",!1,t),jm.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else Ng(2);e.G=0,e.j&&e.j.va(t),Nw(e),vw(e)}function Nw(e){e.G=0,e.I=-1,e.j&&(0==Vk(e.i).length&&0==e.l.length||(e.i.i.length=0,ey(e.l),e.l.length=0),e.j.ua())}function Aw(e,t,n){var r=function(e){return e instanceof ck?lk(e):new ck(e,void 0)}(n);if(""!=r.i)t&&hk(r,t+"."+r.i),dk(r,r.m);else{var i=jm.location;r=function(e,t,n,r){var i=new ck(null,void 0);return e&&fk(i,e),t&&hk(i,t),n&&dk(i,n),r&&(i.l=r),i}(i.protocol,t?t+"."+i.hostname:i.hostname,+i.port,n)}return e.aa&&sy(e.aa,(function(e,t){vk(r,t,e)})),t=e.D,n=e.sa,t&&n&&vk(r,t,n),vk(r,"VER",e.ma),kw(e,r),r}function Pw(e,t,n){if(t&&!e.H)throw Error("Can't create secondary domain capable XhrIo object.");return(t=n&&e.Ba&&!e.qa?new Xk(new Kk({ib:!0})):new Xk(e.qa)).L=e.H,t}function Rw(){}function Ow(){if(vy&&!(10<=Number(Cy)))throw Error("Environmental error: no available transport.")}function Dw(e,t){Xy.call(this),this.g=new hw(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.ya&&(e?e["X-WebChannel-Client-Profile"]=t.ya:e={"X-WebChannel-Client-Profile":t.ya}),this.g.P=e,(e=t&&t.httpHeadersOverwriteParam)&&!ty(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!ty(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new Fw(this)}function Lw(e){Ug.call(this);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function Mw(){Vg.call(this),this.status=1}function Fw(e){this.g=e}(Dm=Xk.prototype).ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+e);t=t?t.toUpperCase():"GET",this.H=e,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Fg.g(),this.C=this.u?Lg(this.u):Lg(Fg),this.g.onreadystatechange=Gm(this.Fa,this);try{this.F=!0,this.g.open(t,String(e),!0),this.F=!1}catch(a){return void rw(this,a)}e=n||"";var i=new ak(this.headers);r&&ik(r,(function(e,t){i.set(t,e)})),r=function(e){e:{for(var t=nw,n=e.length,r="string"===typeof e?e.split(""):e,i=0;i<n;i++)if(i in r&&t.call(void 0,r[i],i,e)){t=i;break e}t=-1}return 0>t?null:"string"===typeof e?e.charAt(t):e[t]}(i.T()),n=jm.FormData&&e instanceof jm.FormData,!(0<=Jm(tw,t))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach((function(e,t){this.g.setRequestHeader(t,e)}),this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{uw(this),0<this.B&&((this.K=function(e){return vy&&Ey()&&"number"===typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Gm(this.pa,this)):this.A=pg(this.pa,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(a){rw(this,a)}},Dm.pa=function(){"undefined"!=typeof Fm&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Zy(this,"timeout"),this.abort(8))},Dm.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Zy(this,"complete"),Zy(this,"abort"),ow(this))},Dm.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),ow(this,!0)),Xk.Z.M.call(this)},Dm.Fa=function(){this.s||(this.F||this.v||this.l?aw(this):this.cb())},Dm.cb=function(){aw(this)},Dm.ba=function(){try{return 2<sw(this)?this.g.status:-1}catch(Ok){return-1}},Dm.ga=function(){try{return this.g?this.g.responseText:""}catch(Ok){return""}},Dm.Qa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Jk(t)}},Dm.Da=function(){return this.m},Dm.La=function(){return"string"===typeof this.j?this.j:String(this.j)},(Dm=hw.prototype).ma=8,Dm.G=1,Dm.hb=function(e){try{this.h.info("Origin Trials invoked: "+e)}catch(Xe){}},Dm.Ha=function(e){if(this.m)if(this.m=null,1==this.G){if(!e){this.V=Math.floor(1e5*Math.random()),e=this.V++;var t=new Bg(this,this.h,e,void 0),n=this.s;if(this.P&&(n?fy(n=cy(n),this.P):n=this.P),null===this.o&&(t.H=n),this.ja)e:{for(var r=0,i=0;i<this.l.length;i++){var a=this.l[i];if(void 0===(a="__data__"in a.g&&"string"===typeof(a=a.g.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.l.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=ww(this,t,r),vk(i=lk(this.F),"RID",e),vk(i,"CVER",22),this.D&&vk(i,"X-HTTP-Session-Id",this.D),kw(this,i),this.o&&n&&lw(i,this.o,n),jk(this.i,t),this.Ra&&vk(i,"TYPE","init"),this.ja?(vk(i,"$req",r),vk(i,"SID","null"),t.$=!0,Hg(t,i,null)):Hg(t,i,r),this.G=2}}else 3==this.G&&(e?gw(this,e):0==this.l.length||Lk(this.i)||gw(this))},Dm.Ga=function(){if(this.u=null,Iw(this),this.$&&!(this.L||null==this.g||0>=this.O)){var e=2*this.O;this.h.info("BP detection timer enabled: "+e),this.B=Pg(Gm(this.bb,this),e)}},Dm.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ng(10),pw(this),Iw(this))},Dm.ab=function(){null!=this.v&&(this.v=null,pw(this),xw(this),Ng(19))},Dm.jb=function(e){e?(this.h.info("Successfully pinged google.com"),Ng(2)):(this.h.info("Failed to ping google.com"),Ng(1))},(Dm=Rw.prototype).xa=function(){},Dm.wa=function(){},Dm.va=function(){},Dm.ua=function(){},Dm.Oa=function(){},Ow.prototype.g=function(e,t){return new Dw(e,t)},Qm(Dw,Xy),Dw.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var e=this.g,t=this.l,n=this.h||void 0;e.Wa&&(e.h.info("Origin Trials enabled."),sg(Gm(e.hb,e,t))),Ng(0),e.W=t,e.aa=n||{},e.N=e.X,e.F=Aw(e,null,e.W),yw(e)},Dw.prototype.close=function(){dw(this.g)},Dw.prototype.u=function(e){if("string"===typeof e){var t={};t.__data__=e,mw(this.g,t)}else this.v?((t={}).__data__=tg(e),mw(this.g,t)):mw(this.g,e)},Dw.prototype.M=function(){this.g.j=null,delete this.j,dw(this.g),delete this.g,Dw.Z.M.call(this)},Qm(Lw,Ug),Qm(Mw,Vg),Qm(Fw,Rw),Fw.prototype.xa=function(){Zy(this.g,"a")},Fw.prototype.wa=function(e){Zy(this.g,new Lw(e))},Fw.prototype.va=function(e){Zy(this.g,new Mw(e))},Fw.prototype.ua=function(){Zy(this.g,"b")},Ow.prototype.createWebChannel=Ow.prototype.g,Dw.prototype.send=Dw.prototype.u,Dw.prototype.open=Dw.prototype.m,Dw.prototype.close=Dw.prototype.close,Rg.NO_ERROR=0,Rg.TIMEOUT=8,Rg.HTTP_ERROR=6,Og.COMPLETE="complete",Mg.EventType=jg,jg.OPEN="a",jg.CLOSE="b",jg.ERROR="c",jg.MESSAGE="d",Xy.prototype.listen=Xy.prototype.N,Xk.prototype.listenOnce=Xk.prototype.O,Xk.prototype.getLastError=Xk.prototype.La,Xk.prototype.getLastErrorCode=Xk.prototype.Da,Xk.prototype.getStatus=Xk.prototype.ba,Xk.prototype.getResponseJson=Xk.prototype.Qa,Xk.prototype.getResponseText=Xk.prototype.ga,Xk.prototype.send=Xk.prototype.ea;var jw=Mm.createWebChannelTransport=function(){return new Ow},Uw=Mm.getStatEventTarget=function(){return Sg()},Vw=Mm.ErrorCode=Rg,zw=Mm.EventType=Og,Bw=Mm.Event=_g,qw=Mm.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ww=Mm.FetchXmlHttpFactory=Kk,Kw=Mm.WebChannel=Mg,Gw=Mm.XhrIo=Xk,Hw="@firebase/firestore",Qw=function(){function e(t){Ka(this,e),this.uid=t}return Ha(e,[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}]),e}();Qw.UNAUTHENTICATED=new Qw(null),Qw.GOOGLE_CREDENTIALS=new Qw("google-credentials-uid"),Qw.FIRST_PARTY=new Qw("first-party-uid"),Qw.MOCK_USER=new Qw("mock-user");var $w="9.8.0",Yw=new os("@firebase/firestore");function Jw(){return Yw.logLevel}function Xw(e){if(Yw.logLevel<=Zu.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(tb);Yw.debug.apply(Yw,["Firestore (".concat($w,"): ").concat(e)].concat(Wa(i)))}}function Zw(e){if(Yw.logLevel<=Zu.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(tb);Yw.error.apply(Yw,["Firestore (".concat($w,"): ").concat(e)].concat(Wa(i)))}}function eb(e){if(Yw.logLevel<=Zu.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(tb);Yw.warn.apply(Yw,["Firestore (".concat($w,"): ").concat(e)].concat(Wa(i)))}}function tb(e){if("string"==typeof e)return e;try{return t=e,JSON.stringify(t)}catch(t){return e}var t}function nb(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat($w,") INTERNAL ASSERTION FAILED: ")+e;throw Zw(t),new Error(t)}function rb(e,t){e||nb()}function ib(e,t){return e}var ab={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},ob=function(e){Ma(n,e);var t=Ba(n);function n(e,r){var i;return Ka(this,n),(i=t.call(this,e,r)).code=e,i.message=r,i.toString=function(){return"".concat(i.name,": [code=").concat(i.code,"]: ").concat(i.message)},i}return Ha(n)}(Pu),ub=Ha((function e(){var t=this;Ka(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),sb=Ha((function e(t,n){Ka(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),cb=function(){function e(){Ka(this,e)}return Ha(e,[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Qw.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}]),e}(),lb=function(){function e(t){Ka(this,e),this.token=t,this.changeListener=null}return Ha(e,[{key:"getToken",value:function(){return Promise.resolve(this.token)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){var n=this;this.changeListener=t,e.enqueueRetryable((function(){return t(n.token.user)}))}},{key:"shutdown",value:function(){this.changeListener=null}}]),e}(),fb=function(){function e(t){Ka(this,e),this.t=t,this.currentUser=Qw.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}return Ha(e,[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new ub;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new ub,e.enqueueRetryable((function(){return i(n.currentUser)}))};var o=function(){var t=a;e.enqueueRetryable(Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},u=function(e){Xw("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),o()};this.t.onInit((function(e){return u(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?u(e):(Xw("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ub)}}),0),o()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Xw("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(rb("string"==typeof n.accessToken),new sb(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return rb(null===e||"string"==typeof e),new Qw(e)}}]),e}(),hb=Ha((function e(t,n,r){Ka(this,e),this.type="FirstParty",this.user=Qw.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",n);var i=t.auth.getAuthHeaderValueForFirstParty([]);i&&this.headers.set("Authorization",i),r&&this.headers.set("X-Goog-Iam-Authorization-Token",r)})),db=function(){function e(t,n,r){Ka(this,e),this.h=t,this.l=n,this.m=r}return Ha(e,[{key:"getToken",value:function(){return Promise.resolve(new hb(this.h,this.l,this.m))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Qw.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}]),e}(),pb=Ha((function e(t){Ka(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),vb=function(){function e(t){Ka(this,e),this.g=t,this.forceRefresh=!1,this.appCheck=null,this.p=null}return Ha(e,[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Xw("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.p;return n.p=e.token,Xw("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Xw("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.g.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.g.getImmediate({optional:!0});e?i(e):Xw("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(rb("string"==typeof t.token),e.p=t.token,new pb(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}]),e}(),mb=function(){function e(t,n){var r=this;Ka(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.I(e)},this.T=function(e){return n.writeSequenceNumber(e)})}return Ha(e,[{key:"I",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.T&&this.T(e),e}}]),e}();function yb(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}mb.A=-1;var gb=function(){function e(){Ka(this,e)}return Ha(e,null,[{key:"R",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,n="";n.length<20;)for(var r=yb(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%e.length));return n}}]),e}();function kb(e,t){return e<t?-1:e>t?1:0}function wb(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}function bb(e){return e+"\0"}var xb=function(){function e(t,n){if(Ka(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new ob(ab.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new ob(ab.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new ob(ab.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ob(ab.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return Ha(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?kb(this.nanoseconds,e.nanoseconds):kb(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}]),e}(),_b=function(){function e(t){Ka(this,e),this.timestamp=t}return Ha(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new xb(0,0))}},{key:"max",value:function(){return new e(new xb(253402300799,999999999))}}]),e}();function Ib(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Sb(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function Eb(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}var Tb=function(){function e(t,n,r){Ka(this,e),void 0===n?n=0:n>t.length&&nb(),void 0===r?r=t.length-n:r>t.length-n&&nb(),this.segments=t,this.offset=n,this.len=r}return Ha(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}]),e}(),Cb=function(e){Ma(n,e);var t=Ba(n);function n(){return Ka(this,n),t.apply(this,arguments)}return Ha(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}}],[{key:"fromString",value:function(){for(var e=[],t=arguments.length,r=new Array(t),i=0;i<t;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var u=o[a];if(u.indexOf("//")>=0)throw new ob(ab.INVALID_ARGUMENT,"Invalid segment (".concat(u,"). Paths must not contain // in them."));e.push.apply(e,Wa(u.split("/").filter((function(e){return e.length>0}))))}return new n(e)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Tb),Nb=/^[_a-zA-Z][_a-zA-Z0-9]*$/,Ab=function(e){Ma(n,e);var t=Ba(n);function n(){return Ka(this,n),t.apply(this,arguments)}return Ha(n,[{key:"construct",value:function(e,t,r){return new n(e,t,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return Nb.test(e)}},{key:"keyField",value:function(){return new n(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var t=[],r="",i=0,a=function(){if(0===r.length)throw new ob(ab.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(r),r=""},o=!1;i<e.length;){var u=e[i];if("\\"===u){if(i+1===e.length)throw new ob(ab.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var s=e[i+1];if("\\"!==s&&"."!==s&&"`"!==s)throw new ob(ab.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=s,i+=2}else"`"===u?(o=!o,i++):"."!==u||o?(r+=u,i++):(a(),i++)}if(a(),o)throw new ob(ab.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}},{key:"emptyPath",value:function(){return new n([])}}]),n}(Tb),Pb=function(){function e(t){Ka(this,e),this.fields=t,t.sort(Ab.comparator)}return Ha(e,[{key:"covers",value:function(e){var t,n=du(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return wb(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}]),e}();var Rb=function(e){function t(e){Ka(this,t),this.binaryString=e}return Ha(t,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return kb(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(e){return new t(atob(e))}},{key:"fromUint8Array",value:function(e){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new t(n)}}]),t}();Rb.EMPTY_BYTE_STRING=new Rb("");var Ob=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Db(e){if(rb(!!e),"string"==typeof e){var t=0,n=Ob.exec(e);if(rb(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:Lb(e.seconds),nanos:Lb(e.nanos)}}function Lb(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function Mb(e){return"string"==typeof e?Rb.fromBase64String(e):Rb.fromUint8Array(e)}function Fb(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function jb(e){var t=e.mapValue.fields.__previous_value__;return Fb(t)?jb(t):t}function Ub(e){var t=Db(e.mapValue.fields.__local_write_time__.timestampValue);return new xb(t.seconds,t.nanos)}var Vb=Ha((function e(t,n,r,i,a,o,u,s){Ka(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=u,this.useFetchStreams=s})),zb=function(){function e(t,n){Ka(this,e),this.projectId=t,this.database=n||"(default)"}return Ha(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}]),e}();function Bb(e){return null==e}function qb(e){return 0===e&&1/e==-1/0}function Wb(e){return"number"==typeof e&&Number.isInteger(e)&&!qb(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}var Kb=function(){function e(t){Ka(this,e),this.path=t}return Ha(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===Cb.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(Cb.fromString(t))}},{key:"fromName",value:function(t){return new e(Cb.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(Cb.emptyPath())}},{key:"comparator",value:function(e,t){return Cb.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new Cb(t.slice()))}}]),e}(),Gb={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Hb={nullValue:"NULL_VALUE"};function Qb(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?Fb(e)?4:sx(e)?9007199254740991:10:nb()}function $b(e,t){if(e===t)return!0;var n=Qb(e);if(n!==Qb(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return Ub(e).isEqual(Ub(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=Db(e.timestampValue),r=Db(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return Mb(e.bytesValue).isEqual(Mb(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return Lb(e.geoPointValue.latitude)===Lb(t.geoPointValue.latitude)&&Lb(e.geoPointValue.longitude)===Lb(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return Lb(e.integerValue)===Lb(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=Lb(e.doubleValue),r=Lb(t.doubleValue);return n===r?qb(n)===qb(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return wb(e.arrayValue.values||[],t.arrayValue.values||[],$b);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(Ib(n)!==Ib(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!$b(n[i],r[i])))return!1;return!0}(e,t);default:return nb()}}function Yb(e,t){return void 0!==(e.values||[]).find((function(e){return $b(e,t)}))}function Jb(e,t){if(e===t)return 0;var n=Qb(e),r=Qb(t);if(n!==r)return kb(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return kb(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=Lb(e.integerValue||e.doubleValue),r=Lb(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Xb(e.timestampValue,t.timestampValue);case 4:return Xb(Ub(e),Ub(t));case 5:return kb(e.stringValue,t.stringValue);case 6:return function(e,t){var n=Mb(e),r=Mb(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=kb(n[i],r[i]);if(0!==a)return a}return kb(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=kb(Lb(e.latitude),Lb(t.latitude));return 0!==n?n:kb(Lb(e.longitude),Lb(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=Jb(n[i],r[i]);if(a)return a}return kb(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===Gb.mapValue&&t===Gb.mapValue)return 0;if(e===Gb.mapValue)return 1;if(t===Gb.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var u=kb(r[o],a[o]);if(0!==u)return u;var s=Jb(n[r[o]],i[a[o]]);if(0!==s)return s}return kb(r.length,a.length)}(e.mapValue,t.mapValue);default:throw nb()}}function Xb(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return kb(e,t);var n=Db(e),r=Db(t),i=kb(n.seconds,r.seconds);return 0!==i?i:kb(n.nanos,r.nanos)}function Zb(e){return ex(e)}function ex(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=Db(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?Mb(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Kb.fromName(n).toString()):"geoPointValue"in e?"geo(".concat((t=e.geoPointValue).latitude,",").concat(t.longitude,")"):"arrayValue"in e?function(e){var t,n="[",r=!0,i=du(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=ex(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=du(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(ex(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):nb();var t,n}function tx(e,t){return{referenceValue:"projects/".concat(e.projectId,"/databases/").concat(e.database,"/documents/").concat(t.path.canonicalString())}}function nx(e){return!!e&&"integerValue"in e}function rx(e){return!!e&&"arrayValue"in e}function ix(e){return!!e&&"nullValue"in e}function ax(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function ox(e){return!!e&&"mapValue"in e}function ux(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return Sb(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=ux(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=ux(e.arrayValue.values[r]);return n}return Object.assign({},e)}function sx(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}function cx(e){return"nullValue"in e?Hb:"booleanValue"in e?{booleanValue:!1}:"integerValue"in e||"doubleValue"in e?{doubleValue:NaN}:"timestampValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in e?{stringValue:""}:"bytesValue"in e?{bytesValue:""}:"referenceValue"in e?tx(zb.empty(),Kb.empty()):"geoPointValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in e?{arrayValue:{}}:"mapValue"in e?{mapValue:{}}:nb()}function lx(e){return"nullValue"in e?{booleanValue:!1}:"booleanValue"in e?{doubleValue:NaN}:"integerValue"in e||"doubleValue"in e?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in e?{stringValue:""}:"stringValue"in e?{bytesValue:""}:"bytesValue"in e?tx(zb.empty(),Kb.empty()):"referenceValue"in e?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in e?{arrayValue:{}}:"arrayValue"in e?{mapValue:{}}:"mapValue"in e?Gb:nb()}function fx(e,t){var n=Jb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?-1:!e.inclusive&&t.inclusive?1:0}function hx(e,t){var n=Jb(e.value,t.value);return 0!==n?n:e.inclusive&&!t.inclusive?1:!e.inclusive&&t.inclusive?-1:0}var dx=function(){function e(t){Ka(this,e),this.value=t}return Ha(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!ox(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ux(t)}},{key:"setAll",value:function(e){var t=this,n=Ab.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=ux(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());ox(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return $b(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];ox(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){Sb(t,(function(t,n){return e[t]=n}));var r,i=du(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(ux(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}]),e}();function px(e){var t=[];return Sb(e.fields,(function(e,n){var r=new Ab([e]);if(ox(n)){var i=px(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=du(i);try{for(o.s();!(a=o.n()).done;){var u=a.value;t.push(r.child(u))}}catch(s){o.e(s)}finally{o.f()}}}else t.push(r)})),new Pb(t)}var vx=function(){function e(t,n,r,i,a,o){Ka(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.data=a,this.documentState=o}return Ha(e,[{key:"convertToFoundDocument",value:function(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=dx.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=dx.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,_b.min(),_b.min(),dx.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r){return new e(t,1,n,_b.min(),r,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,_b.min(),dx.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,_b.min(),dx.empty(),2)}}]),e}(),mx=Ha((function e(t,n,r,i){Ka(this,e),this.indexId=t,this.collectionGroup=n,this.fields=r,this.indexState=i}));function yx(e){return e.fields.find((function(e){return 2===e.kind}))}function gx(e){return e.fields.filter((function(e){return 2!==e.kind}))}mx.UNKNOWN_ID=-1;var kx=Ha((function e(t,n){Ka(this,e),this.fieldPath=t,this.kind=n})),wx=function(){function e(t,n){Ka(this,e),this.sequenceNumber=t,this.offset=n}return Ha(e,null,[{key:"empty",value:function(){return new e(0,_x.min())}}]),e}();function bx(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=_b.fromTimestamp(1e9===r?new xb(n+1,0):new xb(n,r));return new _x(i,Kb.empty(),t)}function xx(e){return new _x(e.readTime,e.key,-1)}var _x=function(){function e(t,n,r){Ka(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return Ha(e,null,[{key:"min",value:function(){return new e(_b.min(),Kb.empty(),-1)}},{key:"max",value:function(){return new e(_b.max(),Kb.empty(),-1)}}]),e}();function Ix(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=Kb.comparator(e.documentKey,t.documentKey))?n:kb(e.largestBatchId,t.largestBatchId)}var Sx=function(){function e(t,n){Ka(this,e),this.comparator=t,this.root=n||Tx.EMPTY}return Ha(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Tx.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Tx.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new Ex(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new Ex(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new Ex(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new Ex(this.root,e,this.comparator,!0)}}]),e}(),Ex=function(){function e(t,n,r,i){Ka(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return Ha(e,[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}]),e}(),Tx=function(){function e(t,n,r,i,a){Ka(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return Ha(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw nb();if(this.right.isRed())throw nb();var e=this.left.check();if(e!==this.right.check())throw nb();return e+(this.isRed()?0:1)}}]),e}();Tx.EMPTY=null,Tx.RED=!0,Tx.BLACK=!1,Tx.EMPTY=new(function(){function e(){Ka(this,e),this.size=0}return Ha(e,[{key:"key",get:function(){throw nb()}},{key:"value",get:function(){throw nb()}},{key:"color",get:function(){throw nb()}},{key:"left",get:function(){throw nb()}},{key:"right",get:function(){throw nb()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Tx(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}]),e}());var Cx=function(){function e(t){Ka(this,e),this.comparator=t,this.data=new Sx(this.comparator)}return Ha(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new Nx(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new Nx(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}]),e}(),Nx=function(){function e(t){Ka(this,e),this.iter=t}return Ha(e,[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}]),e}();function Ax(e){return e.hasNext()?e.getNext():void 0}var Px=Ha((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;Ka(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=u,this.P=null}));function Rx(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;return new Px(e,t,n,r,i,a,o)}function Ox(e){var t=ib(e);if(null===t.P){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return(t=e).field.canonicalString()+t.op.toString()+Zb(t.value);var t})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),Bb(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return Zb(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return Zb(e)})).join(",")),t.P=n}return t.P}function Dx(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!Yx(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(i=e.filters[r],a=t.filters[r],i.op!==a.op||!i.field.isEqual(a.field)||!$b(i.value,a.value))return!1;var i,a;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Xx(e.startAt,t.startAt)&&Xx(e.endAt,t.endAt)}function Lx(e){return Kb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}function Mx(e,t){return e.filters.filter((function(e){return e instanceof Ux&&e.field.isEqual(t)}))}function Fx(e,t,n){var r,i=Hb,a=!0,o=du(Mx(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Hb,c=!0;switch(u.op){case"<":case"<=":s=cx(u.value);break;case"==":case"in":case">=":s=u.value;break;case">":s=u.value,c=!1;break;case"!=":case"not-in":s=Hb}fx({value:i,inclusive:a},{value:s,inclusive:c})<0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];fx({value:i,inclusive:a},{value:f,inclusive:n.inclusive})<0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}function jx(e,t,n){var r,i=Gb,a=!0,o=du(Mx(e,t));try{for(o.s();!(r=o.n()).done;){var u=r.value,s=Gb,c=!0;switch(u.op){case">=":case">":s=lx(u.value),c=!1;break;case"==":case"in":case"<=":s=u.value;break;case"<":s=u.value,c=!1;break;case"!=":case"not-in":s=Gb}hx({value:i,inclusive:a},{value:s,inclusive:c})>0&&(i=s,a=c)}}catch(h){o.e(h)}finally{o.f()}if(null!==n)for(var l=0;l<e.orderBy.length;++l)if(e.orderBy[l].field.isEqual(t)){var f=n.position[l];hx({value:i,inclusive:a},{value:f,inclusive:n.inclusive})>0&&(i=f,a=n.inclusive);break}return{value:i,inclusive:a}}var Ux=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i){var a;return Ka(this,n),(a=t.call(this)).field=e,a.op=r,a.value=i,a}return Ha(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Jb(t,this.value)):null!==t&&Qb(this.value)===Qb(t)&&this.v(Jb(t,this.value))}},{key:"v",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return nb()}}},{key:"S",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}],[{key:"create",value:function(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,r):new Vx(e,t,r):"array-contains"===t?new Wx(e,r):"in"===t?new Kx(e,r):"not-in"===t?new Gx(e,r):"array-contains-any"===t?new Hx(e,r):new n(e,t,r)}},{key:"V",value:function(e,t,n){return"in"===t?new zx(e,n):new Bx(e,n)}}]),n}(function(){return Ha((function e(){Ka(this,e)}))}()),Vx=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i){var a;return Ka(this,n),(a=t.call(this,e,r,i)).key=Kb.fromName(i.referenceValue),a}return Ha(n,[{key:"matches",value:function(e){var t=Kb.comparator(e.key,this.key);return this.v(t)}}]),n}(Ux),zx=function(e){Ma(n,e);var t=Ba(n);function n(e,r){var i;return Ka(this,n),(i=t.call(this,e,"in",r)).keys=qx("in",r),i}return Ha(n,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ux),Bx=function(e){Ma(n,e);var t=Ba(n);function n(e,r){var i;return Ka(this,n),(i=t.call(this,e,"not-in",r)).keys=qx("not-in",r),i}return Ha(n,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}]),n}(Ux);function qx(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return Kb.fromName(e.referenceValue)}))}var Wx=function(e){Ma(n,e);var t=Ba(n);function n(e,r){return Ka(this,n),t.call(this,e,"array-contains",r)}return Ha(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return rx(t)&&Yb(t.arrayValue,this.value)}}]),n}(Ux),Kx=function(e){Ma(n,e);var t=Ba(n);function n(e,r){return Ka(this,n),t.call(this,e,"in",r)}return Ha(n,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&Yb(this.value.arrayValue,t)}}]),n}(Ux),Gx=function(e){Ma(n,e);var t=Ba(n);function n(e,r){return Ka(this,n),t.call(this,e,"not-in",r)}return Ha(n,[{key:"matches",value:function(e){if(Yb(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!Yb(this.value.arrayValue,t)}}]),n}(Ux),Hx=function(e){Ma(n,e);var t=Ba(n);function n(e,r){return Ka(this,n),t.call(this,e,"array-contains-any",r)}return Ha(n,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!rx(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return Yb(t.value.arrayValue,e)}))}}]),n}(Ux),Qx=Ha((function e(t,n){Ka(this,e),this.position=t,this.inclusive=n})),$x=Ha((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";Ka(this,e),this.field=t,this.dir=n}));function Yx(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}function Jx(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?Kb.comparator(Kb.fromName(o.referenceValue),n.key):Jb(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function Xx(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!$b(e.position[n],t.position[n]))return!1;return!0}var Zx=Ha((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;Ka(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=u,this.endAt=s,this.D=null,this.C=null,this.startAt,this.endAt}));function e_(e,t,n,r,i,a,o,u){return new Zx(e,t,n,r,i,a,o,u)}function t_(e){return new Zx(e)}function n_(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function r_(e){var t,n=du(e.filters);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(r.S())return r.field}}catch(i){n.e(i)}finally{n.f()}return null}function i_(e){return null!==e.collectionGroup}function a_(e){var t=ib(e);if(null===t.D){t.D=[];var n=r_(t),r=n_(t);if(null!==n&&null===r)n.isKeyField()||t.D.push(new $x(n)),t.D.push(new $x(Ab.keyField(),"asc"));else{var i,a=!1,o=du(t.explicitOrderBy);try{for(o.s();!(i=o.n()).done;){var u=i.value;t.D.push(u),u.field.isKeyField()&&(a=!0)}}catch(c){o.e(c)}finally{o.f()}if(!a){var s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.D.push(new $x(Ab.keyField(),s))}}}return t.D}function o_(e){var t=ib(e);if(!t.C)if("F"===t.limitType)t.C=Rx(t.path,t.collectionGroup,a_(t),t.filters,t.limit,t.startAt,t.endAt);else{var n,r=[],i=du(a_(t));try{for(i.s();!(n=i.n()).done;){var a=n.value,o="desc"===a.dir?"asc":"desc";r.push(new $x(a.field,o))}}catch(c){i.e(c)}finally{i.f()}var u=t.endAt?new Qx(t.endAt.position,t.endAt.inclusive):null,s=t.startAt?new Qx(t.startAt.position,t.startAt.inclusive):null;t.C=Rx(t.path,t.collectionGroup,r,t.filters,t.limit,u,s)}return t.C}function u_(e,t,n){return new Zx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function s_(e,t){return Dx(o_(e),o_(t))&&e.limitType===t.limitType}function c_(e){return"".concat(Ox(o_(e)),"|lt:").concat(e.limitType)}function l_(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return"".concat((t=e).field.canonicalString()," ").concat(t.op," ").concat(Zb(t.value));var t})).join(", "),"]")),Bb(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return Zb(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return Zb(e)})).join(",")),"Target(".concat(t,")")}(o_(e)),"; limitType=").concat(e.limitType,")")}function f_(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Kb.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=du(e.explicitOrderBy);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=du(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=Jx(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,a_(e),t))&&!(e.endAt&&!function(e,t,n){var r=Jx(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,a_(e),t))}(e,t)}function h_(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function d_(e){return function(t,n){var r,i=!1,a=du(a_(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,u=p_(o,t,n);if(0!==u)return u;i=i||o.field.isKeyField()}}catch(s){a.e(s)}finally{a.f()}return 0}}function p_(e,t,n){var r=e.field.isKeyField()?Kb.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Jb(r,i):nb()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return nb()}}function v_(e,t){if(e.N){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:qb(t)?"-0":t}}function m_(e){return{integerValue:""+e}}function y_(e,t){return Wb(t)?m_(t):v_(e,t)}var g_=Ha((function e(){Ka(this,e),this._=void 0}));function k_(e,t,n){return e instanceof x_?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof __?I_(e,t):e instanceof S_?E_(e,t):function(e,t){var n=b_(e,t),r=C_(n)+C_(e.k);return nx(n)&&nx(e.k)?m_(r):v_(e.M,r)}(e,t)}function w_(e,t,n){return e instanceof __?I_(e,t):e instanceof S_?E_(e,t):n}function b_(e,t){return e instanceof T_?nx(n=t)||function(e){return!!e&&"doubleValue"in e}(n)?t:{integerValue:0}:null;var n}var x_=function(e){Ma(n,e);var t=Ba(n);function n(){return Ka(this,n),t.apply(this,arguments)}return Ha(n)}(g_),__=function(e){Ma(n,e);var t=Ba(n);function n(e){var r;return Ka(this,n),(r=t.call(this)).elements=e,r}return Ha(n)}(g_);function I_(e,t){var n,r=N_(t),i=du(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return $b(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var S_=function(e){Ma(n,e);var t=Ba(n);function n(e){var r;return Ka(this,n),(r=t.call(this)).elements=e,r}return Ha(n)}(g_);function E_(e,t){var n,r=N_(t),i=du(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!$b(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var T_=function(e){Ma(n,e);var t=Ba(n);function n(e,r){var i;return Ka(this,n),(i=t.call(this)).M=e,i.k=r,i}return Ha(n)}(g_);function C_(e){return Lb(e.integerValue||e.doubleValue)}function N_(e){return rx(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var A_=Ha((function e(t,n){Ka(this,e),this.field=t,this.transform=n}));var P_=Ha((function e(t,n){Ka(this,e),this.version=t,this.transformResults=n})),R_=function(){function e(t,n){Ka(this,e),this.updateTime=t,this.exists=n}return Ha(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}]),e}();function O_(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var D_=Ha((function e(){Ka(this,e)}));function L_(e,t,n){e instanceof V_?function(e,t,n){var r=e.value.clone(),i=q_(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof z_?function(e,t,n){if(O_(e.precondition,t)){var r=q_(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(B_(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function M_(e,t,n){e instanceof V_?function(e,t,n){if(O_(e.precondition,t)){var r=e.value.clone(),i=W_(e.fieldTransforms,n,t);r.setAll(i),t.convertToFoundDocument(U_(t),r).setHasLocalMutations()}}(e,t,n):e instanceof z_?function(e,t,n){if(O_(e.precondition,t)){var r=W_(e.fieldTransforms,n,t),i=t.data;i.setAll(B_(e)),i.setAll(r),t.convertToFoundDocument(U_(t),i).setHasLocalMutations()}}(e,t,n):function(e,t){O_(e.precondition,t)&&t.convertToNoDocument(_b.min())}(e,t)}function F_(e,t){var n,r=null,i=du(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),u=b_(a.transform,o||null);null!=u&&(null==r&&(r=dx.empty()),r.set(a.field,u))}}catch(s){i.e(s)}finally{i.f()}return r||null}function j_(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&wb(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof __&&t instanceof __||e instanceof S_&&t instanceof S_?wb(e.elements,t.elements,$b):e instanceof T_&&t instanceof T_?$b(e.k,t.k):e instanceof x_&&t instanceof x_}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}function U_(e){return e.isFoundDocument()?e.version:_b.min()}var V_=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i){var a,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return Ka(this,n),(a=t.call(this)).key=e,a.value=r,a.precondition=i,a.fieldTransforms=o,a.type=0,a}return Ha(n)}(D_),z_=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i,a){var o,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return Ka(this,n),(o=t.call(this)).key=e,o.data=r,o.fieldMask=i,o.precondition=a,o.fieldTransforms=u,o.type=1,o}return Ha(n)}(D_);function B_(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function q_(e,t,n){var r=new Map;rb(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,u=t.data.field(a.field);r.set(a.field,w_(o,u,n[i]))}return r}function W_(e,t,n){var r,i=new Map,a=du(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,u=o.transform,s=n.data.field(o.field);i.set(o.field,k_(u,s,t))}}catch(c){a.e(c)}finally{a.f()}return i}var K_,G_,H_=function(e){Ma(n,e);var t=Ba(n);function n(e,r){var i;return Ka(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=2,i.fieldTransforms=[],i}return Ha(n)}(D_),Q_=function(e){Ma(n,e);var t=Ba(n);function n(e,r){var i;return Ka(this,n),(i=t.call(this)).key=e,i.precondition=r,i.type=3,i.fieldTransforms=[],i}return Ha(n)}(D_),$_=Ha((function e(t){Ka(this,e),this.count=t}));function Y_(e){switch(e){default:return nb();case ab.CANCELLED:case ab.UNKNOWN:case ab.DEADLINE_EXCEEDED:case ab.RESOURCE_EXHAUSTED:case ab.INTERNAL:case ab.UNAVAILABLE:case ab.UNAUTHENTICATED:return!1;case ab.INVALID_ARGUMENT:case ab.NOT_FOUND:case ab.ALREADY_EXISTS:case ab.PERMISSION_DENIED:case ab.FAILED_PRECONDITION:case ab.ABORTED:case ab.OUT_OF_RANGE:case ab.UNIMPLEMENTED:case ab.DATA_LOSS:return!0}}function J_(e){if(void 0===e)return Zw("GRPC error has no .code"),ab.UNKNOWN;switch(e){case K_.OK:return ab.OK;case K_.CANCELLED:return ab.CANCELLED;case K_.UNKNOWN:return ab.UNKNOWN;case K_.DEADLINE_EXCEEDED:return ab.DEADLINE_EXCEEDED;case K_.RESOURCE_EXHAUSTED:return ab.RESOURCE_EXHAUSTED;case K_.INTERNAL:return ab.INTERNAL;case K_.UNAVAILABLE:return ab.UNAVAILABLE;case K_.UNAUTHENTICATED:return ab.UNAUTHENTICATED;case K_.INVALID_ARGUMENT:return ab.INVALID_ARGUMENT;case K_.NOT_FOUND:return ab.NOT_FOUND;case K_.ALREADY_EXISTS:return ab.ALREADY_EXISTS;case K_.PERMISSION_DENIED:return ab.PERMISSION_DENIED;case K_.FAILED_PRECONDITION:return ab.FAILED_PRECONDITION;case K_.ABORTED:return ab.ABORTED;case K_.OUT_OF_RANGE:return ab.OUT_OF_RANGE;case K_.UNIMPLEMENTED:return ab.UNIMPLEMENTED;case K_.DATA_LOSS:return ab.DATA_LOSS;default:return nb()}}(G_=K_||(K_={}))[G_.OK=0]="OK",G_[G_.CANCELLED=1]="CANCELLED",G_[G_.UNKNOWN=2]="UNKNOWN",G_[G_.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",G_[G_.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",G_[G_.NOT_FOUND=5]="NOT_FOUND",G_[G_.ALREADY_EXISTS=6]="ALREADY_EXISTS",G_[G_.PERMISSION_DENIED=7]="PERMISSION_DENIED",G_[G_.UNAUTHENTICATED=16]="UNAUTHENTICATED",G_[G_.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",G_[G_.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",G_[G_.ABORTED=10]="ABORTED",G_[G_.OUT_OF_RANGE=11]="OUT_OF_RANGE",G_[G_.UNIMPLEMENTED=12]="UNIMPLEMENTED",G_[G_.INTERNAL=13]="INTERNAL",G_[G_.UNAVAILABLE=14]="UNAVAILABLE",G_[G_.DATA_LOSS=15]="DATA_LOSS";var X_=function(){function e(t,n){Ka(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}return Ha(e,[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=du(n);try{for(i.s();!(r=i.n()).done;){var a=Le(r.value,2),o=a[0],u=a[1];if(this.equalsFn(o,e))return u}}catch(s){i.e(s)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){Sb(this.inner,(function(t,n){var r,i=du(n);try{for(i.s();!(r=i.n()).done;){var a=Le(r.value,2),o=a[0],u=a[1];e(o,u)}}catch(s){i.e(s)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return Eb(this.inner)}},{key:"size",value:function(){return this.innerSize}}]),e}(),Z_=new Sx(Kb.comparator);function eI(){return Z_}var tI=new Sx(Kb.comparator);function nI(){for(var e=tI,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function rI(){return new X_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var iI=new Sx(Kb.comparator),aI=new Cx(Kb.comparator);function oI(){for(var e=aI,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var uI=new Cx(kb);function sI(){return uI}var cI=function(){function e(t,n,r,i,a){Ka(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return Ha(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n){var r=new Map;return r.set(t,lI.createSynthesizedTargetChangeForCurrentChange(t,n)),new e(_b.min(),r,sI(),eI(),oI())}}]),e}(),lI=function(){function e(t,n,r,i,a){Ka(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return Ha(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n){return new e(Rb.EMPTY_BYTE_STRING,n,oI(),oI(),oI())}}]),e}(),fI=Ha((function e(t,n,r,i){Ka(this,e),this.O=t,this.removedTargetIds=n,this.key=r,this.F=i})),hI=Ha((function e(t,n){Ka(this,e),this.targetId=t,this.$=n})),dI=Ha((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Rb.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;Ka(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),pI=function(){function e(){Ka(this,e),this.B=0,this.L=yI(),this.U=Rb.EMPTY_BYTE_STRING,this.q=!1,this.K=!0}return Ha(e,[{key:"current",get:function(){return this.q}},{key:"resumeToken",get:function(){return this.U}},{key:"G",get:function(){return 0!==this.B}},{key:"j",get:function(){return this.K}},{key:"W",value:function(e){e.approximateByteSize()>0&&(this.K=!0,this.U=e)}},{key:"H",value:function(){var e=oI(),t=oI(),n=oI();return this.L.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:nb()}})),new lI(this.U,this.q,e,t,n)}},{key:"J",value:function(){this.K=!1,this.L=yI()}},{key:"Y",value:function(e,t){this.K=!0,this.L=this.L.insert(e,t)}},{key:"X",value:function(e){this.K=!0,this.L=this.L.remove(e)}},{key:"Z",value:function(){this.B+=1}},{key:"tt",value:function(){this.B-=1}},{key:"et",value:function(){this.K=!0,this.q=!0}}]),e}(),vI=function(){function e(t){Ka(this,e),this.nt=t,this.st=new Map,this.it=eI(),this.rt=mI(),this.ot=new Cx(kb)}return Ha(e,[{key:"ut",value:function(e){var t,n=du(e.O);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.F&&e.F.isFoundDocument()?this.at(r,e.F):this.ct(r,e.key,e.F)}}catch(u){n.e(u)}finally{n.f()}var i,a=du(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.ct(o,e.key,e.F)}}catch(u){a.e(u)}finally{a.f()}}},{key:"ht",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.lt(n);switch(e.state){case 0:t.ft(n)&&r.W(e.resumeToken);break;case 1:r.tt(),r.G||r.J(),r.W(e.resumeToken);break;case 2:r.tt(),r.G||t.removeTarget(n);break;case 3:t.ft(n)&&(r.et(),r.W(e.resumeToken));break;case 4:t.ft(n)&&(t.dt(n),r.W(e.resumeToken));break;default:nb()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((function(e,r){n.ft(r)&&t(r)}))}},{key:"_t",value:function(e){var t=e.targetId,n=e.$.count,r=this.wt(t);if(r){var i=r.target;if(Lx(i))if(0===n){var a=new Kb(i.path);this.ct(t,a,vx.newNoDocument(a,_b.min()))}else rb(1===n);else this.gt(t)!==n&&(this.dt(t),this.ot=this.ot.add(t))}}},{key:"yt",value:function(e){var t=this,n=new Map;this.st.forEach((function(r,i){var a=t.wt(i);if(a){if(r.current&&Lx(a.target)){var o=new Kb(a.target.path);null!==t.it.get(o)||t.It(i,o)||t.ct(i,o,vx.newNoDocument(o,e))}r.j&&(n.set(i,r.H()),r.J())}}));var r=oI();this.rt.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.wt(e);return!n||2===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.it.forEach((function(t,n){return n.setReadTime(e)}));var i=new cI(e,n,this.ot,this.it,r);return this.it=eI(),this.rt=mI(),this.ot=new Cx(kb),i}},{key:"at",value:function(e,t){if(this.ft(e)){var n=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,n),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}}},{key:"ct",value:function(e,t,n){if(this.ft(e)){var r=this.lt(e);this.It(e,t)?r.Y(t,1):r.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),n&&(this.it=this.it.insert(t,n))}}},{key:"removeTarget",value:function(e){this.st.delete(e)}},{key:"gt",value:function(e){var t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Z",value:function(e){this.lt(e).Z()}},{key:"lt",value:function(e){var t=this.st.get(e);return t||(t=new pI,this.st.set(e,t)),t}},{key:"Tt",value:function(e){var t=this.rt.get(e);return t||(t=new Cx(kb),this.rt=this.rt.insert(e,t)),t}},{key:"ft",value:function(e){var t=null!==this.wt(e);return t||Xw("WatchChangeAggregator","Detected inactive target",e),t}},{key:"wt",value:function(e){var t=this.st.get(e);return t&&t.G?null:this.nt.Et(e)}},{key:"dt",value:function(e){var t=this;this.st.set(e,new pI),this.nt.getRemoteKeysForTarget(e).forEach((function(n){t.ct(e,n,null)}))}},{key:"It",value:function(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}]),e}();function mI(){return new Sx(Kb.comparator)}function yI(){return new Sx(Kb.comparator)}var gI={asc:"ASCENDING",desc:"DESCENDING"},kI={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wI=Ha((function e(t,n){Ka(this,e),this.databaseId=t,this.N=n}));function bI(e,t){return e.N?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function xI(e,t){return e.N?t.toBase64():t.toUint8Array()}function _I(e,t){return bI(e,t.toTimestamp())}function II(e){return rb(!!e),_b.fromTimestamp(function(e){var t=Db(e);return new xb(t.seconds,t.nanos)}(e))}function SI(e,t){return function(e){return new Cb(["projects",e.projectId,"databases",e.database])}(e).child("documents").child(t).canonicalString()}function EI(e){var t=Cb.fromString(e);return rb($I(t)),t}function TI(e,t){return SI(e.databaseId,t.path)}function CI(e,t){var n=EI(t);if(n.get(1)!==e.databaseId.projectId)throw new ob(ab.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new ob(ab.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Kb(RI(n))}function NI(e,t){return SI(e.databaseId,t)}function AI(e){var t=EI(e);return 4===t.length?Cb.emptyPath():RI(t)}function PI(e){return new Cb(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function RI(e){return rb(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function OI(e,t,n){return{name:TI(e,t),fields:n.value.mapValue.fields}}function DI(e,t,n){var r=CI(e,t.name),i=II(t.updateTime),a=new dx({mapValue:{fields:t.fields}}),o=vx.newFoundDocument(r,i,a);return n&&o.setHasCommittedMutations(),n?o.setHasCommittedMutations():o}function LI(e,t){return"found"in t?function(e,t){rb(!!t.found),t.found.name,t.found.updateTime;var n=CI(e,t.found.name),r=II(t.found.updateTime),i=new dx({mapValue:{fields:t.found.fields}});return vx.newFoundDocument(n,r,i)}(e,t):"missing"in t?function(e,t){rb(!!t.missing),rb(!!t.readTime);var n=CI(e,t.missing),r=II(t.readTime);return vx.newNoDocument(n,r)}(e,t):nb()}function MI(e,t){var n;if(t instanceof V_)n={update:OI(e,t.key,t.value)};else if(t instanceof H_)n={delete:TI(e,t.key)};else if(t instanceof z_)n={update:OI(e,t.key,t.data),updateMask:QI(t.fieldMask)};else{if(!(t instanceof Q_))return nb();n={verify:TI(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof x_)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof __)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof S_)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof T_)return{fieldPath:t.field.canonicalString(),increment:n.k};throw nb()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:_I(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:nb()}(e,t.precondition)),n}function FI(e,t){var n=t.currentDocument?function(e){return void 0!==e.updateTime?R_.updateTime(II(e.updateTime)):void 0!==e.exists?R_.exists(e.exists):R_.none()}(t.currentDocument):R_.none(),r=t.updateTransforms?t.updateTransforms.map((function(t){return function(e,t){var n=null;if("setToServerValue"in t)rb("REQUEST_TIME"===t.setToServerValue),n=new x_;else if("appendMissingElements"in t){var r=t.appendMissingElements.values||[];n=new __(r)}else if("removeAllFromArray"in t){var i=t.removeAllFromArray.values||[];n=new S_(i)}else"increment"in t?n=new T_(e,t.increment):nb();var a=Ab.fromServerFormat(t.fieldPath);return new A_(a,n)}(e,t)})):[];if(t.update){t.update.name;var i=CI(e,t.update.name),a=new dx({mapValue:{fields:t.update.fields}});if(t.updateMask){var o=function(e){var t=e.fieldPaths||[];return new Pb(t.map((function(e){return Ab.fromServerFormat(e)})))}(t.updateMask);return new z_(i,a,o,n,r)}return new V_(i,a,n,r)}if(t.delete){var u=CI(e,t.delete);return new H_(u,n)}if(t.verify){var s=CI(e,t.verify);return new Q_(s,n)}return nb()}function jI(e,t){return{documents:[NI(e,t.path)]}}function UI(e,t){var n={structuredQuery:{}},r=t.path;null!==t.collectionGroup?(n.parent=NI(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=NI(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);var i=function(e){if(0!==e.length){var t=e.map((function(e){return function(e){if("=="===e.op){if(ax(e.value))return{unaryFilter:{field:WI(e.field),op:"IS_NAN"}};if(ix(e.value))return{unaryFilter:{field:WI(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(ax(e.value))return{unaryFilter:{field:WI(e.field),op:"IS_NOT_NAN"}};if(ix(e.value))return{unaryFilter:{field:WI(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:WI(e.field),op:qI(e.op),value:e.value}}}(e)}));return 1===t.length?t[0]:{compositeFilter:{op:"AND",filters:t}}}}(t.filters);i&&(n.structuredQuery.where=i);var a=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:WI(e.field),direction:BI(e.dir)}}(e)}))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);var o,u=function(e,t){return e.N||Bb(t)?t:{value:t}}(e,t.limit);return null!==u&&(n.structuredQuery.limit=u),t.startAt&&(n.structuredQuery.startAt={before:(o=t.startAt).inclusive,values:o.position}),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),n}function VI(e){var t=AI(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){rb(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=zI(n.where));var u=[];n.orderBy&&(u=n.orderBy.map((function(e){return function(e){return new $x(KI(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)})));var s=null;n.limit&&(s=function(e){var t;return Bb(t="object"==typeof e?e.value:e)?null:t}(n.limit));var c=null;n.startAt&&(c=function(e){var t=!!e.before,n=e.values||[];return new Qx(n,t)}(n.startAt));var l=null;return n.endAt&&(l=function(e){var t=!e.before,n=e.values||[];return new Qx(n,t)}(n.endAt)),e_(t,i,u,o,s,"F",c,l)}function zI(e){return e?void 0!==e.unaryFilter?[HI(e)]:void 0!==e.fieldFilter?[GI(e)]:void 0!==e.compositeFilter?e.compositeFilter.filters.map((function(e){return zI(e)})).reduce((function(e,t){return e.concat(t)})):nb():[]}function BI(e){return gI[e]}function qI(e){return kI[e]}function WI(e){return{fieldPath:e.canonicalString()}}function KI(e){return Ab.fromServerFormat(e.fieldPath)}function GI(e){return Ux.create(KI(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return nb()}}(e.fieldFilter.op),e.fieldFilter.value)}function HI(e){switch(e.unaryFilter.op){case"IS_NAN":var t=KI(e.unaryFilter.field);return Ux.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=KI(e.unaryFilter.field);return Ux.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=KI(e.unaryFilter.field);return Ux.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=KI(e.unaryFilter.field);return Ux.create(i,"!=",{nullValue:"NULL_VALUE"});default:return nb()}}function QI(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function $I(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}function YI(e){for(var t="",n=0;n<e.length;n++)t.length>0&&(t=XI(t)),t=JI(e.get(n),t);return XI(t)}function JI(e,t){for(var n=t,r=e.length,i=0;i<r;i++){var a=e.charAt(i);switch(a){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=a}}return n}function XI(e){return e+"\x01\x01"}function ZI(e){var t=e.length;if(rb(t>=2),2===t)return rb("\x01"===e.charAt(0)&&"\x01"===e.charAt(1)),Cb.emptyPath();for(var n=t-2,r=[],i="",a=0;a<t;){var o=e.indexOf("\x01",a);switch((o<0||o>n)&&nb(),e.charAt(o+1)){case"\x01":var u=e.substring(a,o),s=void 0;0===i.length?s=u:(s=i+=u,i=""),r.push(s);break;case"\x10":i+=e.substring(a,o),i+="\0";break;case"\x11":i+=e.substring(a,o+1);break;default:nb()}a=o+2}return new Cb(r)}var eS=["userId","batchId"];function tS(e,t){return[e,YI(t)]}function nS(e,t,n){return[e,YI(t),n]}var rS={},iS=["prefixPath","collectionGroup","readTime","documentId"],aS=["prefixPath","collectionGroup","documentId"],oS=["collectionGroup","readTime","prefixPath","documentId"],uS=["canonicalId","targetId"],sS=["targetId","path"],cS=["path","targetId"],lS=["collectionId","parent"],fS=["indexId","uid"],hS=["uid","sequenceNumber"],dS=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],pS=["indexId","uid","orderedDocumentKey"],vS=["userId","collectionPath","documentId"],mS=["userId","collectionPath","largestBatchId"],yS=["userId","collectionGroup","largestBatchId"],gS=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments"].concat(["clientMetadata"]).concat(["remoteDocumentGlobal"]).concat(["collectionParents"]).concat(["bundles","namedQueries"]),kS=[].concat(Wa(gS),["documentOverlays"]),wS=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],bS=[].concat(wS,["indexConfiguration","indexState","indexEntries"]),xS="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",_S=function(){function e(){Ka(this,e),this.onCommittedListeners=[]}return Ha(e,[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}]),e}(),IS=function(){function e(t){var n=this;Ka(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return Ha(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&nb(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=du(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}}]),e}(),SS=function(){function e(t,n){var r=this;Ka(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.At=new ub,this.transaction.oncomplete=function(){r.At.resolve()},this.transaction.onabort=function(){n.error?r.At.reject(new CS(t,n.error)):r.At.resolve()},this.transaction.onerror=function(e){var n=OS(e.target.error);r.At.reject(new CS(t,n))}}return Ha(e,[{key:"Rt",get:function(){return this.At.promise}},{key:"abort",value:function(e){e&&this.At.reject(e),this.aborted||(Xw("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"bt",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new AS(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new CS(n,t)}}}]),e}(),ES=function(){function e(t,n,r){Ka(this,e),this.name=t,this.version=n,this.Pt=r,12.2===e.Vt(Iu())&&Zw("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return Ha(e,[{key:"Nt",value:function(){var e=Gu(Qu().mark((function e(t){var n=this;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Xw("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new CS(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new ob(ab.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new ob(ab.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new CS(t,n))},i.onupgradeneeded=function(e){Xw("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.Pt.kt(t,i.transaction,e.oldVersion,n.version).next((function(){Xw("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.Mt&&(this.db.onversionchange=function(e){return n.Mt(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ot",value:function(e){this.Mt=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:function(){var e=Gu(Qu().mark((function e(t,n,r,i){var a,o,u,s,c=this;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,o=0;case 2:return++o,e.prev=3,e.delegateYield(Qu().mark((function e(){var n,o;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c.Nt(t);case 2:return c.db=e.sent,n=SS.open(c.db,t,a?"readonly":"readwrite",r),o=i(n).next((function(e){return n.bt(),e})).catch((function(e){return n.abort(e),IS.reject(e)})).toPromise(),o.catch((function(){})),e.next=7,n.Rt;case 7:return e.t0=o,e.abrupt("return",{v:e.t0});case 9:case"end":return e.stop()}}),e)}))(),"t0",5);case 5:if("object"!==typeof(u=e.t0)){e.next=8;break}return e.abrupt("return",u.v);case 8:e.next=15;break;case 10:if(e.prev=10,e.t1=e.catch(3),s="FirebaseError"!==e.t1.name&&o<3,Xw("SimpleDb","Transaction failed with error:",e.t1.message,"Retrying:",s),this.close(),s){e.next=15;break}return e.abrupt("return",Promise.reject(e.t1));case 15:e.next=2;break;case 17:case"end":return e.stop()}}),e,this,[[3,10]])})));return function(t,n,r,i){return e.apply(this,arguments)}}()},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Xw("SimpleDb","Removing database:",e),PS(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"vt",value:function(){if(!Au())return!1;if(e.St())return!0;var t=Iu(),n=e.Vt(t),r=0<n&&n<10,i=e.Dt(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"St",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0})||void 0===e?void 0:e.Ct)}},{key:"xt",value:function(e,t){return e.store(t)}},{key:"Vt",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"Dt",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]),e}(),TS=function(){function e(t){Ka(this,e),this.Ft=t,this.$t=!1,this.Bt=null}return Ha(e,[{key:"isDone",get:function(){return this.$t}},{key:"Lt",get:function(){return this.Bt}},{key:"cursor",set:function(e){this.Ft=e}},{key:"done",value:function(){this.$t=!0}},{key:"Ut",value:function(e){this.Bt=e}},{key:"delete",value:function(){return PS(this.Ft.delete())}}]),e}(),CS=function(e){Ma(n,e);var t=Ba(n);function n(e,r){var i;return Ka(this,n),(i=t.call(this,ab.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(r))).name="IndexedDbTransactionError",i}return Ha(n)}(ob);function NS(e){return"IndexedDbTransactionError"===e.name}var AS=function(){function e(t){Ka(this,e),this.store=t}return Ha(e,[{key:"put",value:function(e,t){var n;return void 0!==t?(Xw("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Xw("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),PS(n)}},{key:"add",value:function(e){return Xw("SimpleDb","ADD",this.store.name,e,e),PS(this.store.add(e))}},{key:"get",value:function(e){var t=this;return PS(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Xw("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Xw("SimpleDb","DELETE",this.store.name,e),PS(this.store.delete(e))}},{key:"count",value:function(){return Xw("SimpleDb","COUNT",this.store.name),PS(this.store.count())}},{key:"qt",value:function(e,t){var n=this.options(e,t);if(n.index||"function"!=typeof this.store.getAll){var r=this.cursor(n),i=[];return this.Kt(r,(function(e,t){i.push(t)})).next((function(){return i}))}var a=this.store.getAll(n.range);return new IS((function(e,t){a.onerror=function(e){t(e.target.error)},a.onsuccess=function(t){e(t.target.result)}}))}},{key:"Gt",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new IS((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"Qt",value:function(e,t){Xw("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.jt=!1;var r=this.cursor(n);return this.Kt(r,(function(e,t,n){return n.delete()}))}},{key:"Wt",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.Kt(r,t)}},{key:"zt",value:function(e){var t=this.cursor({});return new IS((function(n,r){t.onerror=function(e){var t=OS(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"Kt",value:function(e,t){var n=[];return new IS((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new TS(i),o=t(i.primaryKey,i.value,a);if(o instanceof IS){var u=o.catch((function(e){return a.done(),IS.reject(e)}));n.push(u)}a.isDone?r():null===a.Lt?i.continue():i.continue(a.Lt)}else r()}})).next((function(){return IS.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.jt?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}]),e}();function PS(e){return new IS((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=OS(e.target.error);n(t)}}))}var RS=!1;function OS(e){var t=ES.Vt(Iu());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new ob("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return RS||(RS=!0,setTimeout((function(){throw r}),0)),r}}return e}var DS=function(e){Ma(n,e);var t=Ba(n);function n(e,r){var i;return Ka(this,n),(i=t.call(this)).Ht=e,i.currentSequenceNumber=r,i}return Ha(n)}(_S);function LS(e,t){var n=ib(e);return ES.xt(n.Ht,t)}var MS=function(){function e(t,n,r,i){Ka(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}return Ha(e,[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&L_(i,e,n[r])}}},{key:"applyToLocalView",value:function(e){var t,n=du(this.baseMutations);try{for(n.s();!(t=n.n()).done;){var r=t.value;r.key.isEqual(e.key)&&M_(r,e,this.localWriteTime)}}catch(u){n.e(u)}finally{n.f()}var i,a=du(this.mutations);try{for(a.s();!(i=a.n()).done;){var o=i.value;o.key.isEqual(e.key)&&M_(o,e,this.localWriteTime)}}catch(u){a.e(u)}finally{a.f()}}},{key:"applyToLocalDocumentSet",value:function(e){var t=this;this.mutations.forEach((function(n){var r=e.get(n.key),i=r;t.applyToLocalView(i),r.isValidDocument()||i.convertToNoDocument(_b.min())}))}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),oI())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&wb(this.mutations,e.mutations,(function(e,t){return j_(e,t)}))&&wb(this.baseMutations,e.baseMutations,(function(e,t){return j_(e,t)}))}}]),e}(),FS=function(){function e(t,n,r,i){Ka(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return Ha(e,null,[{key:"from",value:function(t,n,r){rb(t.mutations.length===r.length);for(var i=iI,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}]),e}(),jS=function(){function e(t,n){Ka(this,e),this.largestBatchId=t,this.mutation=n}return Ha(e,[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}]),e}(),US=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:_b.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:_b.min(),u=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Rb.EMPTY_BYTE_STRING;Ka(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=u}return Ha(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken)}}]),e}(),VS=Ha((function e(t){Ka(this,e),this.Jt=t}));function zS(e,t){var n=t.key,r={prefixPath:n.getCollectionPath().popLast().toArray(),collectionGroup:n.collectionGroup,documentId:n.path.lastSegment(),readTime:BS(t.readTime),hasCommittedMutations:t.hasCommittedMutations};if(t.isFoundDocument())r.document=function(e,t){return{name:TI(e,t.key),fields:t.data.value.mapValue.fields,updateTime:bI(e,t.version.toTimestamp())}}(e.Jt,t);else if(t.isNoDocument())r.noDocument={path:n.path.toArray(),readTime:qS(t.version)};else{if(!t.isUnknownDocument())return nb();r.unknownDocument={path:n.path.toArray(),version:qS(t.version)}}return r}function BS(e){var t=e.toTimestamp();return[t.seconds,t.nanoseconds]}function qS(e){var t=e.toTimestamp();return{seconds:t.seconds,nanoseconds:t.nanoseconds}}function WS(e){var t=new xb(e.seconds,e.nanoseconds);return _b.fromTimestamp(t)}function KS(e,t){for(var n=(t.baseMutations||[]).map((function(t){return FI(e.Jt,t)})),r=0;r<t.mutations.length-1;++r){var i=t.mutations[r];if(r+1<t.mutations.length&&void 0!==t.mutations[r+1].transform){var a=t.mutations[r+1];i.updateTransforms=a.transform.fieldTransforms,t.mutations.splice(r+1,1),++r}}var o=t.mutations.map((function(t){return FI(e.Jt,t)})),u=xb.fromMillis(t.localWriteTimeMs);return new MS(t.batchId,u,n,o)}function GS(e){var t,n,r=WS(e.readTime),i=void 0!==e.lastLimboFreeSnapshotVersion?WS(e.lastLimboFreeSnapshotVersion):_b.min();return void 0!==e.query.documents?(rb(1===(n=e.query).documents.length),t=o_(t_(AI(n.documents[0])))):t=function(e){return o_(VI(e))}(e.query),new US(t,e.targetId,0,e.lastListenSequenceNumber,r,i,Rb.fromBase64String(e.resumeToken))}function HS(e,t){var n,r=qS(t.snapshotVersion),i=qS(t.lastLimboFreeSnapshotVersion);n=Lx(t.target)?jI(e.Jt,t.target):UI(e.Jt,t.target);var a=t.resumeToken.toBase64();return{targetId:t.targetId,canonicalId:Ox(t.target),readTime:r,resumeToken:a,lastListenSequenceNumber:t.sequenceNumber,lastLimboFreeSnapshotVersion:i,query:n}}function QS(e){var t=VI({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?u_(t,t.limit,"L"):t}function $S(e,t){return new jS(t.largestBatchId,FI(e.Jt,t.overlayMutation))}function YS(e,t){var n=t.path.lastSegment();return[e,YI(t.path.popLast()),n]}var JS=function(){function e(){Ka(this,e)}return Ha(e,[{key:"getBundleMetadata",value:function(e,t){return XS(e).get(t).next((function(e){if(e)return{id:(t=e).bundleId,createTime:WS(t.createTime),version:t.version};var t}))}},{key:"saveBundleMetadata",value:function(e,t){return XS(e).put({bundleId:(n=t).id,createTime:qS(II(n.createTime)),version:n.version});var n}},{key:"getNamedQuery",value:function(e,t){return ZS(e).get(t).next((function(e){if(e)return{name:(t=e).name,query:QS(t.bundledQuery),readTime:WS(t.readTime)};var t}))}},{key:"saveNamedQuery",value:function(e,t){return ZS(e).put(function(e){return{name:e.name,readTime:qS(II(e.readTime)),bundledQuery:e.bundledQuery}}(t))}}]),e}();function XS(e){return LS(e,"bundles")}function ZS(e){return LS(e,"namedQueries")}var eE=function(){function e(t,n){Ka(this,e),this.M=t,this.userId=n}return Ha(e,[{key:"getOverlay",value:function(e,t){var n=this;return tE(e).get(YS(this.userId,t)).next((function(e){return e?$S(n.M,e):null}))}},{key:"saveOverlays",value:function(e,t,n){var r=this,i=[];return n.forEach((function(n,a){var o=new jS(t,a);i.push(r.Xt(e,o))})),IS.waitFor(i)}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=new Set;t.forEach((function(e){return i.add(YI(e.getCollectionPath()))}));var a=[];return i.forEach((function(t){var i=IDBKeyRange.bound([r.userId,t,n],[r.userId,t,n+1],!1,!0);a.push(tE(e).Qt("collectionPathOverlayIndex",i))})),IS.waitFor(a)}},{key:"getOverlaysForCollection",value:function(e,t,n){var r=this,i=rI(),a=YI(t),o=IDBKeyRange.bound([this.userId,a,n],[this.userId,a,Number.POSITIVE_INFINITY],!0);return tE(e).qt("collectionPathOverlayIndex",o).next((function(e){var t,n=du(e);try{for(n.s();!(t=n.n()).done;){var a=t.value,o=$S(r.M,a);i.set(o.getKey(),o)}}catch(u){n.e(u)}finally{n.f()}return i}))}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){var i,a=this,o=rI(),u=IDBKeyRange.bound([this.userId,t,n],[this.userId,t,Number.POSITIVE_INFINITY],!0);return tE(e).Wt({index:"collectionGroupOverlayIndex",range:u},(function(e,t,n){var u=$S(a.M,t);o.size()<r||u.largestBatchId===i?(o.set(u.getKey(),u),i=u.largestBatchId):n.done()})).next((function(){return o}))}},{key:"Xt",value:function(e,t){return tE(e).put(function(e,t,n){var r=Le(YS(t,n.mutation.key),3);r[0];return{userId:t,collectionPath:r[1],documentId:r[2],collectionGroup:n.mutation.key.getCollectionGroup(),largestBatchId:n.largestBatchId,overlayMutation:MI(e.Jt,n.mutation)}}(this.M,this.userId,t))}}],[{key:"Yt",value:function(t,n){return new e(t,n.uid||"")}}]),e}();function tE(e){return LS(e,"documentOverlays")}var nE=function(){function e(){Ka(this,e)}return Ha(e,[{key:"Zt",value:function(e,t){this.te(e,t),t.ee()}},{key:"te",value:function(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Lb(e.integerValue));else if("doubleValue"in e){var n=Lb(e.doubleValue);isNaN(n)?this.ne(t,13):(this.ne(t,15),qb(n)?t.se(0):t.se(n))}else if("timestampValue"in e){var r=e.timestampValue;this.ne(t,20),"string"==typeof r?t.ie(r):(t.ie("".concat(r.seconds||"")),t.se(r.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Mb(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){var i=e.geoPointValue;this.ne(t,45),t.se(i.latitude||0),t.se(i.longitude||0)}else"mapValue"in e?sx(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):nb()}},{key:"re",value:function(e,t){this.ne(t,25),this.le(e,t)}},{key:"le",value:function(e,t){t.ie(e)}},{key:"ce",value:function(e,t){var n=e.fields||{};this.ne(t,55);for(var r=0,i=Object.keys(n);r<i.length;r++){var a=i[r];this.re(a,t),this.te(n[a],t)}}},{key:"he",value:function(e,t){var n=e.values||[];this.ne(t,50);var r,i=du(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;this.te(a,t)}}catch(o){i.e(o)}finally{i.f()}}},{key:"ae",value:function(e,t){var n=this;this.ne(t,37),Kb.fromName(e).path.forEach((function(e){n.ne(t,60),n.le(e,t)}))}},{key:"ne",value:function(e,t){e.se(t)}},{key:"oe",value:function(e){e.se(2)}}]),e}();function rE(e){if(0===e)return 8;var t=0;return e>>4==0&&(t+=4,e<<=4),e>>6==0&&(t+=2,e<<=2),e>>7==0&&(t+=1),t}function iE(e){var t=64-function(e){for(var t=0,n=0;n<8;++n){var r=rE(255&e[n]);if(t+=r,8!==r)break}return t}(e);return Math.ceil(t/8)}nE.fe=new nE;var aE=function(){function e(){Ka(this,e),this.buffer=new Uint8Array(1024),this.position=0}return Ha(e,[{key:"de",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this._e(n.value),n=t.next();this.we()}},{key:"me",value:function(e){for(var t=e[Symbol.iterator](),n=t.next();!n.done;)this.ge(n.value),n=t.next();this.ye()}},{key:"pe",value:function(e){var t,n=du(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this._e(i);else if(i<2048)this._e(960|i>>>6),this._e(128|63&i);else if(r<"\ud800"||"\udbff"<r)this._e(480|i>>>12),this._e(128|63&i>>>6),this._e(128|63&i);else{var a=r.codePointAt(0);this._e(240|a>>>18),this._e(128|63&a>>>12),this._e(128|63&a>>>6),this._e(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.we()}},{key:"Ie",value:function(e){var t,n=du(e);try{for(n.s();!(t=n.n()).done;){var r=t.value,i=r.charCodeAt(0);if(i<128)this.ge(i);else if(i<2048)this.ge(960|i>>>6),this.ge(128|63&i);else if(r<"\ud800"||"\udbff"<r)this.ge(480|i>>>12),this.ge(128|63&i>>>6),this.ge(128|63&i);else{var a=r.codePointAt(0);this.ge(240|a>>>18),this.ge(128|63&a>>>12),this.ge(128|63&a>>>6),this.ge(128|63&a)}}}catch(o){n.e(o)}finally{n.f()}this.ye()}},{key:"Te",value:function(e){var t=this.Ee(e),n=iE(t);this.Ae(1+n),this.buffer[this.position++]=255&n;for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=255&t[r]}},{key:"Re",value:function(e){var t=this.Ee(e),n=iE(t);this.Ae(1+n),this.buffer[this.position++]=~(255&n);for(var r=t.length-n;r<t.length;++r)this.buffer[this.position++]=~(255&t[r])}},{key:"be",value:function(){this.Pe(255),this.Pe(255)}},{key:"Ve",value:function(){this.ve(255),this.ve(255)}},{key:"reset",value:function(){this.position=0}},{key:"seed",value:function(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}},{key:"Se",value:function(){return this.buffer.slice(0,this.position)}},{key:"Ee",value:function(e){var t=function(e){var t=new DataView(new ArrayBuffer(8));return t.setFloat64(0,e,!1),new Uint8Array(t.buffer)}(e),n=0!=(128&t[0]);t[0]^=n?255:128;for(var r=1;r<t.length;++r)t[r]^=n?255:0;return t}},{key:"_e",value:function(e){var t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}},{key:"ge",value:function(e){var t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}},{key:"we",value:function(){this.Pe(0),this.Pe(1)}},{key:"ye",value:function(){this.ve(0),this.ve(1)}},{key:"Pe",value:function(e){this.Ae(1),this.buffer[this.position++]=e}},{key:"ve",value:function(e){this.Ae(1),this.buffer[this.position++]=~e}},{key:"Ae",value:function(e){var t=e+this.position;if(!(t<=this.buffer.length)){var n=2*this.buffer.length;n<t&&(n=t);var r=new Uint8Array(n);r.set(this.buffer),this.buffer=r}}}]),e}(),oE=function(){function e(t){Ka(this,e),this.De=t}return Ha(e,[{key:"ue",value:function(e){this.De.de(e)}},{key:"ie",value:function(e){this.De.pe(e)}},{key:"se",value:function(e){this.De.Te(e)}},{key:"ee",value:function(){this.De.be()}}]),e}(),uE=function(){function e(t){Ka(this,e),this.De=t}return Ha(e,[{key:"ue",value:function(e){this.De.me(e)}},{key:"ie",value:function(e){this.De.Ie(e)}},{key:"se",value:function(e){this.De.Re(e)}},{key:"ee",value:function(){this.De.Ve()}}]),e}(),sE=function(){function e(){Ka(this,e),this.De=new aE,this.Ce=new oE(this.De),this.xe=new uE(this.De)}return Ha(e,[{key:"seed",value:function(e){this.De.seed(e)}},{key:"Ne",value:function(e){return 0===e?this.Ce:this.xe}},{key:"Se",value:function(){return this.De.Se()}},{key:"reset",value:function(){this.De.reset()}}]),e}(),cE=function(){function e(t,n,r,i){Ka(this,e),this.indexId=t,this.documentKey=n,this.arrayValue=r,this.directionalValue=i}return Ha(e,[{key:"ke",value:function(){var t=this.directionalValue.length,n=0===t||255===this.directionalValue[t-1]?t+1:t,r=new Uint8Array(n);return r.set(this.directionalValue,0),n!==t?r.set([0],this.directionalValue.length):++r[r.length-1],new e(this.indexId,this.documentKey,this.arrayValue,r)}}]),e}();function lE(e,t){var n=e.indexId-t.indexId;return 0!==n?n:0!==(n=fE(e.arrayValue,t.arrayValue))?n:0!==(n=fE(e.directionalValue,t.directionalValue))?n:Kb.comparator(e.documentKey,t.documentKey)}function fE(e,t){for(var n=0;n<e.length&&n<t.length;++n){var r=e[n]-t[n];if(0!==r)return r}return e.length-t.length}var hE=function(){function e(t){Ka(this,e),this.collectionId=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment(),this.Me=t.orderBy,this.Oe=[];var n,r=du(t.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.S()?this.Fe=i:this.Oe.push(i)}}catch(a){r.e(a)}finally{r.f()}}return Ha(e,[{key:"$e",value:function(e){var t=yx(e);if(void 0!==t&&!this.Be(t))return!1;for(var n=gx(e),r=0,i=0;r<n.length&&this.Be(n[r]);++r);if(r===n.length)return!0;if(void 0!==this.Fe){var a=n[r];if(!this.Le(this.Fe,a)||!this.Ue(this.Me[i++],a))return!1;++r}for(;r<n.length;++r){var o=n[r];if(i>=this.Me.length||!this.Ue(this.Me[i++],o))return!1}return!0}},{key:"Be",value:function(e){var t,n=du(this.Oe);try{for(n.s();!(t=n.n()).done;){var r=t.value;if(this.Le(r,e))return!0}}catch(i){n.e(i)}finally{n.f()}return!1}},{key:"Le",value:function(e,t){if(void 0===e||!e.field.isEqual(t.fieldPath))return!1;var n="array-contains"===e.op||"array-contains-any"===e.op;return 2===t.kind===n}},{key:"Ue",value:function(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}]),e}(),dE=function(){function e(){Ka(this,e),this.qe=new pE}return Ha(e,[{key:"addToCollectionParentIndex",value:function(e,t){return this.qe.add(t),IS.resolve()}},{key:"getCollectionParents",value:function(e,t){return IS.resolve(this.qe.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return IS.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return IS.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return IS.resolve(null)}},{key:"getIndexType",value:function(e,t){return IS.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return IS.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return IS.resolve(null)}},{key:"getMinOffset",value:function(e,t){return IS.resolve(_x.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return IS.resolve()}},{key:"updateIndexEntries",value:function(e,t){return IS.resolve()}}]),e}(),pE=function(){function e(){Ka(this,e),this.index={}}return Ha(e,[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Cx(Cb.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Cx(Cb.comparator)).toArray()}}]),e}(),vE=new Uint8Array(0),mE=function(){function e(t,n){Ka(this,e),this.user=t,this.databaseId=n,this.Ke=new pE,this.Ge=new X_((function(e){return Ox(e)}),(function(e,t){return Dx(e,t)})),this.uid=t.uid||""}return Ha(e,[{key:"addToCollectionParentIndex",value:function(e,t){var n=this;if(!this.Ke.has(t)){var r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener((function(){n.Ke.add(t)}));var a={collectionId:r,parent:YI(i)};return yE(e).put(a)}return IS.resolve()}},{key:"getCollectionParents",value:function(e,t){var n=[],r=IDBKeyRange.bound([t,""],[bb(t),""],!1,!0);return yE(e).qt(r).next((function(e){var r,i=du(e);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.collectionId!==t)break;n.push(ZI(a.parent))}}catch(o){i.e(o)}finally{i.f()}return n}))}},{key:"addFieldIndex",value:function(e,t){var n=kE(e),r=function(e){return{indexId:e.indexId,collectionGroup:e.collectionGroup,fields:e.fields.map((function(e){return[e.fieldPath.canonicalString(),e.kind]}))}}(t);return delete r.indexId,n.add(r).next()}},{key:"deleteFieldIndex",value:function(e,t){var n=kE(e),r=wE(e),i=gE(e);return n.delete(t.indexId).next((function(){return r.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))})).next((function(){return i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))}))}},{key:"getDocumentsMatchingTarget",value:function(e,t){var n=this,r=gE(e),i=!0,a=new Map;return IS.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){i&&(i=!!e),a.set(t,e)}))})).next((function(){if(i){var e=oI(),o=[];return IS.forEach(a,(function(i,a){var u;Xw("IndexedDbIndexManager","Using index ".concat((u=i,"id=".concat(u.indexId,"|cg=").concat(u.collectionGroup,"|f=").concat(u.fields.map((function(e){return"".concat(e.fieldPath,":").concat(e.kind)})).join(",")))," to execute ").concat(Ox(t)));var s=function(e,t){var n=yx(t);if(void 0===n)return null;var r,i=du(Mx(e,n.fieldPath));try{for(i.s();!(r=i.n()).done;){var a=r.value;switch(a.op){case"array-contains-any":return a.value.arrayValue.values||[];case"array-contains":return[a.value]}}}catch(o){i.e(o)}finally{i.f()}return null}(a,i),c=function(e,t){var n,r=new Map,i=du(gx(t));try{for(i.s();!(n=i.n()).done;){var a,o=n.value,u=du(Mx(e,o.fieldPath));try{for(u.s();!(a=u.n()).done;){var s=a.value;switch(s.op){case"==":case"in":r.set(o.fieldPath.canonicalString(),s.value);break;case"not-in":case"!=":return r.set(o.fieldPath.canonicalString(),s.value),Array.from(r.values())}}}catch(c){u.e(c)}finally{u.f()}}}catch(c){i.e(c)}finally{i.f()}return null}(a,i),l=function(e,t){var n,r=[],i=!0,a=du(gx(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?Fx(e,o.fieldPath,e.startAt):jx(e,o.fieldPath,e.startAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Qx(r,i)}(a,i),f=function(e,t){var n,r=[],i=!0,a=du(gx(t));try{for(a.s();!(n=a.n()).done;){var o=n.value,u=0===o.kind?jx(e,o.fieldPath,e.endAt):Fx(e,o.fieldPath,e.endAt);r.push(u.value),i&&(i=u.inclusive)}}catch(s){a.e(s)}finally{a.f()}return new Qx(r,i)}(a,i),h=n.We(i,a,l),d=n.We(i,a,f),p=n.ze(i,a,c),v=n.He(i.indexId,s,h,l.inclusive,d,f.inclusive,p);return IS.forEach(v,(function(n){return r.Gt(n,t.limit).next((function(t){t.forEach((function(t){var n=Kb.fromSegments(t.documentKey);e.has(n)||(e=e.add(n),o.push(n))}))}))}))})).next((function(){return o}))}return IS.resolve(null)}))}},{key:"Qe",value:function(e){var t=this.Ge.get(e);return t||(t=[e],this.Ge.set(e,t),t)}},{key:"He",value:function(e,t,n,r,i,a,o){for(var u=this,s=(null!=t?t.length:1)*Math.max(n.length,i.length),c=s/(null!=t?t.length:1),l=[],f=function(s){var f=t?u.Je(t[s/c]):vE,h=u.Ye(e,f,n[s%c],r),d=u.Xe(e,f,i[s%c],a),p=o.map((function(t){return u.Ye(e,f,t,!0)}));l.push.apply(l,Wa(u.createRange(h,d,p)))},h=0;h<s;++h)f(h);return l}},{key:"Ye",value:function(e,t,n,r){var i=new cE(e,Kb.empty(),t,n);return r?i:i.ke()}},{key:"Xe",value:function(e,t,n,r){var i=new cE(e,Kb.empty(),t,n);return r?i.ke():i}},{key:"je",value:function(e,t){var n=new hE(t),r=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,r).next((function(e){var t,r=null,i=du(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;n.$e(a)&&(!r||a.fields.length>r.fields.length)&&(r=a)}}catch(o){i.e(o)}finally{i.f()}return r}))}},{key:"getIndexType",value:function(e,t){var n=this,r=2;return IS.forEach(this.Qe(t),(function(t){return n.je(e,t).next((function(e){e?0!==r&&e.fields.length<function(e){var t,n=new Cx(Ab.comparator),r=!1,i=du(e.filters);try{for(i.s();!(t=i.n()).done;){var a=t.value;a.field.isKeyField()||("array-contains"===a.op||"array-contains-any"===a.op?r=!0:n=n.add(a.field))}}catch(c){i.e(c)}finally{i.f()}var o,u=du(e.orderBy);try{for(u.s();!(o=u.n()).done;){var s=o.value;s.field.isKeyField()||(n=n.add(s.field))}}catch(c){u.e(c)}finally{u.f()}return n.size+(r?1:0)}(t)&&(r=1):r=0}))})).next((function(){return r}))}},{key:"Ze",value:function(e,t){var n,r=new sE,i=du(gx(e));try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.fieldPath);if(null==o)return null;var u=r.Ne(a.kind);nE.fe.Zt(o,u)}}catch(s){i.e(s)}finally{i.f()}return r.Se()}},{key:"Je",value:function(e){var t=new sE;return nE.fe.Zt(e,t.Ne(0)),t.Se()}},{key:"tn",value:function(e,t){var n=new sE;return nE.fe.Zt(tx(this.databaseId,t),n.Ne(function(e){var t=gx(e);return 0===t.length?0:t[t.length-1].kind}(e))),n.Se()}},{key:"ze",value:function(e,t,n){if(null===n)return[];var r=[];r.push(new sE);var i,a=0,o=du(gx(e));try{for(o.s();!(i=o.n()).done;){var u,s=i.value,c=n[a++],l=du(r);try{for(l.s();!(u=l.n()).done;){var f=u.value;if(this.en(t,s.fieldPath)&&rx(c))r=this.nn(r,s,c);else{var h=f.Ne(s.kind);nE.fe.Zt(c,h)}}}catch(d){l.e(d)}finally{l.f()}}}catch(d){o.e(d)}finally{o.f()}return this.sn(r)}},{key:"We",value:function(e,t,n){return this.ze(e,t,n.position)}},{key:"sn",value:function(e){for(var t=[],n=0;n<e.length;++n)t[n]=e[n].Se();return t}},{key:"nn",value:function(e,t,n){var r,i=Wa(e),a=[],o=du(n.arrayValue.values||[]);try{for(o.s();!(r=o.n()).done;){var u,s=r.value,c=du(i);try{for(c.s();!(u=c.n()).done;){var l=u.value,f=new sE;f.seed(l.Se()),nE.fe.Zt(s,f.Ne(t.kind)),a.push(f)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}return a}},{key:"en",value:function(e,t){return!!e.filters.find((function(e){return e instanceof Ux&&e.field.isEqual(t)&&("in"===e.op||"not-in"===e.op)}))}},{key:"getFieldIndexes",value:function(e,t){var n=this,r=kE(e),i=wE(e);return(t?r.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.qt()).next((function(e){var t=[];return IS.forEach(e,(function(e){return i.get([e.indexId,n.uid]).next((function(n){t.push(function(e,t){var n=t?new wx(t.sequenceNumber,new _x(WS(t.readTime),new Kb(ZI(t.documentKey)),t.largestBatchId)):wx.empty(),r=e.fields.map((function(e){var t=Le(e,2),n=t[0],r=t[1];return new kx(Ab.fromServerFormat(n),r)}));return new mx(e.indexId,e.collectionGroup,r,n)}(e,n))}))})).next((function(){return t}))}))}},{key:"getNextCollectionGroupToUpdate",value:function(e){return this.getFieldIndexes(e).next((function(e){return 0===e.length?null:(e.sort((function(e,t){var n=e.indexState.sequenceNumber-t.indexState.sequenceNumber;return 0!==n?n:kb(e.collectionGroup,t.collectionGroup)})),e[0].collectionGroup)}))}},{key:"updateCollectionGroup",value:function(e,t,n){var r=this,i=kE(e),a=wE(e);return this.rn(e).next((function(e){return i.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next((function(t){return IS.forEach(t,(function(t){return a.put(function(e,t,n,r){return{indexId:e,uid:t.uid||"",sequenceNumber:n,readTime:qS(r.readTime),documentKey:YI(r.documentKey.path),largestBatchId:r.largestBatchId}}(t.indexId,r.user,e,n))}))}))}))}},{key:"updateIndexEntries",value:function(e,t){var n=this,r=new Map;return IS.forEach(t,(function(t,i){var a=r.get(t.collectionGroup);return(a?IS.resolve(a):n.getFieldIndexes(e,t.collectionGroup)).next((function(a){return r.set(t.collectionGroup,a),IS.forEach(a,(function(r){return n.on(e,t,r).next((function(t){var a=n.un(i,r);return t.isEqual(a)?IS.resolve():n.an(e,i,r,t,a)}))}))}))}))}},{key:"cn",value:function(e,t,n,r){return gE(e).put({indexId:r.indexId,uid:this.uid,arrayValue:r.arrayValue,directionalValue:r.directionalValue,orderedDocumentKey:this.tn(n,t.key),documentKey:t.key.path.toArray()})}},{key:"hn",value:function(e,t,n,r){return gE(e).delete([r.indexId,this.uid,r.arrayValue,r.directionalValue,this.tn(n,t.key),t.key.path.toArray()])}},{key:"on",value:function(e,t,n){var r=gE(e),i=new Cx(lE);return r.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([n.indexId,this.uid,this.tn(n,t)])},(function(e,r){i=i.add(new cE(n.indexId,t,r.arrayValue,r.directionalValue))})).next((function(){return i}))}},{key:"un",value:function(e,t){var n=new Cx(lE),r=this.Ze(t,e);if(null==r)return n;var i=yx(t);if(null!=i){var a=e.data.field(i.fieldPath);if(rx(a)){var o,u=du(a.arrayValue.values||[]);try{for(u.s();!(o=u.n()).done;){var s=o.value;n=n.add(new cE(t.indexId,e.key,this.Je(s),r))}}catch(c){u.e(c)}finally{u.f()}}}else n=n.add(new cE(t.indexId,e.key,vE,r));return n}},{key:"an",value:function(e,t,n,r,i){var a=this;Xw("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);var o=[];return function(e,t,n,r,i){for(var a=e.getIterator(),o=t.getIterator(),u=Ax(a),s=Ax(o);u||s;){var c=!1,l=!1;if(u&&s){var f=n(u,s);f<0?l=!0:f>0&&(c=!0)}else null!=u?l=!0:c=!0;c?(r(s),s=Ax(o)):l?(i(u),u=Ax(a)):(u=Ax(a),s=Ax(o))}}(r,i,lE,(function(r){o.push(a.cn(e,t,n,r))}),(function(r){o.push(a.hn(e,t,n,r))})),IS.waitFor(o)}},{key:"rn",value:function(e){var t=1;return wE(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(function(e,n,r){r.done(),t=n.sequenceNumber+1})).next((function(){return t}))}},{key:"createRange",value:function(e,t,n){n=n.sort((function(e,t){return lE(e,t)})).filter((function(e,t,n){return!t||0!==lE(e,n[t-1])}));var r=[];r.push(e);var i,a=du(n);try{for(a.s();!(i=a.n()).done;){var o=i.value,u=lE(o,e),s=lE(o,t);if(0===u)r[0]=e.ke();else if(u>0&&s<0)r.push(o),r.push(o.ke());else if(s>0)break}}catch(f){a.e(f)}finally{a.f()}r.push(t);for(var c=[],l=0;l<r.length;l+=2)c.push(IDBKeyRange.bound([r[l].indexId,this.uid,r[l].arrayValue,r[l].directionalValue,vE,[]],[r[l+1].indexId,this.uid,r[l+1].arrayValue,r[l+1].directionalValue,vE,[]]));return c}},{key:"getMinOffset",value:function(e,t){var n,r=this;return IS.forEach(this.Qe(t),(function(t){return r.je(e,t).next((function(e){e?(!n||Ix(e.indexState.offset,n)<0)&&(n=e.indexState.offset):n=_x.min()}))})).next((function(){return n}))}}]),e}();function yE(e){return LS(e,"collectionParents")}function gE(e){return LS(e,"indexEntries")}function kE(e){return LS(e,"indexConfiguration")}function wE(e){return LS(e,"indexState")}var bE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},xE=function(){function e(t,n,r){Ka(this,e),this.cacheSizeCollectionThreshold=t,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}return Ha(e,null,[{key:"withCacheSize",value:function(t){return new e(t,e.DEFAULT_COLLECTION_PERCENTILE,e.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}]),e}();function _E(e,t,n){var r=e.store("mutations"),i=e.store("documentMutations"),a=[],o=IDBKeyRange.only(n.batchId),u=0,s=r.Wt({range:o},(function(e,t,n){return u++,n.delete()}));a.push(s.next((function(){rb(1===u)})));var c,l=[],f=du(n.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value,d=nS(t,h.key.path,n.batchId);a.push(i.delete(d)),l.push(h.key)}}catch(p){f.e(p)}finally{f.f()}return IS.waitFor(a).next((function(){return l}))}function IE(e){if(!e)return 0;var t;if(e.document)t=e.document;else if(e.unknownDocument)t=e.unknownDocument;else{if(!e.noDocument)throw nb();t=e.noDocument}return JSON.stringify(t).length}xE.DEFAULT_COLLECTION_PERCENTILE=10,xE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,xE.DEFAULT=new xE(41943040,xE.DEFAULT_COLLECTION_PERCENTILE,xE.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),xE.DISABLED=new xE(-1,0,0);var SE=function(){function e(t,n,r,i){Ka(this,e),this.userId=t,this.M=n,this.indexManager=r,this.referenceDelegate=i,this.ln={}}return Ha(e,[{key:"checkEmpty",value:function(e){var t=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return TE(e).Wt({index:"userMutationsIndex",range:n},(function(e,n,r){t=!1,r.done()})).next((function(){return t}))}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this,a=CE(e),o=TE(e);return o.add({}).next((function(u){rb("number"==typeof u);var s,c=new MS(u,t,n,r),l=function(e,t,n){var r=n.baseMutations.map((function(t){return MI(e.Jt,t)})),i=n.mutations.map((function(t){return MI(e.Jt,t)}));return{userId:t,batchId:n.batchId,localWriteTimeMs:n.localWriteTime.toMillis(),baseMutations:r,mutations:i}}(i.M,i.userId,c),f=[],h=new Cx((function(e,t){return kb(e.canonicalString(),t.canonicalString())})),d=du(r);try{for(d.s();!(s=d.n()).done;){var p=s.value,v=nS(i.userId,p.key.path,u);h=h.add(p.key.path.popLast()),f.push(o.put(l)),f.push(a.put(v,rS))}}catch(m){d.e(m)}finally{d.f()}return h.forEach((function(t){f.push(i.indexManager.addToCollectionParentIndex(e,t))})),e.addOnCommittedListener((function(){i.ln[u]=c.keys()})),IS.waitFor(f).next((function(){return c}))}))}},{key:"lookupMutationBatch",value:function(e,t){var n=this;return TE(e).get(t).next((function(e){return e?(rb(e.userId===n.userId),KS(n.M,e)):null}))}},{key:"fn",value:function(e,t){var n=this;return this.ln[t]?IS.resolve(this.ln[t]):this.lookupMutationBatch(e,t).next((function(e){if(e){var r=e.keys();return n.ln[t]=r,r}return null}))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=this,r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]),a=null;return TE(e).Wt({index:"userMutationsIndex",range:i},(function(e,t,i){t.userId===n.userId&&(rb(t.batchId>=r),a=KS(n.M,t)),i.done()})).next((function(){return a}))}},{key:"getHighestUnacknowledgedBatchId",value:function(e){var t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]),n=-1;return TE(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(function(e,t,r){n=t.batchId,r.done()})).next((function(){return n}))}},{key:"getAllMutationBatches",value:function(e){var t=this,n=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return TE(e).qt("userMutationsIndex",n).next((function(e){return e.map((function(e){return KS(t.M,e)}))}))}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=tS(this.userId,t.path),i=IDBKeyRange.lowerBound(r),a=[];return CE(e).Wt({range:i},(function(r,i,o){var u=Le(r,3),s=u[0],c=u[1],l=u[2],f=ZI(c);if(s===n.userId&&t.path.isEqual(f))return TE(e).get(l).next((function(e){if(!e)throw nb();rb(e.userId===n.userId),a.push(KS(n.M,e))}));o.done()})).next((function(){return a}))}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Cx(kb),i=[];return t.forEach((function(t){var a=tS(n.userId,t.path),o=IDBKeyRange.lowerBound(a),u=CE(e).Wt({range:o},(function(e,i,a){var o=Le(e,3),u=o[0],s=o[1],c=o[2],l=ZI(s);u===n.userId&&t.path.isEqual(l)?r=r.add(c):a.done()}));i.push(u)})),IS.waitFor(i).next((function(){return n.dn(e,r)}))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=this,r=t.path,i=r.length+1,a=tS(this.userId,r),o=IDBKeyRange.lowerBound(a),u=new Cx(kb);return CE(e).Wt({range:o},(function(e,t,a){var o=Le(e,3),s=o[0],c=o[1],l=o[2],f=ZI(c);s===n.userId&&r.isPrefixOf(f)?f.length===i&&(u=u.add(l)):a.done()})).next((function(){return n.dn(e,u)}))}},{key:"dn",value:function(e,t){var n=this,r=[],i=[];return t.forEach((function(t){i.push(TE(e).get(t).next((function(e){if(null===e)throw nb();rb(e.userId===n.userId),r.push(KS(n.M,e))})))})),IS.waitFor(i).next((function(){return r}))}},{key:"removeMutationBatch",value:function(e,t){var n=this;return _E(e.Ht,this.userId,t).next((function(r){return e.addOnCommittedListener((function(){n._n(t.batchId)})),IS.forEach(r,(function(t){return n.referenceDelegate.markPotentiallyOrphaned(e,t)}))}))}},{key:"_n",value:function(e){delete this.ln[e]}},{key:"performConsistencyCheck",value:function(e){var t=this;return this.checkEmpty(e).next((function(n){if(!n)return IS.resolve();var r=IDBKeyRange.lowerBound([t.userId]),i=[];return CE(e).Wt({range:r},(function(e,n,r){if(e[0]===t.userId){var a=ZI(e[1]);i.push(a)}else r.done()})).next((function(){rb(0===i.length)}))}))}},{key:"containsKey",value:function(e,t){return EE(e,this.userId,t)}},{key:"wn",value:function(e){var t=this;return NE(e).get(this.userId).next((function(e){return e||{userId:t.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""}}))}}],[{key:"Yt",value:function(t,n,r,i){return rb(""!==t.uid),new e(t.isAuthenticated()?t.uid:"",n,r,i)}}]),e}();function EE(e,t,n){var r=tS(t,n.path),i=r[1],a=IDBKeyRange.lowerBound(r),o=!1;return CE(e).Wt({range:a,jt:!0},(function(e,n,r){var a=Le(e,3),u=a[0],s=a[1];a[2];u===t&&s===i&&(o=!0),r.done()})).next((function(){return o}))}function TE(e){return LS(e,"mutations")}function CE(e){return LS(e,"documentMutations")}function NE(e){return LS(e,"mutationQueues")}var AE=function(){function e(t){Ka(this,e),this.mn=t}return Ha(e,[{key:"next",value:function(){return this.mn+=2,this.mn}}],[{key:"gn",value:function(){return new e(0)}},{key:"yn",value:function(){return new e(-1)}}]),e}(),PE=function(){function e(t,n){Ka(this,e),this.referenceDelegate=t,this.M=n}return Ha(e,[{key:"allocateTargetId",value:function(e){var t=this;return this.pn(e).next((function(n){var r=new AE(n.highestTargetId);return n.highestTargetId=r.next(),t.In(e,n).next((function(){return n.highestTargetId}))}))}},{key:"getLastRemoteSnapshotVersion",value:function(e){return this.pn(e).next((function(e){return _b.fromTimestamp(new xb(e.lastRemoteSnapshotVersion.seconds,e.lastRemoteSnapshotVersion.nanoseconds))}))}},{key:"getHighestSequenceNumber",value:function(e){return this.pn(e).next((function(e){return e.highestListenSequenceNumber}))}},{key:"setTargetsMetadata",value:function(e,t,n){var r=this;return this.pn(e).next((function(i){return i.highestListenSequenceNumber=t,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),r.In(e,i)}))}},{key:"addTargetData",value:function(e,t){var n=this;return this.Tn(e,t).next((function(){return n.pn(e).next((function(r){return r.targetCount+=1,n.En(t,r),n.In(e,r)}))}))}},{key:"updateTargetData",value:function(e,t){return this.Tn(e,t)}},{key:"removeTargetData",value:function(e,t){var n=this;return this.removeMatchingKeysForTargetId(e,t.targetId).next((function(){return RE(e).delete(t.targetId)})).next((function(){return n.pn(e)})).next((function(t){return rb(t.targetCount>0),t.targetCount-=1,n.In(e,t)}))}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return RE(e).Wt((function(o,u){var s=GS(u);s.sequenceNumber<=t&&null===n.get(s.targetId)&&(i++,a.push(r.removeTargetData(e,s)))})).next((function(){return IS.waitFor(a)})).next((function(){return i}))}},{key:"forEachTarget",value:function(e,t){return RE(e).Wt((function(e,n){var r=GS(n);t(r)}))}},{key:"pn",value:function(e){return OE(e).get("targetGlobalKey").next((function(e){return rb(null!==e),e}))}},{key:"In",value:function(e,t){return OE(e).put("targetGlobalKey",t)}},{key:"Tn",value:function(e,t){return RE(e).put(HS(this.M,t))}},{key:"En",value:function(e,t){var n=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,n=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,n=!0),n}},{key:"getTargetCount",value:function(e){return this.pn(e).next((function(e){return e.targetCount}))}},{key:"getTargetData",value:function(e,t){var n=Ox(t),r=IDBKeyRange.bound([n,Number.NEGATIVE_INFINITY],[n,Number.POSITIVE_INFINITY]),i=null;return RE(e).Wt({range:r,index:"queryTargetsIndex"},(function(e,n,r){var a=GS(n);Dx(t,a.target)&&(i=a,r.done())})).next((function(){return i}))}},{key:"addMatchingKeys",value:function(e,t,n){var r=this,i=[],a=DE(e);return t.forEach((function(t){var o=YI(t.path);i.push(a.put({targetId:n,path:o})),i.push(r.referenceDelegate.addReference(e,n,t))})),IS.waitFor(i)}},{key:"removeMatchingKeys",value:function(e,t,n){var r=this,i=DE(e);return IS.forEach(t,(function(t){var a=YI(t.path);return IS.waitFor([i.delete([n,a]),r.referenceDelegate.removeReference(e,n,t)])}))}},{key:"removeMatchingKeysForTargetId",value:function(e,t){var n=DE(e),r=IDBKeyRange.bound([t],[t+1],!1,!0);return n.delete(r)}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=IDBKeyRange.bound([t],[t+1],!1,!0),r=DE(e),i=oI();return r.Wt({range:n,jt:!0},(function(e,t,n){var r=ZI(e[1]),a=new Kb(r);i=i.add(a)})).next((function(){return i}))}},{key:"containsKey",value:function(e,t){var n=YI(t.path),r=IDBKeyRange.bound([n],[bb(n)],!1,!0),i=0;return DE(e).Wt({index:"documentTargetsIndex",jt:!0,range:r},(function(e,t,n){var r=Le(e,2),a=r[0];r[1];0!==a&&(i++,n.done())})).next((function(){return i>0}))}},{key:"Et",value:function(e,t){return RE(e).get(t).next((function(e){return e?GS(e):null}))}}]),e}();function RE(e){return LS(e,"targets")}function OE(e){return LS(e,"targetGlobal")}function DE(e){return LS(e,"targetDocuments")}function LE(e){return ME.apply(this,arguments)}function ME(){return ME=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===ab.FAILED_PRECONDITION&&t.message===xS){e.next=2;break}throw t;case 2:Xw("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)}))),ME.apply(this,arguments)}function FE(e,t){var n=Le(e,2),r=n[0],i=n[1],a=Le(t,2),o=a[0],u=a[1],s=kb(r,o);return 0===s?kb(i,u):s}var jE=function(){function e(t){Ka(this,e),this.An=t,this.buffer=new Cx(FE),this.Rn=0}return Ha(e,[{key:"bn",value:function(){return++this.Rn}},{key:"Pn",value:function(e){var t=[e,this.bn()];if(this.buffer.size<this.An)this.buffer=this.buffer.add(t);else{var n=this.buffer.last();FE(t,n)<0&&(this.buffer=this.buffer.delete(n).add(t))}}},{key:"maxValue",get:function(){return this.buffer.last()[0]}}]),e}(),UE=function(){function e(t,n){Ka(this,e),this.garbageCollector=t,this.asyncQueue=n,this.Vn=!1,this.vn=null}return Ha(e,[{key:"start",value:function(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Sn(e)}},{key:"stop",value:function(){this.vn&&(this.vn.cancel(),this.vn=null)}},{key:"started",get:function(){return null!==this.vn}},{key:"Sn",value:function(e){var t=this,n=this.Vn?3e5:6e4;Xw("LruGarbageCollector","Garbage collection scheduled in ".concat(n,"ms")),this.vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,Gu(Qu().mark((function n(){return Qu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t.vn=null,t.Vn=!0,n.prev=1,n.next=4,e.collectGarbage(t.garbageCollector);case 4:n.next=14;break;case 6:if(n.prev=6,n.t0=n.catch(1),!NS(n.t0)){n.next=12;break}Xw("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n.t0),n.next=14;break;case 12:return n.next=14,LE(n.t0);case 14:return n.next=16,t.Sn(e);case 16:case"end":return n.stop()}}),n,null,[[1,6]])}))))}}]),e}(),VE=function(){function e(t,n){Ka(this,e),this.Dn=t,this.params=n}return Ha(e,[{key:"calculateTargetCount",value:function(e,t){return this.Dn.Cn(e).next((function(e){return Math.floor(t/100*e)}))}},{key:"nthSequenceNumber",value:function(e,t){var n=this;if(0===t)return IS.resolve(mb.A);var r=new jE(t);return this.Dn.forEachTarget(e,(function(e){return r.Pn(e.sequenceNumber)})).next((function(){return n.Dn.xn(e,(function(e){return r.Pn(e)}))})).next((function(){return r.maxValue}))}},{key:"removeTargets",value:function(e,t,n){return this.Dn.removeTargets(e,t,n)}},{key:"removeOrphanedDocuments",value:function(e,t){return this.Dn.removeOrphanedDocuments(e,t)}},{key:"collect",value:function(e,t){var n=this;return-1===this.params.cacheSizeCollectionThreshold?(Xw("LruGarbageCollector","Garbage collection skipped; disabled"),IS.resolve(bE)):this.getCacheSize(e).next((function(r){return r<n.params.cacheSizeCollectionThreshold?(Xw("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(r," is lower than threshold ").concat(n.params.cacheSizeCollectionThreshold)),bE):n.Nn(e,t)}))}},{key:"getCacheSize",value:function(e){return this.Dn.getCacheSize(e)}},{key:"Nn",value:function(e,t){var n,r,i,a,o,u,s,c=this,l=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((function(t){return t>c.params.maximumSequenceNumbersToCollect?(Xw("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(c.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=c.params.maximumSequenceNumbersToCollect):r=t,a=Date.now(),c.nthSequenceNumber(e,r)})).next((function(r){return n=r,o=Date.now(),c.removeTargets(e,n,t)})).next((function(t){return i=t,u=Date.now(),c.removeOrphanedDocuments(e,n)})).next((function(e){return s=Date.now(),Jw()<=Zu.DEBUG&&Xw("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(a-l,"ms\n\tDetermined least recently used ").concat(r," in ")+(o-a)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(u-o)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(s-u)+"ms\n"+"Total Duration: ".concat(s-l,"ms")),IS.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e})}))}}]),e}(),zE=function(){function e(t,n){Ka(this,e),this.db=t,this.garbageCollector=function(e,t){return new VE(e,t)}(this,n)}return Ha(e,[{key:"Cn",value:function(e){var t=this.kn(e);return this.db.getTargetCache().getTargetCount(e).next((function(e){return t.next((function(t){return e+t}))}))}},{key:"kn",value:function(e){var t=0;return this.xn(e,(function(e){t++})).next((function(){return t}))}},{key:"forEachTarget",value:function(e,t){return this.db.getTargetCache().forEachTarget(e,t)}},{key:"xn",value:function(e,t){return this.Mn(e,(function(e,n){return t(n)}))}},{key:"addReference",value:function(e,t,n){return BE(e,n)}},{key:"removeReference",value:function(e,t,n){return BE(e,n)}},{key:"removeTargets",value:function(e,t,n){return this.db.getTargetCache().removeTargets(e,t,n)}},{key:"markPotentiallyOrphaned",value:function(e,t){return BE(e,t)}},{key:"On",value:function(e,t){return function(e,t){var n=!1;return NE(e).zt((function(r){return EE(e,r,t).next((function(e){return e&&(n=!0),IS.resolve(!e)}))})).next((function(){return n}))}(e,t)}},{key:"removeOrphanedDocuments",value:function(e,t){var n=this,r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[],a=0;return this.Mn(e,(function(o,u){if(u<=t){var s=n.On(e,o).next((function(t){if(!t)return a++,r.getEntry(e,o).next((function(){return r.removeEntry(o,_b.min()),DE(e).delete([0,YI(o.path)])}))}));i.push(s)}})).next((function(){return IS.waitFor(i)})).next((function(){return r.apply(e)})).next((function(){return a}))}},{key:"removeTarget",value:function(e,t){var n=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,n)}},{key:"updateLimboDocument",value:function(e,t){return BE(e,t)}},{key:"Mn",value:function(e,t){var n,r=DE(e),i=mb.A;return r.Wt({index:"documentTargetsIndex"},(function(e,r){var a=Le(e,2),o=a[0],u=(a[1],r.path),s=r.sequenceNumber;0===o?(i!==mb.A&&t(new Kb(ZI(n)),i),i=s,n=u):i=mb.A})).next((function(){i!==mb.A&&t(new Kb(ZI(n)),i)}))}},{key:"getCacheSize",value:function(e){return this.db.getRemoteDocumentCache().getSize(e)}}]),e}();function BE(e,t){return DE(e).put(function(e,t){return{targetId:0,path:YI(e.path),sequenceNumber:t}}(t,e.currentSequenceNumber))}var qE=function(){function e(){Ka(this,e),this.changes=new X_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}return Ha(e,[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,vx.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?IS.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}]),e}(),WE=function(){function e(t){Ka(this,e),this.M=t}return Ha(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t,n){return HE(e).put(n)}},{key:"removeEntry",value:function(e,t,n){return HE(e).delete(function(e,t){var n=e.path.toArray();return[n.slice(0,n.length-2),n[n.length-2],BS(t),n[n.length-1]]}(t,n))}},{key:"updateMetadata",value:function(e,t){var n=this;return this.getMetadata(e).next((function(r){return r.byteSize+=t,n.Fn(e,r)}))}},{key:"getEntry",value:function(e,t){var n=this,r=vx.newInvalidDocument(t);return HE(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(QE(t))},(function(e,i){r=n.$n(t,i)})).next((function(){return r}))}},{key:"Bn",value:function(e,t){var n=this,r={size:0,document:vx.newInvalidDocument(t)};return HE(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(QE(t))},(function(e,i){r={document:n.$n(t,i),size:IE(i)}})).next((function(){return r}))}},{key:"getEntries",value:function(e,t){var n=this,r=eI();return this.Ln(e,t,(function(e,t){var i=n.$n(e,t);r=r.insert(e,i)})).next((function(){return r}))}},{key:"Un",value:function(e,t){var n=this,r=eI(),i=new Sx(Kb.comparator);return this.Ln(e,t,(function(e,t){var a=n.$n(e,t);r=r.insert(e,a),i=i.insert(e,IE(t))})).next((function(){return{documents:r,qn:i}}))}},{key:"Ln",value:function(e,t,n){if(t.isEmpty())return IS.resolve();var r=new Cx(YE);t.forEach((function(e){return r=r.add(e)}));var i=IDBKeyRange.bound(QE(r.first()),QE(r.last())),a=r.getIterator(),o=a.getNext();return HE(e).Wt({index:"documentKeyIndex",range:i},(function(e,t,r){for(var i=Kb.fromSegments([].concat(Wa(t.prefixPath),[t.collectionGroup,t.documentId]));o&&YE(o,i)<0;)n(o,null),o=a.getNext();o&&o.isEqual(i)&&(n(o,t),o=a.hasNext()?a.getNext():null),o?r.Ut(QE(o)):r.done()})).next((function(){for(;o;)n(o,null),o=a.hasNext()?a.getNext():null}))}},{key:"getAllFromCollection",value:function(e,t,n){var r=this,i=[t.popLast().toArray(),t.lastSegment(),BS(n.readTime),n.documentKey.path.isEmpty()?"":n.documentKey.path.lastSegment()],a=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return HE(e).qt(IDBKeyRange.bound(i,a,!0)).next((function(e){var t,n=eI(),i=du(e);try{for(i.s();!(t=i.n()).done;){var a=t.value,o=r.$n(Kb.fromSegments(a.prefixPath.concat(a.collectionGroup,a.documentId)),a);n=n.insert(o.key,o)}}catch(u){i.e(u)}finally{i.f()}return n}))}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){var i=this,a=eI(),o=$E(t,n),u=$E(t,_x.max());return HE(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(o,u,!0)},(function(e,t,n){var o=i.$n(Kb.fromSegments(t.prefixPath.concat(t.collectionGroup,t.documentId)),t);(a=a.insert(o.key,o)).size===r&&n.done()})).next((function(){return a}))}},{key:"newChangeBuffer",value:function(e){return new KE(this,!!e&&e.trackRemovals)}},{key:"getSize",value:function(e){return this.getMetadata(e).next((function(e){return e.byteSize}))}},{key:"getMetadata",value:function(e){return GE(e).get("remoteDocumentGlobalKey").next((function(e){return rb(!!e),e}))}},{key:"Fn",value:function(e,t){return GE(e).put("remoteDocumentGlobalKey",t)}},{key:"$n",value:function(e,t){if(t){var n=function(e,t){var n;if(t.document)n=DI(e.Jt,t.document,!!t.hasCommittedMutations);else if(t.noDocument){var r=Kb.fromSegments(t.noDocument.path),i=WS(t.noDocument.readTime);n=vx.newNoDocument(r,i),t.hasCommittedMutations&&n.setHasCommittedMutations()}else{if(!t.unknownDocument)return nb();var a=Kb.fromSegments(t.unknownDocument.path),o=WS(t.unknownDocument.version);n=vx.newUnknownDocument(a,o)}return t.readTime&&n.setReadTime(function(e){var t=new xb(e[0],e[1]);return _b.fromTimestamp(t)}(t.readTime)),n}(this.M,t);if(!n.isNoDocument()||!n.version.isEqual(_b.min()))return n}return vx.newInvalidDocument(e)}}]),e}(),KE=function(e){Ma(n,e);var t=Ba(n);function n(e,r){var i;return Ka(this,n),(i=t.call(this)).Kn=e,i.trackRemovals=r,i.Gn=new X_((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),i}return Ha(n,[{key:"applyChanges",value:function(e){var t=this,n=[],r=0,i=new Cx((function(e,t){return kb(e.canonicalString(),t.canonicalString())}));return this.changes.forEach((function(a,o){var u=t.Gn.get(a);if(n.push(t.Kn.removeEntry(e,a,u.readTime)),o.isValidDocument()){var s=zS(t.Kn.M,o);i=i.add(a.path.popLast());var c=IE(s);r+=c-u.size,n.push(t.Kn.addEntry(e,a,s))}else if(r-=u.size,t.trackRemovals){var l=zS(t.Kn.M,o.convertToNoDocument(_b.min()));n.push(t.Kn.addEntry(e,a,l))}})),i.forEach((function(r){n.push(t.Kn.indexManager.addToCollectionParentIndex(e,r))})),n.push(this.Kn.updateMetadata(e,r)),IS.waitFor(n)}},{key:"getFromCache",value:function(e,t){var n=this;return this.Kn.Bn(e,t).next((function(e){return n.Gn.set(t,{size:e.size,readTime:e.document.readTime}),e.document}))}},{key:"getAllFromCache",value:function(e,t){var n=this;return this.Kn.Un(e,t).next((function(e){var t=e.documents;return e.qn.forEach((function(e,r){n.Gn.set(e,{size:r,readTime:t.get(e).readTime})})),t}))}}]),n}(qE);function GE(e){return LS(e,"remoteDocumentGlobal")}function HE(e){return LS(e,"remoteDocumentsV14")}function QE(e){var t=e.path.toArray();return[t.slice(0,t.length-2),t[t.length-2],t[t.length-1]]}function $E(e,t){var n=t.documentKey.path.toArray();return[e,BS(t.readTime),n.slice(0,n.length-2),n.length>0?n[n.length-1]:""]}function YE(e,t){for(var n=e.path.toArray(),r=t.path.toArray(),i=0,a=0;a<n.length-2&&a<r.length-2;++a)if(i=kb(n[a],r[a]))return i;return(i=kb(n.length,r.length))||((i=kb(n[n.length-2],r[r.length-2]))||kb(n[n.length-1],r[r.length-1]))}var JE=function(){function e(t){Ka(this,e),this.M=t}return Ha(e,[{key:"kt",value:function(e,t,n,r){var i=this,a=new SS("createOrUpgrade",t);n<1&&r>=1&&(function(e){e.createObjectStore("owner")}(e),function(e){e.createObjectStore("mutationQueues",{keyPath:"userId"}),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",eS,{unique:!0}),e.createObjectStore("documentMutations")}(e),XE(e),function(e){e.createObjectStore("remoteDocuments")}(e));var o=IS.resolve();return n<3&&r>=3&&(0!==n&&(function(e){e.deleteObjectStore("targetDocuments"),e.deleteObjectStore("targets"),e.deleteObjectStore("targetGlobal")}(e),XE(e)),o=o.next((function(){return function(e){var t=e.store("targetGlobal"),n={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:_b.min().toTimestamp(),targetCount:0};return t.put("targetGlobalKey",n)}(a)}))),n<4&&r>=4&&(0!==n&&(o=o.next((function(){return function(e,t){return t.store("mutations").qt().next((function(n){e.deleteObjectStore("mutations"),e.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",eS,{unique:!0});var r=t.store("mutations"),i=n.map((function(e){return r.put(e)}));return IS.waitFor(i)}))}(e,a)}))),o=o.next((function(){!function(e){e.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)}))),n<5&&r>=5&&(o=o.next((function(){return i.Qn(a)}))),n<6&&r>=6&&(o=o.next((function(){return function(e){e.createObjectStore("remoteDocumentGlobal")}(e),i.jn(a)}))),n<7&&r>=7&&(o=o.next((function(){return i.Wn(a)}))),n<8&&r>=8&&(o=o.next((function(){return i.zn(e,a)}))),n<9&&r>=9&&(o=o.next((function(){!function(e){e.objectStoreNames.contains("remoteDocumentChanges")&&e.deleteObjectStore("remoteDocumentChanges")}(e)}))),n<10&&r>=10&&(o=o.next((function(){return i.Hn(a)}))),n<11&&r>=11&&(o=o.next((function(){!function(e){e.createObjectStore("bundles",{keyPath:"bundleId"})}(e),function(e){e.createObjectStore("namedQueries",{keyPath:"name"})}(e)}))),n<12&&r>=12&&(o=o.next((function(){!function(e){var t=e.createObjectStore("documentOverlays",{keyPath:vS});t.createIndex("collectionPathOverlayIndex",mS,{unique:!1}),t.createIndex("collectionGroupOverlayIndex",yS,{unique:!1})}(e)}))),n<13&&r>=13&&(o=o.next((function(){return function(e){var t=e.createObjectStore("remoteDocumentsV14",{keyPath:iS});t.createIndex("documentKeyIndex",aS),t.createIndex("collectionGroupIndex",oS)}(e)})).next((function(){return i.Jn(e,a)})).next((function(){return e.deleteObjectStore("remoteDocuments")}))),n<14&&r>=14&&(o=o.next((function(){!function(e){e.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),e.createObjectStore("indexState",{keyPath:fS}).createIndex("sequenceNumberIndex",hS,{unique:!1}),e.createObjectStore("indexEntries",{keyPath:dS}).createIndex("documentKeyIndex",pS,{unique:!1})}(e)}))),o}},{key:"jn",value:function(e){var t=0;return e.store("remoteDocuments").Wt((function(e,n){t+=IE(n)})).next((function(){var n={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",n)}))}},{key:"Qn",value:function(e){var t=this,n=e.store("mutationQueues"),r=e.store("mutations");return n.qt().next((function(n){return IS.forEach(n,(function(n){var i=IDBKeyRange.bound([n.userId,-1],[n.userId,n.lastAcknowledgedBatchId]);return r.qt("userMutationsIndex",i).next((function(r){return IS.forEach(r,(function(r){rb(r.userId===n.userId);var i=KS(t.M,r);return _E(e,n.userId,i).next((function(){}))}))}))}))}))}},{key:"Wn",value:function(e){var t=e.store("targetDocuments"),n=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next((function(e){var r=[];return n.Wt((function(n,i){var a=new Cb(n),o=function(e){return[0,YI(e)]}(a);r.push(t.get(o).next((function(n){return n?IS.resolve():function(n){return t.put({targetId:0,path:YI(n),sequenceNumber:e.highestListenSequenceNumber})}(a)})))})).next((function(){return IS.waitFor(r)}))}))}},{key:"zn",value:function(e,t){e.createObjectStore("collectionParents",{keyPath:lS});var n=t.store("collectionParents"),r=new pE,i=function(e){if(r.add(e)){var t=e.lastSegment(),i=e.popLast();return n.put({collectionId:t,parent:YI(i)})}};return t.store("remoteDocuments").Wt({jt:!0},(function(e,t){var n=new Cb(e);return i(n.popLast())})).next((function(){return t.store("documentMutations").Wt({jt:!0},(function(e,t){var n=Le(e,3),r=(n[0],n[1]),a=(n[2],ZI(r));return i(a.popLast())}))}))}},{key:"Hn",value:function(e){var t=this,n=e.store("targets");return n.Wt((function(e,r){var i=GS(r),a=HS(t.M,i);return n.put(a)}))}},{key:"Jn",value:function(e,t){var n=t.store("remoteDocuments"),r=[];return n.Wt((function(e,n){var i,a=t.store("remoteDocumentsV14"),o=(i=n,i.document?new Kb(Cb.fromString(i.document.name).popFirst(5)):i.noDocument?Kb.fromSegments(i.noDocument.path):i.unknownDocument?Kb.fromSegments(i.unknownDocument.path):nb()).path.toArray(),u={prefixPath:o.slice(0,o.length-2),collectionGroup:o[o.length-2],documentId:o[o.length-1],readTime:n.readTime||[0,0],unknownDocument:n.unknownDocument,noDocument:n.noDocument,document:n.document,hasCommittedMutations:!!n.hasCommittedMutations};r.push(a.put(u))})).next((function(){return IS.waitFor(r)}))}}]),e}();function XE(e){e.createObjectStore("targetDocuments",{keyPath:sS}).createIndex("documentTargetsIndex",cS,{unique:!0}),e.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",uS,{unique:!0}),e.createObjectStore("targetGlobal")}var ZE="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.",eT=function(){function e(t,n,r,i,a,o,u,s,c,l){var f=arguments.length>10&&void 0!==arguments[10]?arguments[10]:13;if(Ka(this,e),this.allowTabSynchronization=t,this.persistenceKey=n,this.clientId=r,this.Yn=a,this.window=o,this.document=u,this.Xn=c,this.Zn=l,this.ts=f,this.es=null,this.ns=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ss=null,this.inForeground=!1,this.rs=null,this.os=null,this.us=Number.NEGATIVE_INFINITY,this.cs=function(e){return Promise.resolve()},!e.vt())throw new ob(ab.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new zE(this,i),this.hs=n+"main",this.M=new VS(s),this.ls=new ES(this.hs,this.ts,new JE(this.M)),this.fs=new PE(this.referenceDelegate,this.M),this.ds=function(e){return new WE(e)}(this.M),this._s=new JS,this.window&&this.window.localStorage?this.ws=this.window.localStorage:(this.ws=null,!1===l&&Zw("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}return Ha(e,[{key:"start",value:function(){var e=this;return this.gs().then((function(){if(!e.isPrimary&&!e.allowTabSynchronization)throw new ob(ab.FAILED_PRECONDITION,ZE);return e.ys(),e.ps(),e.Is(),e.runTransaction("getHighestListenSequenceNumber","readonly",(function(t){return e.fs.getHighestSequenceNumber(t)}))})).then((function(t){e.es=new mb(t,e.Xn)})).then((function(){e.ns=!0})).catch((function(t){return e.ls&&e.ls.close(),Promise.reject(t)}))}},{key:"Ts",value:function(e){var t=this;return this.cs=function(){var n=Gu(Qu().mark((function n(r){return Qu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t.started){n.next=2;break}return n.abrupt("return",e(r));case 2:case"end":return n.stop()}}),n)})));return function(e){return n.apply(this,arguments)}}(),e(this.isPrimary)}},{key:"setDatabaseDeletedListener",value:function(e){this.ls.Ot(function(){var t=Gu(Qu().mark((function t(n){return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=null===n.newVersion,!t.t0){t.next=4;break}return t.next=4,e();case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())}},{key:"setNetworkEnabled",value:function(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Yn.enqueueAndForget(Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.started,!e.t0){e.next=4;break}return e.next=4,t.gs();case 4:case"end":return e.stop()}}),e)})))))}},{key:"gs",value:function(){var e=this;return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",(function(t){return nT(t).put({clientId:e.clientId,updateTimeMs:Date.now(),networkEnabled:e.networkEnabled,inForeground:e.inForeground}).next((function(){if(e.isPrimary)return e.Es(t).next((function(t){t||(e.isPrimary=!1,e.Yn.enqueueRetryable((function(){return e.cs(!1)})))}))})).next((function(){return e.As(t)})).next((function(n){return e.isPrimary&&!n?e.Rs(t).next((function(){return!1})):!!n&&e.bs(t).next((function(){return!0}))}))})).catch((function(t){if(NS(t))return Xw("IndexedDbPersistence","Failed to extend owner lease: ",t),e.isPrimary;if(!e.allowTabSynchronization)throw t;return Xw("IndexedDbPersistence","Releasing owner lease after error during lease refresh",t),!1})).then((function(t){e.isPrimary!==t&&e.Yn.enqueueRetryable((function(){return e.cs(t)})),e.isPrimary=t}))}},{key:"Es",value:function(e){var t=this;return tT(e).get("owner").next((function(e){return IS.resolve(t.Ps(e))}))}},{key:"Vs",value:function(e){return nT(e).delete(this.clientId)}},{key:"vs",value:function(){var e=Gu(Qu().mark((function e(){var t,n,r,i,a=this;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.isPrimary||this.Ss(this.us,18e5)){e.next=6;break}return this.us=Date.now(),e.next=4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",(function(e){var t=LS(e,"clientMetadata");return t.qt().next((function(e){var n=a.Ds(e,18e5),r=e.filter((function(e){return-1===n.indexOf(e)}));return IS.forEach(r,(function(e){return t.delete(e.clientId)})).next((function(){return r}))}))})).catch((function(){return[]}));case 4:if(t=e.sent,this.ws){n=du(t);try{for(n.s();!(r=n.n()).done;)i=r.value,this.ws.removeItem(this.Cs(i.clientId))}catch(o){n.e(o)}finally{n.f()}}case 6:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Is",value:function(){var e=this;this.os=this.Yn.enqueueAfterDelay("client_metadata_refresh",4e3,(function(){return e.gs().then((function(){return e.vs()})).then((function(){return e.Is()}))}))}},{key:"Ps",value:function(e){return!!e&&e.ownerId===this.clientId}},{key:"As",value:function(e){var t=this;return this.Zn?IS.resolve(!0):tT(e).get("owner").next((function(n){if(null!==n&&t.Ss(n.leaseTimestampMs,5e3)&&!t.xs(n.ownerId)){if(t.Ps(n)&&t.networkEnabled)return!0;if(!t.Ps(n)){if(!n.allowTabSynchronization)throw new ob(ab.FAILED_PRECONDITION,ZE);return!1}}return!(!t.networkEnabled||!t.inForeground)||nT(e).qt().next((function(e){return void 0===t.Ds(e,5e3).find((function(e){if(t.clientId!==e.clientId){var n=!t.networkEnabled&&e.networkEnabled,r=!t.inForeground&&e.inForeground,i=t.networkEnabled===e.networkEnabled;if(n||r&&i)return!0}return!1}))}))})).next((function(e){return t.isPrimary!==e&&Xw("IndexedDbPersistence","Client ".concat(e?"is":"is not"," eligible for a primary lease.")),e}))}},{key:"shutdown",value:function(){var e=Gu(Qu().mark((function e(){var t=this;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.ns=!1,this.Ns(),this.os&&(this.os.cancel(),this.os=null),this.ks(),this.Ms(),e.next=7,this.ls.runTransaction("shutdown","readwrite",["owner","clientMetadata"],(function(e){var n=new DS(e,mb.A);return t.Rs(n).next((function(){return t.Vs(n)}))}));case 7:this.ls.close(),this.Os();case 9:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ds",value:function(e,t){var n=this;return e.filter((function(e){return n.Ss(e.updateTimeMs,t)&&!n.xs(e.clientId)}))}},{key:"Fs",value:function(){var e=this;return this.runTransaction("getActiveClients","readonly",(function(t){return nT(t).qt().next((function(t){return e.Ds(t,18e5).map((function(e){return e.clientId}))}))}))}},{key:"started",get:function(){return this.ns}},{key:"getMutationQueue",value:function(e,t){return SE.Yt(e,this.M,t,this.referenceDelegate)}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getIndexManager",value:function(e){return new mE(e,this.M.Jt.databaseId)}},{key:"getDocumentOverlayCache",value:function(e){return eE.Yt(this.M,e)}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Xw("IndexedDbPersistence","Starting transaction:",e);var i,a,o="readonly"===t?"readonly":"readwrite",u=14===(i=this.ts)?bS:13===i?wS:12===i?kS:11===i?gS:void nb();return this.ls.runTransaction(e,o,u,(function(i){return a=new DS(i,r.es?r.es.next():mb.A),"readwrite-primary"===t?r.Es(a).next((function(e){return!!e||r.As(a)})).next((function(t){if(!t)throw Zw("Failed to obtain primary lease for action '".concat(e,"'.")),r.isPrimary=!1,r.Yn.enqueueRetryable((function(){return r.cs(!1)})),new ob(ab.FAILED_PRECONDITION,xS);return n(a)})).next((function(e){return r.bs(a).next((function(){return e}))})):r.$s(a).next((function(){return n(a)}))})).then((function(e){return a.raiseOnCommittedEvent(),e}))}},{key:"$s",value:function(e){var t=this;return tT(e).get("owner").next((function(e){if(null!==e&&t.Ss(e.leaseTimestampMs,5e3)&&!t.xs(e.ownerId)&&!t.Ps(e)&&!(t.Zn||t.allowTabSynchronization&&e.allowTabSynchronization))throw new ob(ab.FAILED_PRECONDITION,ZE)}))}},{key:"bs",value:function(e){var t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return tT(e).put("owner",t)}},{key:"Rs",value:function(e){var t=this,n=tT(e);return n.get("owner").next((function(e){return t.Ps(e)?(Xw("IndexedDbPersistence","Releasing primary lease."),n.delete("owner")):IS.resolve()}))}},{key:"Ss",value:function(e,t){var n=Date.now();return!(e<n-t)&&(!(e>n)||(Zw("Detected an update time that is in the future: ".concat(e," > ").concat(n)),!1))}},{key:"ys",value:function(){var e=this;null!==this.document&&"function"==typeof this.document.addEventListener&&(this.rs=function(){e.Yn.enqueueAndForget((function(){return e.inForeground="visible"===e.document.visibilityState,e.gs()}))},this.document.addEventListener("visibilitychange",this.rs),this.inForeground="visible"===this.document.visibilityState)}},{key:"ks",value:function(){this.rs&&(this.document.removeEventListener("visibilitychange",this.rs),this.rs=null)}},{key:"ps",value:function(){var e,t=this;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ss=function(){t.Ns(),!Eu()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")&&navigator.appVersion.match(/Version\/1[45]/)&&t.Yn.enterRestrictedMode(!0),t.Yn.enqueueAndForget((function(){return t.shutdown()}))},this.window.addEventListener("pagehide",this.ss))}},{key:"Ms",value:function(){this.ss&&(this.window.removeEventListener("pagehide",this.ss),this.ss=null)}},{key:"xs",value:function(e){var t;try{var n=null!==(null===(t=this.ws)||void 0===t?void 0:t.getItem(this.Cs(e)));return Xw("IndexedDbPersistence","Client '".concat(e,"' ").concat(n?"is":"is not"," zombied in LocalStorage")),n}catch(e){return Zw("IndexedDbPersistence","Failed to get zombied client id.",e),!1}}},{key:"Ns",value:function(){if(this.ws)try{this.ws.setItem(this.Cs(this.clientId),String(Date.now()))}catch(Qm){Zw("Failed to set zombie client id.",Qm)}}},{key:"Os",value:function(){if(this.ws)try{this.ws.removeItem(this.Cs(this.clientId))}catch(Qm){}}},{key:"Cs",value:function(e){return"firestore_zombie_".concat(this.persistenceKey,"_").concat(e)}}],[{key:"vt",value:function(){return ES.vt()}}]),e}();function tT(e){return LS(e,"owner")}function nT(e){return LS(e,"clientMetadata")}function rT(e,t){var n=e.projectId;return e.isDefaultDatabase||(n+="."+e.database),"firestore/"+t+"/"+n+"/"}var iT=function(){function e(t,n,r){Ka(this,e),this.ds=t,this.Bs=n,this.indexManager=r}return Ha(e,[{key:"Ls",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKey(e,t).next((function(r){return n.Us(e,t,r)}))}},{key:"Us",value:function(e,t,n){return this.ds.getEntry(e,t).next((function(e){var t,r=du(n);try{for(r.s();!(t=r.n()).done;){t.value.applyToLocalView(e)}}catch(i){r.e(i)}finally{r.f()}return e}))}},{key:"qs",value:function(e,t){e.forEach((function(e,n){var r,i=du(t);try{for(i.s();!(r=i.n()).done;){r.value.applyToLocalView(n)}}catch(a){i.e(a)}finally{i.f()}}))}},{key:"Ks",value:function(e,t){var n=this;return this.ds.getEntries(e,t).next((function(t){return n.Gs(e,t).next((function(){return t}))}))}},{key:"Gs",value:function(e,t){var n=this;return this.Bs.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){return n.qs(t,e)}))}},{key:"Qs",value:function(e,t,n){return function(e){return Kb.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.js(e,t.path):i_(t)?this.Ws(e,t,n):this.zs(e,t,n)}},{key:"js",value:function(e,t){return this.Ls(e,new Kb(t)).next((function(e){var t=nI();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"Ws",value:function(e,t,n){var r=this,i=t.collectionGroup,a=nI();return this.indexManager.getCollectionParents(e,i).next((function(o){return IS.forEach(o,(function(o){var u=function(e,t){return new Zx(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,o.child(i));return r.zs(e,u,n).next((function(e){e.forEach((function(e,t){a=a.insert(e,t)}))}))})).next((function(){return a}))}))}},{key:"zs",value:function(e,t,n){var r,i=this;return this.ds.getAllFromCollection(e,t.path,n).next((function(n){return r=n,i.Bs.getAllMutationBatchesAffectingQuery(e,t)})).next((function(e){var t,n=du(e);try{for(n.s();!(t=n.n()).done;){var i,a=t.value,o=du(a.mutations);try{for(o.s();!(i=o.n()).done;){var u=i.value,s=u.key,c=r.get(s);null==c&&(c=vx.newInvalidDocument(s),r=r.insert(s,c)),M_(u,c,a.localWriteTime),c.isFoundDocument()||(r=r.remove(s))}}catch(l){o.e(l)}finally{o.f()}}}catch(l){n.e(l)}finally{n.f()}})).next((function(){return r.forEach((function(e,n){f_(t,n)||(r=r.remove(e))})),r}))}}]),e}(),aT=function(){function e(t,n,r,i){Ka(this,e),this.targetId=t,this.fromCache=n,this.Hs=r,this.Js=i}return Ha(e,null,[{key:"Ys",value:function(t,n){var r,i=oI(),a=oI(),o=du(n.docChanges);try{for(o.s();!(r=o.n()).done;){var u=r.value;switch(u.type){case 0:i=i.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}}}catch(s){o.e(s)}finally{o.f()}return new e(t,n.fromCache,i,a)}}]),e}(),oT=function(){function e(){Ka(this,e),this.Xs=!1}return Ha(e,[{key:"initialize",value:function(e,t){this.Zs=e,this.indexManager=t,this.Xs=!0}},{key:"Qs",value:function(e,t,n,r){var i=this;return this.ti(e,t).next((function(a){return a||i.ei(e,t,r,n)})).next((function(n){return n||i.ni(e,t)}))}},{key:"ti",value:function(e,t){return IS.resolve(null)}},{key:"ei",value:function(e,t,n,r){var i=this;return function(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}(t)||r.isEqual(_b.min())?this.ni(e,t):this.Zs.Ks(e,n).next((function(a){var o=i.si(t,a);return i.ii(t,o,n,r)?i.ni(e,t):(Jw()<=Zu.DEBUG&&Xw("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),l_(t)),i.ri(e,o,t,bx(r,-1)))}))}},{key:"si",value:function(e,t){var n=new Cx(d_(e));return t.forEach((function(t,r){f_(e,r)&&(n=n.add(r))})),n}},{key:"ii",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"ni",value:function(e,t){return Jw()<=Zu.DEBUG&&Xw("QueryEngine","Using full collection scan to execute query:",l_(t)),this.Zs.Qs(e,t,_x.min())}},{key:"ri",value:function(e,t,n,r){return this.Zs.Qs(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}]),e}(),uT=function(){function e(t,n,r,i){Ka(this,e),this.persistence=t,this.oi=n,this.M=i,this.ui=new Sx(kb),this.ai=new X_((function(e){return Ox(e)}),Dx),this.ci=new Map,this.hi=t.getRemoteDocumentCache(),this.fs=t.getTargetCache(),this._s=t.getBundleCache(),this.li(r)}return Ha(e,[{key:"li",value:function(e){this.indexManager=this.persistence.getIndexManager(e),this.Bs=this.persistence.getMutationQueue(e,this.indexManager),this.fi=new iT(this.hi,this.Bs,this.indexManager),this.hi.setIndexManager(this.indexManager),this.oi.initialize(this.fi,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ui)}))}}]),e}();function sT(e,t,n,r){return new uT(e,t,n,r)}function cT(e,t){return lT.apply(this,arguments)}function lT(){return lT=Gu(Qu().mark((function e(t,n){var r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ib(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.Bs.getAllMutationBatches(e).next((function(i){return t=i,r.li(n),r.Bs.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],u=oI(),s=du(t);try{for(s.s();!(i=s.n()).done;){var c=i.value;a.push(c.batchId);var l,f=du(c.mutations);try{for(f.s();!(l=f.n()).done;){var h=l.value;u=u.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){s.e(k)}finally{s.f()}var d,p=du(n);try{for(p.s();!(d=p.n()).done;){var v=d.value;o.push(v.batchId);var m,y=du(v.mutations);try{for(y.s();!(m=y.n()).done;){var g=m.value;u=u.add(g.key)}}catch(k){y.e(k)}finally{y.f()}}}catch(k){p.e(k)}finally{p.f()}return r.fi.Ks(e,u).next((function(e){return{di:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),lT.apply(this,arguments)}function fT(e,t){var n=ib(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.hi.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=IS.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);rb(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.Bs.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}function hT(e){var t=ib(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.fs.getLastRemoteSnapshotVersion(e)}))}function dT(e,t){var n=ib(e),r=t.snapshotVersion,i=n.ui;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.hi.newChangeBuffer({trackRemovals:!0});i=n.ui;var o=[];t.targetChanges.forEach((function(a,u){var s=i.get(u);if(s){o.push(n.fs.removeMatchingKeys(e,a.removedDocuments,u).next((function(){return n.fs.addMatchingKeys(e,a.addedDocuments,u)})));var c=s.withSequenceNumber(e.currentSequenceNumber);t.targetMismatches.has(u)?c=c.withResumeToken(Rb.EMPTY_BYTE_STRING,_b.min()).withLastLimboFreeSnapshotVersion(_b.min()):a.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(a.resumeToken,r)),i=i.insert(u,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(s,c,a)&&o.push(n.fs.updateTargetData(e,c))}}));var u=eI();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(pT(e,a,t.documentUpdates).next((function(e){u=e}))),!r.isEqual(_b.min())){var s=n.fs.getLastRemoteSnapshotVersion(e).next((function(t){return n.fs.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(s)}return IS.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.fi.Gs(e,u)})).next((function(){return u}))})).then((function(e){return n.ui=i,e}))}function pT(e,t,n){var r=oI();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=eI();return n.forEach((function(n,i){var a=e.get(n);i.isNoDocument()&&i.version.isEqual(_b.min())?(t.removeEntry(n,i.readTime),r=r.insert(n,i)):!a.isValidDocument()||i.version.compareTo(a.version)>0||0===i.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(i),r=r.insert(n,i)):Xw("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",i.version)})),r}))}function vT(e,t){var n=ib(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.Bs.getNextMutationBatchAfterBatchId(e,t)}))}function mT(e,t){var n=ib(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.fs.getTargetData(e,t).next((function(i){return i?(r=i,IS.resolve(r)):n.fs.allocateTargetId(e).next((function(i){return r=new US(t,i,0,e.currentSequenceNumber),n.fs.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ui.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ui=n.ui.insert(e.targetId,e),n.ai.set(t,e.targetId)),e}))}function yT(e,t,n){return gT.apply(this,arguments)}function gT(){return gT=Gu(Qu().mark((function e(t,n,r){var i,a,o;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ib(t),a=i.ui.get(n),o=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",o,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),NS(e.t1)){e.next=12;break}throw e.t1;case 12:Xw("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ui=i.ui.remove(n),i.ai.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),gT.apply(this,arguments)}function kT(e,t,n){var r=ib(e),i=_b.min(),a=oI();return r.persistence.runTransaction("Execute query","readonly",(function(e){return function(e,t,n){var r=ib(e),i=r.ai.get(n);return void 0!==i?IS.resolve(r.ui.get(i)):r.fs.getTargetData(t,n)}(r,e,o_(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.fs.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.oi.Qs(e,t,n?i:_b.min(),n?a:oI())})).next((function(e){return xT(r,h_(t),e),{documents:e,_i:a}}))}))}function wT(e,t){var n=ib(e),r=ib(n.fs),i=n.ui.get(t);return i?Promise.resolve(i.target):n.persistence.runTransaction("Get target data","readonly",(function(e){return r.Et(e,t).next((function(e){return e?e.target:null}))}))}function bT(e,t){var n=ib(e),r=n.ci.get(t)||_b.min();return n.persistence.runTransaction("Get new document changes","readonly",(function(e){return n.hi.getAllFromCollectionGroup(e,t,bx(r,-1),Number.MAX_SAFE_INTEGER)})).then((function(e){return xT(n,t,e),e}))}function xT(e,t,n){var r=_b.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ci.set(t,r)}function _T(e,t,n,r){return IT.apply(this,arguments)}function IT(){return IT=Gu(Qu().mark((function e(t,n,r,i){var a,o,u,s,c,l,f,h,d,p;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=ib(t),o=oI(),u=eI(),s=du(r);try{for(s.s();!(c=s.n()).done;)l=c.value,f=n.wi(l.metadata.name),l.document&&(o=o.add(f)),(h=n.mi(l)).setReadTime(n.gi(l.metadata.readTime)),u=u.insert(f,h)}catch(v){s.e(v)}finally{s.f()}return d=a.hi.newChangeBuffer({trackRemovals:!0}),e.next=7,mT(a,function(e){return o_(t_(Cb.fromString("__bundle__/docs/".concat(e))))}(i));case 7:return p=e.sent,e.abrupt("return",a.persistence.runTransaction("Apply bundle documents","readwrite",(function(e){return pT(e,d,u).next((function(t){return d.apply(e),t})).next((function(t){return a.fs.removeMatchingKeysForTargetId(e,p.targetId).next((function(){return a.fs.addMatchingKeys(e,o,p.targetId)})).next((function(){return a.fi.Gs(e,t)})).next((function(){return t}))}))})));case 9:case"end":return e.stop()}}),e)}))),IT.apply(this,arguments)}function ST(e,t){return ET.apply(this,arguments)}function ET(){return ET=Gu(Qu().mark((function e(t,n){var r,i,a,o=arguments;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=o.length>2&&void 0!==o[2]?o[2]:oI(),e.next=3,mT(t,o_(QS(n.bundledQuery)));case 3:return i=e.sent,a=ib(t),e.abrupt("return",a.persistence.runTransaction("Save named query","readwrite",(function(e){var t=II(n.readTime);if(i.snapshotVersion.compareTo(t)>=0)return a._s.saveNamedQuery(e,n);var o=i.withResumeToken(Rb.EMPTY_BYTE_STRING,t);return a.ui=a.ui.insert(o.targetId,o),a.fs.updateTargetData(e,o).next((function(){return a.fs.removeMatchingKeysForTargetId(e,i.targetId)})).next((function(){return a.fs.addMatchingKeys(e,r,i.targetId)})).next((function(){return a._s.saveNamedQuery(e,n)}))})));case 6:case"end":return e.stop()}}),e)}))),ET.apply(this,arguments)}var TT=function(){function e(t){Ka(this,e),this.M=t,this.yi=new Map,this.pi=new Map}return Ha(e,[{key:"getBundleMetadata",value:function(e,t){return IS.resolve(this.yi.get(t))}},{key:"saveBundleMetadata",value:function(e,t){var n;return this.yi.set(t.id,{id:(n=t).id,version:n.version,createTime:II(n.createTime)}),IS.resolve()}},{key:"getNamedQuery",value:function(e,t){return IS.resolve(this.pi.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.pi.set(t.name,function(e){return{name:e.name,query:QS(e.bundledQuery),readTime:II(e.readTime)}}(t)),IS.resolve()}}]),e}(),CT=function(){function e(){Ka(this,e),this.overlays=new Sx(Kb.comparator),this.Ii=new Map}return Ha(e,[{key:"getOverlay",value:function(e,t){return IS.resolve(this.overlays.get(t))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.Xt(e,t,i)})),IS.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.Ii.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.Ii.delete(n)),IS.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=rI(),i=t.length+1,a=new Kb(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var u=o.getNext().value,s=u.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&u.largestBatchId>n&&r.set(u.getKey(),u)}return IS.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new Sx((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var u=i.get(o.largestBatchId);null===u&&(u=rI(),i=i.insert(o.largestBatchId,u)),u.set(o.getKey(),o)}}for(var s=rI(),c=i.getIterator();c.hasNext()&&(c.getNext().value.forEach((function(e,t){return s.set(e,t)})),!(s.size()>=r)););return IS.resolve(s)}},{key:"Xt",value:function(e,t,n){if(null!==n){var r=this.overlays.get(n.key);if(null!==r){var i=this.Ii.get(r.largestBatchId).delete(n.key);this.Ii.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new jS(t,n));var a=this.Ii.get(t);void 0===a&&(a=oI(),this.Ii.set(t,a)),this.Ii.set(t,a.add(n.key))}}}]),e}(),NT=function(){function e(){Ka(this,e),this.Ti=new Cx(AT.Ei),this.Ai=new Cx(AT.Ri)}return Ha(e,[{key:"isEmpty",value:function(){return this.Ti.isEmpty()}},{key:"addReference",value:function(e,t){var n=new AT(e,t);this.Ti=this.Ti.add(n),this.Ai=this.Ai.add(n)}},{key:"bi",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Pi(new AT(e,t))}},{key:"Vi",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"vi",value:function(e){var t=this,n=new Kb(new Cb([])),r=new AT(n,e),i=new AT(n,e+1),a=[];return this.Ai.forEachInRange([r,i],(function(e){t.Pi(e),a.push(e.key)})),a}},{key:"Si",value:function(){var e=this;this.Ti.forEach((function(t){return e.Pi(t)}))}},{key:"Pi",value:function(e){this.Ti=this.Ti.delete(e),this.Ai=this.Ai.delete(e)}},{key:"Di",value:function(e){var t=new Kb(new Cb([])),n=new AT(t,e),r=new AT(t,e+1),i=oI();return this.Ai.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new AT(e,0),n=this.Ti.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}]),e}(),AT=function(){function e(t,n){Ka(this,e),this.key=t,this.Ci=n}return Ha(e,null,[{key:"Ei",value:function(e,t){return Kb.comparator(e.key,t.key)||kb(e.Ci,t.Ci)}},{key:"Ri",value:function(e,t){return kb(e.Ci,t.Ci)||Kb.comparator(e.key,t.key)}}]),e}(),PT=function(){function e(t,n){Ka(this,e),this.indexManager=t,this.referenceDelegate=n,this.Bs=[],this.xi=1,this.Ni=new Cx(AT.Ei)}return Ha(e,[{key:"checkEmpty",value:function(e){return IS.resolve(0===this.Bs.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.xi;this.xi++,this.Bs.length>0&&this.Bs[this.Bs.length-1];var a=new MS(i,t,n,r);this.Bs.push(a);var o,u=du(r);try{for(u.s();!(o=u.n()).done;){var s=o.value;this.Ni=this.Ni.add(new AT(s.key,i)),this.indexManager.addToCollectionParentIndex(e,s.key.path.popLast())}}catch(c){u.e(c)}finally{u.f()}return IS.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return IS.resolve(this.ki(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.Mi(n),i=r<0?0:r;return IS.resolve(this.Bs.length>i?this.Bs[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return IS.resolve(0===this.Bs.length?-1:this.xi-1)}},{key:"getAllMutationBatches",value:function(e){return IS.resolve(this.Bs.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new AT(t,0),i=new AT(t,Number.POSITIVE_INFINITY),a=[];return this.Ni.forEachInRange([r,i],(function(e){var t=n.ki(e.Ci);a.push(t)})),IS.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Cx(kb);return t.forEach((function(e){var t=new AT(e,0),i=new AT(e,Number.POSITIVE_INFINITY);n.Ni.forEachInRange([t,i],(function(e){r=r.add(e.Ci)}))})),IS.resolve(this.Oi(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;Kb.isDocumentKey(i)||(i=i.child(""));var a=new AT(new Kb(i),0),o=new Cx(kb);return this.Ni.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.Ci)),!0)}),a),IS.resolve(this.Oi(o))}},{key:"Oi",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.ki(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;rb(0===this.Fi(t.batchId,"removed")),this.Bs.shift();var r=this.Ni;return IS.forEach(t.mutations,(function(i){var a=new AT(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.Ni=r}))}},{key:"_n",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new AT(t,0),r=this.Ni.firstAfterOrEqual(n);return IS.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.Bs.length,IS.resolve()}},{key:"Fi",value:function(e,t){return this.Mi(e)}},{key:"Mi",value:function(e){return 0===this.Bs.length?0:e-this.Bs[0].batchId}},{key:"ki",value:function(e){var t=this.Mi(e);return t<0||t>=this.Bs.length?null:this.Bs[t]}}]),e}(),RT=function(){function e(t){Ka(this,e),this.$i=t,this.docs=new Sx(Kb.comparator),this.size=0}return Ha(e,[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.$i(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return IS.resolve(n?n.document.mutableCopy():vx.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=eI();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():vx.newInvalidDocument(e))})),IS.resolve(r)}},{key:"getAllFromCollection",value:function(e,t,n){for(var r=eI(),i=new Kb(t.child("")),a=this.docs.getIteratorFrom(i);a.hasNext();){var o=a.getNext(),u=o.key,s=o.value.document;if(!t.isPrefixOf(u.path))break;u.path.length>t.length+1||Ix(xx(s),n)<=0||(r=r.insert(s.key,s.mutableCopy()))}return IS.resolve(r)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){nb()}},{key:"Bi",value:function(e,t){return IS.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new OT(this)}},{key:"getSize",value:function(e){return IS.resolve(this.size)}}]),e}(),OT=function(e){Ma(n,e);var t=Ba(n);function n(e){var r;return Ka(this,n),(r=t.call(this)).Kn=e,r}return Ha(n,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.Kn.addEntry(e,i)):t.Kn.removeEntry(r)})),IS.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.Kn.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.Kn.getEntries(e,t)}}]),n}(qE),DT=function(){function e(t){Ka(this,e),this.persistence=t,this.Li=new X_((function(e){return Ox(e)}),Dx),this.lastRemoteSnapshotVersion=_b.min(),this.highestTargetId=0,this.Ui=0,this.qi=new NT,this.targetCount=0,this.Ki=AE.gn()}return Ha(e,[{key:"forEachTarget",value:function(e,t){return this.Li.forEach((function(e,n){return t(n)})),IS.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return IS.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return IS.resolve(this.Ui)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Ki.next(),IS.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Ui&&(this.Ui=t),IS.resolve()}},{key:"Tn",value:function(e){this.Li.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Ki=new AE(t),this.highestTargetId=t),e.sequenceNumber>this.Ui&&(this.Ui=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.Tn(t),this.targetCount+=1,IS.resolve()}},{key:"updateTargetData",value:function(e,t){return this.Tn(t),IS.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Li.delete(t.target),this.qi.vi(t.targetId),this.targetCount-=1,IS.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Li.forEach((function(o,u){u.sequenceNumber<=t&&null===n.get(u.targetId)&&(r.Li.delete(o),a.push(r.removeMatchingKeysForTargetId(e,u.targetId)),i++)})),IS.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return IS.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Li.get(t)||null;return IS.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.qi.bi(t,n),IS.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.qi.Vi(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),IS.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.qi.vi(t),IS.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.qi.Di(t);return IS.resolve(n)}},{key:"containsKey",value:function(e,t){return IS.resolve(this.qi.containsKey(t))}}]),e}(),LT=function(){function e(t,n){var r=this;Ka(this,e),this.Gi={},this.overlays={},this.es=new mb(0),this.ns=!1,this.ns=!0,this.referenceDelegate=t(this),this.fs=new DT(this),this.indexManager=new dE,this.ds=new RT((function(e){return r.referenceDelegate.Qi(e)})),this.M=new VS(n),this._s=new TT(this.M)}return Ha(e,[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.ns=!1,Promise.resolve()}},{key:"started",get:function(){return this.ns}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new CT,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Gi[e.toKey()];return n||(n=new PT(t,this.referenceDelegate),this.Gi[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.fs}},{key:"getRemoteDocumentCache",value:function(){return this.ds}},{key:"getBundleCache",value:function(){return this._s}},{key:"runTransaction",value:function(e,t,n){var r=this;Xw("MemoryPersistence","Starting transaction:",e);var i=new MT(this.es.next());return this.referenceDelegate.ji(),n(i).next((function(e){return r.referenceDelegate.Wi(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"zi",value:function(e,t){return IS.or(Object.values(this.Gi).map((function(n){return function(){return n.containsKey(e,t)}})))}}]),e}(),MT=function(e){Ma(n,e);var t=Ba(n);function n(e){var r;return Ka(this,n),(r=t.call(this)).currentSequenceNumber=e,r}return Ha(n)}(_S),FT=function(){function e(t){Ka(this,e),this.persistence=t,this.Hi=new NT,this.Ji=null}return Ha(e,[{key:"Xi",get:function(){if(this.Ji)return this.Ji;throw nb()}},{key:"addReference",value:function(e,t,n){return this.Hi.addReference(n,t),this.Xi.delete(n.toString()),IS.resolve()}},{key:"removeReference",value:function(e,t,n){return this.Hi.removeReference(n,t),this.Xi.add(n.toString()),IS.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Xi.add(t.toString()),IS.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.Hi.vi(t.targetId).forEach((function(e){return n.Xi.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Xi.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"ji",value:function(){this.Ji=new Set}},{key:"Wi",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return IS.forEach(this.Xi,(function(r){var i=Kb.fromPath(r);return t.Zi(e,i).next((function(e){e||n.removeEntry(i,_b.min())}))})).next((function(){return t.Ji=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Zi(e,t).next((function(e){e?n.Xi.delete(t.toString()):n.Xi.add(t.toString())}))}},{key:"Qi",value:function(e){return 0}},{key:"Zi",value:function(e,t){var n=this;return IS.or([function(){return IS.resolve(n.Hi.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.zi(e,t)}])}}],[{key:"Yi",value:function(t){return new e(t)}}]),e}();function jT(e,t){return"firestore_clients_".concat(e,"_").concat(t)}function UT(e,t,n){var r="firestore_mutations_".concat(e,"_").concat(n);return t.isAuthenticated()&&(r+="_".concat(t.uid)),r}function VT(e,t){return"firestore_targets_".concat(e,"_").concat(t)}var zT=function(){function e(t,n,r,i){Ka(this,e),this.user=t,this.batchId=n,this.state=r,this.error=i}return Ha(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n,r){var i,a=JSON.parse(r),o="object"==typeof a&&-1!==["pending","acknowledged","rejected"].indexOf(a.state)&&(void 0===a.error||"object"==typeof a.error);return o&&a.error&&((o="string"==typeof a.error.message&&"string"==typeof a.error.code)&&(i=new ob(a.error.code,a.error.message))),o?new e(t,n,a.state,i):(Zw("SharedClientState","Failed to parse mutation state for ID '".concat(n,"': ").concat(r)),null)}}]),e}(),BT=function(){function e(t,n,r){Ka(this,e),this.targetId=t,this.state=n,this.error=r}return Ha(e,[{key:"er",value:function(){var e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}],[{key:"tr",value:function(t,n){var r,i=JSON.parse(n),a="object"==typeof i&&-1!==["not-current","current","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return a&&i.error&&((a="string"==typeof i.error.message&&"string"==typeof i.error.code)&&(r=new ob(i.error.code,i.error.message))),a?new e(t,i.state,r):(Zw("SharedClientState","Failed to parse target state for ID '".concat(t,"': ").concat(n)),null)}}]),e}(),qT=function(){function e(t,n){Ka(this,e),this.clientId=t,this.activeTargetIds=n}return Ha(e,null,[{key:"tr",value:function(t,n){for(var r=JSON.parse(n),i="object"==typeof r&&r.activeTargetIds instanceof Array,a=sI(),o=0;i&&o<r.activeTargetIds.length;++o)i=Wb(r.activeTargetIds[o]),a=a.add(r.activeTargetIds[o]);return i?new e(t,a):(Zw("SharedClientState","Failed to parse client data for instance '".concat(t,"': ").concat(n)),null)}}]),e}(),WT=function(){function e(t,n){Ka(this,e),this.clientId=t,this.onlineState=n}return Ha(e,null,[{key:"tr",value:function(t){var n=JSON.parse(t);return"object"==typeof n&&-1!==["Unknown","Online","Offline"].indexOf(n.onlineState)&&"string"==typeof n.clientId?new e(n.clientId,n.onlineState):(Zw("SharedClientState","Failed to parse online state: ".concat(t)),null)}}]),e}(),KT=function(){function e(){Ka(this,e),this.activeTargetIds=sI()}return Ha(e,[{key:"nr",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"sr",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"er",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}]),e}(),GT=function(){function e(t,n,r,i,a){Ka(this,e),this.window=t,this.Yn=n,this.persistenceKey=r,this.ir=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.rr=this.ur.bind(this),this.ar=new Sx(kb),this.started=!1,this.cr=[];var o=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=a,this.hr=jT(this.persistenceKey,this.ir),this.lr=function(e){return"firestore_sequence_number_".concat(e)}(this.persistenceKey),this.ar=this.ar.insert(this.ir,new KT),this.dr=new RegExp("^firestore_clients_".concat(o,"_([^_]*)$")),this._r=new RegExp("^firestore_mutations_".concat(o,"_(\\d+)(?:_(.*))?$")),this.wr=new RegExp("^firestore_targets_".concat(o,"_(\\d+)$")),this.mr=function(e){return"firestore_online_state_".concat(e)}(this.persistenceKey),this.gr=function(e){return"firestore_bundle_loaded_v2_".concat(e)}(this.persistenceKey),this.window.addEventListener("storage",this.rr)}return Ha(e,[{key:"start",value:function(){var e=Gu(Qu().mark((function e(){var t,n,r,i,a,o,u,s,c,l,f,h=this;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.syncEngine.Fs();case 2:t=e.sent,n=du(t),e.prev=4,n.s();case 6:if((r=n.n()).done){e.next=14;break}if((i=r.value)!==this.ir){e.next=10;break}return e.abrupt("continue",12);case 10:(a=this.getItem(jT(this.persistenceKey,i)))&&(o=qT.tr(i,a))&&(this.ar=this.ar.insert(o.clientId,o));case 12:e.next=6;break;case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(4),n.e(e.t0);case 19:return e.prev=19,n.f(),e.finish(19);case 22:this.yr(),(u=this.storage.getItem(this.mr))&&(s=this.pr(u))&&this.Ir(s),c=du(this.cr);try{for(c.s();!(l=c.n()).done;)f=l.value,this.ur(f)}catch(d){c.e(d)}finally{c.f()}this.cr=[],this.window.addEventListener("pagehide",(function(){return h.shutdown()})),this.started=!0;case 28:case"end":return e.stop()}}),e,this,[[4,16,19,22]])})));return function(){return e.apply(this,arguments)}}()},{key:"writeSequenceNumber",value:function(e){this.setItem(this.lr,JSON.stringify(e))}},{key:"getAllActiveQueryTargets",value:function(){return this.Tr(this.ar)}},{key:"isActiveQueryTarget",value:function(e){var t=!1;return this.ar.forEach((function(n,r){r.activeTargetIds.has(e)&&(t=!0)})),t}},{key:"addPendingMutation",value:function(e){this.Er(e,"pending")}},{key:"updateMutationState",value:function(e,t,n){this.Er(e,t,n),this.Ar(e)}},{key:"addLocalQueryTarget",value:function(e){var t="not-current";if(this.isActiveQueryTarget(e)){var n=this.storage.getItem(VT(this.persistenceKey,e));if(n){var r=BT.tr(e,n);r&&(t=r.state)}}return this.Rr.nr(e),this.yr(),t}},{key:"removeLocalQueryTarget",value:function(e){this.Rr.sr(e),this.yr()}},{key:"isLocalQueryTarget",value:function(e){return this.Rr.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){this.removeItem(VT(this.persistenceKey,e))}},{key:"updateQueryState",value:function(e,t,n){this.br(e,t,n)}},{key:"handleUserChange",value:function(e,t,n){var r=this;t.forEach((function(e){r.Ar(e)})),this.currentUser=e,n.forEach((function(e){r.addPendingMutation(e)}))}},{key:"setOnlineState",value:function(e){this.Pr(e)}},{key:"notifyBundleLoaded",value:function(e){this.Vr(e)}},{key:"shutdown",value:function(){this.started&&(this.window.removeEventListener("storage",this.rr),this.removeItem(this.hr),this.started=!1)}},{key:"getItem",value:function(e){var t=this.storage.getItem(e);return Xw("SharedClientState","READ",e,t),t}},{key:"setItem",value:function(e,t){Xw("SharedClientState","SET",e,t),this.storage.setItem(e,t)}},{key:"removeItem",value:function(e){Xw("SharedClientState","REMOVE",e),this.storage.removeItem(e)}},{key:"ur",value:function(e){var t=this,n=e;if(n.storageArea===this.storage){if(Xw("SharedClientState","EVENT",n.key,n.newValue),n.key===this.hr)return void Zw("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Yn.enqueueRetryable(Gu(Qu().mark((function e(){var r,i,a,o,u,s,c;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.started){e.next=43;break}if(null===n.key){e.next=41;break}if(!t.dr.test(n.key)){e.next=11;break}if(null!=n.newValue){e.next=6;break}return r=t.vr(n.key),e.abrupt("return",t.Sr(r,null));case 6:if(!(i=t.Dr(n.key,n.newValue))){e.next=9;break}return e.abrupt("return",t.Sr(i.clientId,i));case 9:e.next=41;break;case 11:if(!t._r.test(n.key)){e.next=18;break}if(null===n.newValue){e.next=16;break}if(!(a=t.Cr(n.key,n.newValue))){e.next=16;break}return e.abrupt("return",t.Nr(a));case 16:e.next=41;break;case 18:if(!t.wr.test(n.key)){e.next=25;break}if(null===n.newValue){e.next=23;break}if(!(o=t.kr(n.key,n.newValue))){e.next=23;break}return e.abrupt("return",t.Mr(o));case 23:e.next=41;break;case 25:if(n.key!==t.mr){e.next=32;break}if(null===n.newValue){e.next=30;break}if(!(u=t.pr(n.newValue))){e.next=30;break}return e.abrupt("return",t.Ir(u));case 30:e.next=41;break;case 32:if(n.key!==t.lr){e.next=37;break}s=function(e){var t=mb.A;if(null!=e)try{var n=JSON.parse(e);rb("number"==typeof n),t=n}catch(e){Zw("SharedClientState","Failed to read sequence number from WebStorage",e)}return t}(n.newValue),s!==mb.A&&t.sequenceNumberHandler(s),e.next=41;break;case 37:if(n.key!==t.gr){e.next=41;break}return c=t.Or(n.newValue),e.next=41,Promise.all(c.map((function(e){return t.syncEngine.Fr(e)})));case 41:e.next=44;break;case 43:t.cr.push(n);case 44:case"end":return e.stop()}}),e)}))))}}},{key:"Rr",get:function(){return this.ar.get(this.ir)}},{key:"yr",value:function(){this.setItem(this.hr,this.Rr.er())}},{key:"Er",value:function(e,t,n){var r=new zT(this.currentUser,e,t,n),i=UT(this.persistenceKey,this.currentUser,e);this.setItem(i,r.er())}},{key:"Ar",value:function(e){var t=UT(this.persistenceKey,this.currentUser,e);this.removeItem(t)}},{key:"Pr",value:function(e){var t={clientId:this.ir,onlineState:e};this.storage.setItem(this.mr,JSON.stringify(t))}},{key:"br",value:function(e,t,n){var r=VT(this.persistenceKey,e),i=new BT(e,t,n);this.setItem(r,i.er())}},{key:"Vr",value:function(e){var t=JSON.stringify(Array.from(e));this.setItem(this.gr,t)}},{key:"vr",value:function(e){var t=this.dr.exec(e);return t?t[1]:null}},{key:"Dr",value:function(e,t){var n=this.vr(e);return qT.tr(n,t)}},{key:"Cr",value:function(e,t){var n=this._r.exec(e),r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return zT.tr(new Qw(i),r,t)}},{key:"kr",value:function(e,t){var n=this.wr.exec(e),r=Number(n[1]);return BT.tr(r,t)}},{key:"pr",value:function(e){return WT.tr(e)}},{key:"Or",value:function(e){return JSON.parse(e)}},{key:"Nr",value:function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.user.uid!==this.currentUser.uid){e.next=2;break}return e.abrupt("return",this.syncEngine.$r(t.batchId,t.state,t.error));case 2:Xw("SharedClientState","Ignoring mutation for non-active user ".concat(t.user.uid));case 3:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Mr",value:function(e){return this.syncEngine.Br(e.targetId,e.state,e.error)}},{key:"Sr",value:function(e,t){var n=this,r=t?this.ar.insert(e,t):this.ar.remove(e),i=this.Tr(this.ar),a=this.Tr(r),o=[],u=[];return a.forEach((function(e){i.has(e)||o.push(e)})),i.forEach((function(e){a.has(e)||u.push(e)})),this.syncEngine.Lr(o,u).then((function(){n.ar=r}))}},{key:"Ir",value:function(e){this.ar.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}},{key:"Tr",value:function(e){var t=sI();return e.forEach((function(e,n){t=t.unionWith(n.activeTargetIds)})),t}}],[{key:"vt",value:function(e){return!(!e||!e.localStorage)}}]),e}(),HT=function(){function e(){Ka(this,e),this.Ur=new KT,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}return Ha(e,[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.Ur.nr(e),this.qr[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.qr[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.Ur.sr(e)}},{key:"isLocalQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.qr[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.Ur.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.Ur.activeTargetIds.has(e)}},{key:"start",value:function(){return this.Ur=new KT,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}]),e}(),QT=function(){function e(){Ka(this,e)}return Ha(e,[{key:"Kr",value:function(e){}},{key:"shutdown",value:function(){}}]),e}(),$T=function(){function e(){var t=this;Ka(this,e),this.Gr=function(){return t.Qr()},this.jr=function(){return t.Wr()},this.zr=[],this.Hr()}return Ha(e,[{key:"Kr",value:function(e){this.zr.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.Gr),window.removeEventListener("offline",this.jr)}},{key:"Hr",value:function(){window.addEventListener("online",this.Gr),window.addEventListener("offline",this.jr)}},{key:"Qr",value:function(){Xw("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=du(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"Wr",value:function(){Xw("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=du(this.zr);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"vt",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}]),e}(),YT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"},JT=function(){function e(t){Ka(this,e),this.Jr=t.Jr,this.Yr=t.Yr}return Ha(e,[{key:"Xr",value:function(e){this.Zr=e}},{key:"eo",value:function(e){this.no=e}},{key:"onMessage",value:function(e){this.so=e}},{key:"close",value:function(){this.Yr()}},{key:"send",value:function(e){this.Jr(e)}},{key:"io",value:function(){this.Zr()}},{key:"ro",value:function(e){this.no(e)}},{key:"oo",value:function(e){this.so(e)}}]),e}(),XT=function(e){Ma(n,e);var t=Ba(n);function n(e){var r;return Ka(this,n),(r=t.call(this,e)).forceLongPolling=e.forceLongPolling,r.autoDetectLongPolling=e.autoDetectLongPolling,r.useFetchStreams=e.useFetchStreams,r}return Ha(n,[{key:"fo",value:function(e,t,n,r){return new Promise((function(i,a){var o=new Gw;o.listenOnce(zw.COMPLETE,(function(){try{switch(o.getLastErrorCode()){case Vw.NO_ERROR:var t=o.getResponseJson();Xw("Connection","XHR received:",JSON.stringify(t)),i(t);break;case Vw.TIMEOUT:Xw("Connection",'RPC "'+e+'" timed out'),a(new ob(ab.DEADLINE_EXCEEDED,"Request time out"));break;case Vw.HTTP_ERROR:var n=o.getStatus();if(Xw("Connection",'RPC "'+e+'" failed with status:',n,"response text:",o.getResponseText()),n>0){var r=o.getResponseJson().error;if(r&&r.status&&r.message){var u=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(ab).indexOf(t)>=0?t:ab.UNKNOWN}(r.status);a(new ob(u,r.message))}else a(new ob(ab.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new ob(ab.UNAVAILABLE,"Connection failed."));break;default:nb()}}finally{Xw("Connection",'RPC "'+e+'" completed.')}}));var u=JSON.stringify(r);o.send(t,"POST",u,n,15)}))}},{key:"wo",value:function(e,t,n){var r=[this.uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=jw(),a=Uw(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(o.xmlHttpFactory=new Ww({})),this.lo(o.initMessageHeaders,t,n),Su()||Cu()||Iu().indexOf("Electron/")>=0||Nu()||Iu().indexOf("MSAppHost/")>=0||Tu()||(o.httpHeadersOverwriteParam="$httpHeaders");var u=r.join("");Xw("Connection","Creating WebChannel: "+u,o);var s=i.createWebChannel(u,o),c=!1,l=!1,f=new JT({Jr:function(e){l?Xw("Connection","Not sending because WebChannel is closed:",e):(c||(Xw("Connection","Opening WebChannel transport."),s.open(),c=!0),Xw("Connection","WebChannel sending:",e),s.send(e))},Yr:function(){return s.close()}}),h=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return h(s,Kw.EventType.OPEN,(function(){l||Xw("Connection","WebChannel transport opened.")})),h(s,Kw.EventType.CLOSE,(function(){l||(l=!0,Xw("Connection","WebChannel transport closed"),f.ro())})),h(s,Kw.EventType.ERROR,(function(e){l||(l=!0,eb("Connection","WebChannel transport errored:",e),f.ro(new ob(ab.UNAVAILABLE,"The operation could not be completed")))})),h(s,Kw.EventType.MESSAGE,(function(e){var t;if(!l){var n=e.data[0];rb(!!n);var r=n,i=r.error||(null===(t=r[0])||void 0===t?void 0:t.error);if(i){Xw("Connection","WebChannel received error:",i);var a=i.status,o=function(e){var t=K_[e];if(void 0!==t)return J_(t)}(a),u=i.message;void 0===o&&(o=ab.INTERNAL,u="Unknown error status: "+a+" with message "+i.message),l=!0,f.ro(new ob(o,u)),s.close()}else Xw("Connection","WebChannel received:",n),f.oo(n)}})),h(a,Bw.STAT_EVENT,(function(e){e.stat===qw.PROXY?Xw("Connection","Detected buffering proxy"):e.stat===qw.NOPROXY&&Xw("Connection","Detected no buffering proxy")})),setTimeout((function(){f.io()}),0),f}}]),n}(function(){function e(t){Ka(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http";this.uo=n+"://"+t.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}return Ha(e,[{key:"co",value:function(e,t,n,r,i){var a=this.ho(e,t);Xw("RestConnection","Sending: ",a,n);var o={};return this.lo(o,r,i),this.fo(e,a,o,n).then((function(e){return Xw("RestConnection","Received: ",e),e}),(function(t){throw eb("RestConnection","".concat(e," failed with error: "),t,"url: ",a,"request:",n),t}))}},{key:"_o",value:function(e,t,n,r,i){return this.co(e,t,n,r,i)}},{key:"lo",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+$w,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"ho",value:function(e,t){var n=YT[e];return"".concat(this.uo,"/v1/").concat(t,":").concat(n)}}]),e}());function ZT(){return"undefined"!=typeof window?window:null}function eC(){return"undefined"!=typeof document?document:null}function tC(e){return new wI(e,!0)}var nC=function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;Ka(this,e),this.Yn=t,this.timerId=n,this.mo=r,this.yo=i,this.po=a,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}return Ha(e,[{key:"reset",value:function(){this.Io=0}},{key:"Ao",value:function(){this.Io=this.po}},{key:"Ro",value:function(e){var t=this;this.cancel();var n=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,n-r);i>0&&Xw("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.Io," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.To=this.Yn.enqueueAfterDelay(this.timerId,i,(function(){return t.Eo=Date.now(),e()})),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}},{key:"Po",value:function(){null!==this.To&&(this.To.skipDelay(),this.To=null)}},{key:"cancel",value:function(){null!==this.To&&(this.To.cancel(),this.To=null)}},{key:"bo",value:function(){return(Math.random()-.5)*this.Io}}]),e}(),rC=function(){function e(t,n,r,i,a,o,u,s){Ka(this,e),this.Yn=t,this.Vo=r,this.vo=i,this.So=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=u,this.listener=s,this.state=0,this.Do=0,this.Co=null,this.xo=null,this.stream=null,this.No=new nC(t,n)}return Ha(e,[{key:"ko",value:function(){return 1===this.state||5===this.state||this.Mo()}},{key:"Mo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Oo()}},{key:"stop",value:function(){var e=Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.ko(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Fo",value:function(){this.state=0,this.No.reset()}},{key:"$o",value:function(){var e=this;this.Mo()&&null===this.Co&&(this.Co=this.Yn.enqueueAfterDelay(this.Vo,6e4,(function(){return e.Bo()})))}},{key:"Lo",value:function(e){this.Uo(),this.stream.send(e)}},{key:"Bo",value:function(){var e=Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Mo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Uo",value:function(){this.Co&&(this.Co.cancel(),this.Co=null)}},{key:"qo",value:function(){this.xo&&(this.xo.cancel(),this.xo=null)}},{key:"close",value:function(){var e=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.Uo(),this.qo(),this.No.cancel(),this.Do++,4!==t?this.No.reset():n&&n.code===ab.RESOURCE_EXHAUSTED?(Zw(n.toString()),Zw("Using maximum backoff delay to prevent overloading the backend."),this.No.Ao()):n&&n.code===ab.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.Ko(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.eo(n);case 9:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"Ko",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.Go(this.Do),n=this.Do;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=Le(t,2),i=r[0],a=r[1];e.Do===n&&e.Qo(i,a)}),(function(n){t((function(){var t=new ob(ab.UNKNOWN,"Fetching auth token failed: "+n.message);return e.jo(t)}))}))}},{key:"Qo",value:function(e,t){var n=this,r=this.Go(this.Do);this.stream=this.Wo(e,t),this.stream.Xr((function(){r((function(){return n.state=2,n.xo=n.Yn.enqueueAfterDelay(n.vo,1e4,(function(){return n.Mo()&&(n.state=3),Promise.resolve()})),n.listener.Xr()}))})),this.stream.eo((function(e){r((function(){return n.jo(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Oo",value:function(){var e=this;this.state=5,this.No.Ro(Gu(Qu().mark((function t(){return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"jo",value:function(e){return Xw("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"Go",value:function(e){var t=this;return function(n){t.Yn.enqueueAndForget((function(){return t.Do===e?n():(Xw("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]),e}(),iC=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i,a,o,u){var s;return Ka(this,n),(s=t.call(this,e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,i,a,u)).M=o,s}return Ha(n,[{key:"Wo",value:function(e,t){return this.So.wo("Listen",e,t)}},{key:"onMessage",value:function(e){this.No.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:nb()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.N?(rb(void 0===t||"string"==typeof t),Rb.fromBase64String(t||"")):(rb(void 0===t||t instanceof Uint8Array),Rb.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,u=o&&function(e){var t=void 0===e.code?ab.UNKNOWN:J_(e.code);return new ob(t,e.message||"")}(o);n=new dI(r,i,a,u||null)}else if("documentChange"in t){t.documentChange;var s=t.documentChange;s.document,s.document.name,s.document.updateTime;var c=CI(e,s.document.name),l=II(s.document.updateTime),f=new dx({mapValue:{fields:s.document.fields}}),h=vx.newFoundDocument(c,l,f),d=s.targetIds||[],p=s.removedTargetIds||[];n=new fI(d,p,h.key,h)}else if("documentDelete"in t){t.documentDelete;var v=t.documentDelete;v.document;var m=CI(e,v.document),y=v.readTime?II(v.readTime):_b.min(),g=vx.newNoDocument(m,y),k=v.removedTargetIds||[];n=new fI([],k,g.key,g)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var b=CI(e,w.document),x=w.removedTargetIds||[];n=new fI([],x,b,null)}else{if(!("filter"in t))return nb();t.filter;var _=t.filter;_.targetId;var I=_.count||0,S=new $_(I),E=_.targetId;n=new hI(E,S)}return n}(this.M,e),n=function(e){if(!("targetChange"in e))return _b.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?_b.min():t.readTime?II(t.readTime):_b.min()}(e);return this.listener.zo(t,n)}},{key:"Ho",value:function(e){var t={};t.database=PI(this.M),t.addTarget=function(e,t){var n,r=t.target;return(n=Lx(r)?{documents:jI(e,r)}:{query:UI(e,r)}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0?n.resumeToken=xI(e,t.resumeToken):t.snapshotVersion.compareTo(_b.min())>0&&(n.readTime=bI(e,t.snapshotVersion.toTimestamp())),n}(this.M,e);var n=function(e,t){var n=function(e,t){switch(t){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return nb()}}(0,t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.M,e);n&&(t.labels=n),this.Lo(t)}},{key:"Jo",value:function(e){var t={};t.database=PI(this.M),t.removeTarget=e,this.Lo(t)}}]),n}(rC),aC=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i,a,o,u){var s;return Ka(this,n),(s=t.call(this,e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,i,a,u)).M=o,s.Yo=!1,s}return Ha(n,[{key:"Xo",get:function(){return this.Yo}},{key:"start",value:function(){this.Yo=!1,this.lastStreamToken=void 0,wc(Fa(n.prototype),"start",this).call(this)}},{key:"Ko",value:function(){this.Yo&&this.Zo([])}},{key:"Wo",value:function(e,t){return this.So.wo("Write",e,t)}},{key:"onMessage",value:function(e){if(rb(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Yo){this.No.reset();var t=function(e,t){return e&&e.length>0?(rb(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?II(e.updateTime):II(t);return n.isEqual(_b.min())&&(n=II(t)),new P_(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=II(e.commitTime);return this.listener.tu(n,t)}return rb(!e.writeResults||0===e.writeResults.length),this.Yo=!0,this.listener.eu()}},{key:"nu",value:function(){var e={};e.database=PI(this.M),this.Lo(e)}},{key:"Zo",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return MI(t.M,e)}))};this.Lo(n)}}]),n}(rC),oC=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i,a){var o;return Ka(this,n),(o=t.call(this)).authCredentials=e,o.appCheckCredentials=r,o.So=i,o.M=a,o.su=!1,o}return Ha(n,[{key:"iu",value:function(){if(this.su)throw new ob(ab.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"co",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Le(i,2),o=a[0],u=a[1];return r.So.co(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ab.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ob(ab.UNKNOWN,e.toString())}))}},{key:"_o",value:function(e,t,n){var r=this;return this.iu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(i){var a=Le(i,2),o=a[0],u=a[1];return r.So._o(e,t,n,o,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===ab.UNAUTHENTICATED&&(r.authCredentials.invalidateToken(),r.appCheckCredentials.invalidateToken()),e):new ob(ab.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.su=!0}}]),n}(function(){return Ha((function e(){Ka(this,e)}))}()),uC=function(){function e(t,n){Ka(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.ru=0,this.ou=null,this.uu=!0}return Ha(e,[{key:"au",value:function(){var e=this;0===this.ru&&(this.cu("Unknown"),this.ou=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.ou=null,e.hu("Backend didn't respond within 10 seconds."),e.cu("Offline"),Promise.resolve()})))}},{key:"lu",value:function(e){"Online"===this.state?this.cu("Unknown"):(this.ru++,this.ru>=1&&(this.fu(),this.hu("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.cu("Offline")))}},{key:"set",value:function(e){this.fu(),this.ru=0,"Online"===e&&(this.uu=!1),this.cu(e)}},{key:"cu",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"hu",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.uu?(Zw(t),this.uu=!1):Xw("OnlineStateTracker",t)}},{key:"fu",value:function(){null!==this.ou&&(this.ou.cancel(),this.ou=null)}}]),e}(),sC=Ha((function e(t,n,r,i,a){var o=this;Ka(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.du=[],this._u=new Map,this.wu=new Set,this.mu=[],this.gu=a,this.gu.Kr((function(e){r.enqueueAndForget(Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=kC(o),!e.t0){e.next=5;break}return Xw("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=Gu(Qu().mark((function e(t){var n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ib(t)).wu.add(4),e.next=4,fC(n);case 4:return n.yu.set("Unknown"),n.wu.delete(4),e.next=8,cC(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(o);case 5:case"end":return e.stop()}}),e)}))))})),this.yu=new uC(r,i)}));function cC(e){return lC.apply(this,arguments)}function lC(){return lC=Gu(Qu().mark((function e(t){var n,r,i;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!kC(t)){e.next=18;break}n=du(t.mu),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),lC.apply(this,arguments)}function fC(e){return hC.apply(this,arguments)}function hC(){return hC=Gu(Qu().mark((function e(t){var n,r,i;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=du(t.mu),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),hC.apply(this,arguments)}function dC(e,t){var n=ib(e);n._u.has(t.targetId)||(n._u.set(t.targetId,t),gC(n)?yC(n):QC(n).Mo()&&vC(n,t))}function pC(e,t){var n=ib(e),r=QC(n);n._u.delete(t),r.Mo()&&mC(n,t),0===n._u.size&&(r.Mo()?r.$o():kC(n)&&n.yu.set("Unknown"))}function vC(e,t){e.pu.Z(t.targetId),QC(e).Ho(t)}function mC(e,t){e.pu.Z(t),QC(e).Jo(t)}function yC(e){e.pu=new vI({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},Et:function(t){return e._u.get(t)||null}}),QC(e).start(),e.yu.au()}function gC(e){return kC(e)&&!QC(e).ko()&&e._u.size>0}function kC(e){return 0===ib(e).wu.size}function wC(e){e.pu=void 0}function bC(e){return xC.apply(this,arguments)}function xC(){return xC=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t._u.forEach((function(e,n){vC(t,e)}));case 1:case"end":return e.stop()}}),e)}))),xC.apply(this,arguments)}function _C(e,t){return IC.apply(this,arguments)}function IC(){return IC=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:wC(t),gC(t)?(t.yu.lu(n),yC(t)):t.yu.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),IC.apply(this,arguments)}function SC(e,t,n){return EC.apply(this,arguments)}function EC(){return EC=Gu(Qu().mark((function e(t,n,r){var i;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.yu.set("Online"),!(n instanceof dI&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=Gu(Qu().mark((function e(t,n){var r,i,a,o;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=du(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(o=a.value,e.t0=t._u.has(o),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(o,r);case 10:t._u.delete(o),t.pu.removeTarget(o);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Xw("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,TC(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof fI?t.pu.ut(n):n instanceof hI?t.pu._t(n):t.pu.ht(n),r.isEqual(_b.min())){e.next=29;break}return e.prev=14,e.next=17,hT(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.pu.yt(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e._u.get(r);i&&e._u.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t){var n=e._u.get(t);if(n){e._u.set(t,n.withResumeToken(Rb.EMPTY_BYTE_STRING,n.snapshotVersion)),mC(e,t);var r=new US(n.target,t,1,n.sequenceNumber);vC(e,r)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Xw("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,TC(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),EC.apply(this,arguments)}function TC(e,t,n){return CC.apply(this,arguments)}function CC(){return CC=Gu(Qu().mark((function e(t,n,r){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(NS(n)){e.next=2;break}throw n;case 2:return t.wu.add(1),e.next=5,fC(t);case 5:t.yu.set("Offline"),r||(r=function(){return hT(t.localStore)}),t.asyncQueue.enqueueRetryable(Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xw("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.wu.delete(1),e.next=6,cC(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),CC.apply(this,arguments)}function NC(e,t){return t().catch((function(n){return TC(e,n,t)}))}function AC(e){return PC.apply(this,arguments)}function PC(){return PC=Gu(Qu().mark((function e(t){var n,r,i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=ib(t),r=$C(n),i=n.du.length>0?n.du[n.du.length-1].batchId:-1;case 2:if(!RC(n)){e.next=19;break}return e.prev=3,e.next=6,vT(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.du.length&&r.$o(),e.abrupt("break",19);case 10:i=a.batchId,OC(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,TC(n,e.t0);case 17:e.next=2;break;case 19:DC(n)&&LC(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),PC.apply(this,arguments)}function RC(e){return kC(e)&&e.du.length<10}function OC(e,t){e.du.push(t);var n=$C(e);n.Mo()&&n.Xo&&n.Zo(t.mutations)}function DC(e){return kC(e)&&!$C(e).ko()&&e.du.length>0}function LC(e){$C(e).start()}function MC(e){return FC.apply(this,arguments)}function FC(){return FC=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$C(t).nu();case 1:case"end":return e.stop()}}),e)}))),FC.apply(this,arguments)}function jC(e){return UC.apply(this,arguments)}function UC(){return UC=Gu(Qu().mark((function e(t){var n,r,i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=$C(t),r=du(t.du);try{for(r.s();!(i=r.n()).done;)a=i.value,n.Zo(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),UC.apply(this,arguments)}function VC(e,t,n){return zC.apply(this,arguments)}function zC(){return zC=Gu(Qu().mark((function e(t,n,r){var i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.du.shift(),a=FS.from(i,n,r),e.next=3,NC(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,AC(t);case 5:case"end":return e.stop()}}),e)}))),zC.apply(this,arguments)}function BC(e,t){return qC.apply(this,arguments)}function qC(){return qC=Gu(Qu().mark((function e(t,n){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&$C(t).Xo,!e.t0){e.next=4;break}return e.next=4,function(){var e=Gu(Qu().mark((function e(t,n){var r,i;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Y_(i=n.code)||i===ab.ABORTED){e.next=7;break}return r=t.du.shift(),$C(t).Fo(),e.next=5,NC(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,AC(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:DC(t)&&LC(t);case 5:case"end":return e.stop()}}),e)}))),qC.apply(this,arguments)}function WC(e,t){return KC.apply(this,arguments)}function KC(){return KC=Gu(Qu().mark((function e(t,n){var r,i;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=ib(t)).asyncQueue.verifyOperationInProgress(),Xw("RemoteStore","RemoteStore received new credentials"),i=kC(r),r.wu.add(3),e.next=6,fC(r);case 6:return i&&r.yu.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.wu.delete(3),e.next=12,cC(r);case 12:case"end":return e.stop()}}),e)}))),KC.apply(this,arguments)}function GC(e,t){return HC.apply(this,arguments)}function HC(){return HC=Gu(Qu().mark((function e(t,n){var r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ib(t),!n){e.next=7;break}return r.wu.delete(2),e.next=5,cC(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.wu.add(2),e.next=12,fC(r);case 12:r.yu.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),HC.apply(this,arguments)}function QC(e){return e.Iu||(e.Iu=function(e,t,n){var r=ib(e);return r.iu(),new iC(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:bC.bind(null,e),eo:_C.bind(null,e),zo:SC.bind(null,e)}),e.mu.push(function(){var t=Gu(Qu().mark((function t(n){return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.Iu.Fo(),gC(e)?yC(e):e.yu.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.Iu.stop();case 6:wC(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Iu}function $C(e){return e.Tu||(e.Tu=function(e,t,n){var r=ib(e);return r.iu(),new aC(t,r.So,r.authCredentials,r.appCheckCredentials,r.M,n)}(e.datastore,e.asyncQueue,{Xr:MC.bind(null,e),eo:BC.bind(null,e),eu:jC.bind(null,e),tu:VC.bind(null,e)}),e.mu.push(function(){var t=Gu(Qu().mark((function t(n){return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.Tu.Fo(),t.next=4,AC(e);case 4:t.next=9;break;case 6:return t.next=8,e.Tu.stop();case 8:e.du.length>0&&(Xw("RemoteStore","Stopping write stream with ".concat(e.du.length," pending writes")),e.du=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.Tu}var YC=function(){function e(t,n,r,i,a){Ka(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ub,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return Ha(e,[{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ob(ab.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}]),e}();function JC(e,t){if(Zw("AsyncQueue","".concat(t,": ").concat(e)),NS(e))return new ob(ab.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}var XC=function(){function e(t){Ka(this,e),this.comparator=t?function(e,n){return t(e,n)||Kb.comparator(e.key,n.key)}:function(e,t){return Kb.comparator(e.key,t.key)},this.keyedMap=nI(),this.sortedSet=new Sx(this.comparator)}return Ha(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}]),e}(),ZC=function(){function e(){Ka(this,e),this.Eu=new Sx(Kb.comparator)}return Ha(e,[{key:"track",value:function(e){var t=e.doc.key,n=this.Eu.get(t);n?0!==e.type&&3===n.type?this.Eu=this.Eu.insert(t,e):3===e.type&&1!==n.type?this.Eu=this.Eu.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.Eu=this.Eu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.Eu=this.Eu.remove(t):1===e.type&&2===n.type?this.Eu=this.Eu.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.Eu=this.Eu.insert(t,{type:2,doc:e.doc}):nb():this.Eu=this.Eu.insert(t,e)}},{key:"Au",value:function(){var e=[];return this.Eu.inorderTraversal((function(t,n){e.push(n)})),e}}]),e}(),eN=function(){function e(t,n,r,i,a,o,u,s){Ka(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=u,this.excludesMetadataChanges=s}return Ha(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&s_(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i){var a=[];return n.forEach((function(e){a.push({type:0,doc:e})})),new e(t,n,XC.emptySet(n),a,r,i,!0,!1)}}]),e}(),tN=Ha((function e(){Ka(this,e),this.Ru=void 0,this.listeners=[]})),nN=Ha((function e(){Ka(this,e),this.queries=new X_((function(e){return c_(e)}),s_),this.onlineState="Unknown",this.bu=new Set}));function rN(e,t){return iN.apply(this,arguments)}function iN(){return iN=Gu(Qu().mark((function e(t,n){var r,i,a,o,u;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ib(t),i=n.query,a=!1,(o=r.queries.get(i))||(a=!0,o=new tN),!a){e.next=13;break}return e.prev=3,e.next=6,r.onListen(i);case 6:o.Ru=e.sent,e.next=13;break;case 9:return e.prev=9,e.t0=e.catch(3),u=JC(e.t0,"Initialization of query '".concat(l_(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 13:r.queries.set(i,o),o.listeners.push(n),n.Pu(r.onlineState),o.Ru&&n.Vu(o.Ru)&&cN(r);case 14:case"end":return e.stop()}}),e,null,[[3,9]])}))),iN.apply(this,arguments)}function aN(e,t){return oN.apply(this,arguments)}function oN(){return oN=Gu(Qu().mark((function e(t,n){var r,i,a,o,u;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ib(t),i=n.query,a=!1,(o=r.queries.get(i))&&(u=o.listeners.indexOf(n))>=0&&(o.listeners.splice(u,1),a=0===o.listeners.length),!a){e.next=6;break}return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i)));case 6:case"end":return e.stop()}}),e)}))),oN.apply(this,arguments)}function uN(e,t){var n,r=ib(e),i=!1,a=du(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,u=o.query,s=r.queries.get(u);if(s){var c,l=du(s.listeners);try{for(l.s();!(c=l.n()).done;){c.value.Vu(o)&&(i=!0)}}catch(f){l.e(f)}finally{l.f()}s.Ru=o}}}catch(f){a.e(f)}finally{a.f()}i&&cN(r)}function sN(e,t,n){var r=ib(e),i=r.queries.get(t);if(i){var a,o=du(i.listeners);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(u){o.e(u)}finally{o.f()}}r.queries.delete(t)}function cN(e){e.bu.forEach((function(e){e.next()}))}var lN=function(){function e(t,n,r){Ka(this,e),this.query=t,this.vu=n,this.Su=!1,this.Du=null,this.onlineState="Unknown",this.options=r||{}}return Ha(e,[{key:"Vu",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=du(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new eN(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}var a=!1;return this.Su?this.Cu(e)&&(this.vu.next(e),a=!0):this.xu(e,this.onlineState)&&(this.Nu(e),a=!0),this.Du=e,a}},{key:"onError",value:function(e){this.vu.error(e)}},{key:"Pu",value:function(e){this.onlineState=e;var t=!1;return this.Du&&!this.Su&&this.xu(this.Du,e)&&(this.Nu(this.Du),t=!0),t}},{key:"xu",value:function(e,t){if(!e.fromCache)return!0;var n="Offline"!==t;return(!this.options.ku||!n)&&(!e.docs.isEmpty()||"Offline"===t)}},{key:"Cu",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Du&&this.Du.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"Nu",value:function(e){e=eN.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.Su=!0,this.vu.next(e)}}]),e}(),fN=function(){function e(t,n){Ka(this,e),this.payload=t,this.byteLength=n}return Ha(e,[{key:"Mu",value:function(){return"metadata"in this.payload}}]),e}(),hN=function(){function e(t){Ka(this,e),this.M=t}return Ha(e,[{key:"wi",value:function(e){return CI(this.M,e)}},{key:"mi",value:function(e){return e.metadata.exists?DI(this.M,e.document,!1):vx.newNoDocument(this.wi(e.metadata.name),this.gi(e.metadata.readTime))}},{key:"gi",value:function(e){return II(e)}}]),e}(),dN=function(){function e(t,n,r){Ka(this,e),this.Ou=t,this.localStore=n,this.M=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=pN(t)}return Ha(e,[{key:"Fu",value:function(e){this.progress.bytesLoaded+=e.byteLength;var t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;var n=Cb.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(n.get(n.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}},{key:"$u",value:function(e){var t,n=new Map,r=new hN(this.M),i=du(e);try{for(i.s();!(t=i.n()).done;){var a=t.value;if(a.metadata.queries){var o,u=r.wi(a.metadata.name),s=du(a.metadata.queries);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=(n.get(c)||oI()).add(u);n.set(c,l)}}catch(f){s.e(f)}finally{s.f()}}}}catch(f){i.e(f)}finally{i.f()}return n}},{key:"complete",value:function(){var e=Gu(Qu().mark((function e(){var t,n,r,i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,_T(this.localStore,new hN(this.M),this.documents,this.Ou.id);case 2:t=e.sent,n=this.$u(this.documents),r=du(this.queries),e.prev=5,r.s();case 7:if((i=r.n()).done){e.next=13;break}return a=i.value,e.next=11,ST(this.localStore,a,n.get(a.name));case 11:e.next=7;break;case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(5),r.e(e.t0);case 18:return e.prev=18,r.f(),e.finish(18);case 21:return e.abrupt("return",(this.progress.taskState="Success",{progress:this.progress,Bu:this.collectionGroups,Lu:t}));case 22:case"end":return e.stop()}}),e,this,[[5,15,18,21]])})));return function(){return e.apply(this,arguments)}}()}]),e}();function pN(e){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}var vN=Ha((function e(t){Ka(this,e),this.key=t})),mN=Ha((function e(t){Ka(this,e),this.key=t})),yN=function(){function e(t,n){Ka(this,e),this.query=t,this.Uu=n,this.qu=null,this.current=!1,this.Ku=oI(),this.mutatedKeys=oI(),this.Gu=d_(t),this.Qu=new XC(this.Gu)}return Ha(e,[{key:"ju",get:function(){return this.Uu}},{key:"Wu",value:function(e,t){var n=this,r=t?t.zu:new ZC,i=t?t.Qu:this.Qu,a=t?t.mutatedKeys:this.mutatedKeys,o=i,u=!1,s="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,c="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var l=i.get(e),f=f_(n.query,t)?t:null,h=!!l&&n.mutatedKeys.has(l.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),p=!1;l&&f?l.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),p=!0):n.Hu(l,f)||(r.track({type:2,doc:f}),p=!0,(s&&n.Gu(f,s)>0||c&&n.Gu(f,c)<0)&&(u=!0)):!l&&f?(r.track({type:0,doc:f}),p=!0):l&&!f&&(r.track({type:1,doc:l}),p=!0,(s||c)&&(u=!0)),p&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var l="F"===this.query.limitType?o.last():o.first();o=o.delete(l.key),a=a.delete(l.key),r.track({type:1,doc:l})}return{Qu:o,zu:r,ii:u,mutatedKeys:a}}},{key:"Hu",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n){var r=this,i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;var a=e.zu.Au();a.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return nb()}};return n(e)-n(t)}(e.type,t.type)||r.Gu(e.doc,t.doc)})),this.Ju(n);var o=t?this.Yu():[],u=0===this.Ku.size&&this.current?1:0,s=u!==this.qu;return this.qu=u,0!==a.length||s?{snapshot:new eN(this.query,e.Qu,i,a,e.mutatedKeys,0===u,s,!1),Xu:o}:{Xu:o}}},{key:"Pu",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new ZC,mutatedKeys:this.mutatedKeys,ii:!1},!1)):{Xu:[]}}},{key:"Zu",value:function(e){return!this.Uu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}},{key:"Ju",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.Uu=t.Uu.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.Uu=t.Uu.delete(e)})),this.current=e.current)}},{key:"Yu",value:function(){var e=this;if(!this.current)return[];var t=this.Ku;this.Ku=oI(),this.Qu.forEach((function(t){e.Zu(t.key)&&(e.Ku=e.Ku.add(t.key))}));var n=[];return t.forEach((function(t){e.Ku.has(t)||n.push(new mN(t))})),this.Ku.forEach((function(e){t.has(e)||n.push(new vN(e))})),n}},{key:"ta",value:function(e){this.Uu=e._i,this.Ku=oI();var t=this.Wu(e.documents);return this.applyChanges(t,!0)}},{key:"ea",value:function(){return eN.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.qu)}}]),e}(),gN=Ha((function e(t,n,r){Ka(this,e),this.query=t,this.targetId=n,this.view=r})),kN=Ha((function e(t){Ka(this,e),this.key=t,this.na=!1})),wN=function(){function e(t,n,r,i,a,o){Ka(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.sa={},this.ia=new X_((function(e){return c_(e)}),s_),this.ra=new Map,this.oa=new Set,this.ua=new Sx(Kb.comparator),this.aa=new Map,this.ca=new NT,this.ha={},this.la=new Map,this.fa=AE.yn(),this.onlineState="Unknown",this.da=void 0}return Ha(e,[{key:"isPrimaryClient",get:function(){return!0===this.da}}]),e}();function bN(e,t){return xN.apply(this,arguments)}function xN(){return xN=Gu(Qu().mark((function e(t,n){var r,i,a,o,u,s;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=pA(t),!(o=r.ia.get(n))){e.next=6;break}i=o.targetId,r.sharedClientState.addLocalQueryTarget(i),a=o.view.ea(),e.next=15;break;case 6:return e.next=8,mT(r.localStore,o_(n));case 8:return u=e.sent,r.isPrimaryClient&&dC(r.remoteStore,u),s=r.sharedClientState.addLocalQueryTarget(u.targetId),i=u.targetId,e.next=14,_N(r,n,i,"current"===s);case 14:a=e.sent;case 15:return e.abrupt("return",a);case 16:case"end":return e.stop()}}),e)}))),xN.apply(this,arguments)}function _N(e,t,n,r){return IN.apply(this,arguments)}function IN(){return IN=Gu(Qu().mark((function e(t,n,r,i){var a,o,u,s,c,l;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t._a=function(e,n,r){return function(){var e=Gu(Qu().mark((function e(t,n,r,i){var a,o,u;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Wu(r),e.t0=a.ii,!e.t0){e.next=6;break}return e.next=5,kT(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Wu(t,a)}));case 5:a=e.sent;case 6:return o=i&&i.targetChanges.get(n.targetId),u=n.view.applyChanges(a,t.isPrimaryClient,o),e.abrupt("return",(WN(t,n.targetId,u.Xu),u.snapshot));case 8:case"end":return e.stop()}}),e)})));return function(t,n,r,i){return e.apply(this,arguments)}}()(t,e,n,r)},e.next=3,kT(t.localStore,n,!0);case 3:return a=e.sent,o=new yN(n,a._i),u=o.Wu(a.documents),s=lI.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState),c=o.applyChanges(u,t.isPrimaryClient,s),WN(t,r,c.Xu),l=new gN(n,r,o),e.abrupt("return",(t.ia.set(n,l),t.ra.has(r)?t.ra.get(r).push(n):t.ra.set(r,[n]),c.snapshot));case 11:case"end":return e.stop()}}),e)}))),IN.apply(this,arguments)}function SN(e,t){return EN.apply(this,arguments)}function EN(){return EN=Gu(Qu().mark((function e(t,n){var r,i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=ib(t),i=r.ia.get(n),!((a=r.ra.get(i.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(r.ra.set(i.targetId,a.filter((function(e){return!s_(e,n)}))),void r.ia.delete(n)));case 3:if(!r.isPrimaryClient){e.next=11;break}if(r.sharedClientState.removeLocalQueryTarget(i.targetId),e.t0=r.sharedClientState.isActiveQueryTarget(i.targetId),e.t0){e.next=9;break}return e.next=9,yT(r.localStore,i.targetId,!1).then((function(){r.sharedClientState.clearQueryState(i.targetId),pC(r.remoteStore,i.targetId),BN(r,i.targetId)})).catch(LE);case 9:e.next=14;break;case 11:return BN(r,i.targetId),e.next=14,yT(r.localStore,i.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),EN.apply(this,arguments)}function TN(e,t,n){return CN.apply(this,arguments)}function CN(){return CN=Gu(Qu().mark((function e(t,n,r){var i,a,o;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=vA(t),e.prev=1,e.next=4,function(e,t){var n,r=ib(e),i=xb.now(),a=t.reduce((function(e,t){return e.add(t.key)}),oI());return r.persistence.runTransaction("Locally write mutations","readwrite",(function(e){return r.fi.Ks(e,a).next((function(a){n=a;var o,u=[],s=du(t);try{for(s.s();!(o=s.n()).done;){var c=o.value,l=F_(c,n.get(c.key));null!=l&&u.push(new z_(c.key,l,px(l.value.mapValue),R_.exists(!0)))}}catch(f){s.e(f)}finally{s.f()}return r.Bs.addMutationBatch(e,i,u,t)}))})).then((function(e){return e.applyToLocalDocumentSet(n),{batchId:e.batchId,changes:n}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.ha[e.currentUser.toKey()];r||(r=new Sx(kb)),r=r.insert(t,n),e.ha[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,HN(i,a.changes);case 9:return e.next=11,AC(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),o=JC(e.t0,"Failed to persist write"),r.reject(o);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),CN.apply(this,arguments)}function NN(e,t){return AN.apply(this,arguments)}function AN(){return AN=Gu(Qu().mark((function e(t,n){var r,i;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ib(t),e.prev=1,e.next=4,dT(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.aa.get(t);n&&(rb(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.na=!0:e.modifiedDocuments.size>0?rb(n.na):e.removedDocuments.size>0&&(rb(n.na),n.na=!1))})),e.next=8,HN(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,LE(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),AN.apply(this,arguments)}function PN(e,t,n){var r=ib(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.ia.forEach((function(e,n){var r=n.view.Pu(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=ib(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=du(n.listeners);try{for(a.s();!(i=a.n()).done;){i.value.Pu(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&cN(n)}(r.eventManager,t),i.length&&r.sa.zo(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function RN(e,t,n){return ON.apply(this,arguments)}function ON(){return ON=Gu(Qu().mark((function e(t,n,r){var i,a,o,u,s,c;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=ib(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.aa.get(n),!(o=a&&a.key)){e.next=14;break}return u=(u=new Sx(Kb.comparator)).insert(o,vx.newNoDocument(o,_b.min())),s=oI().add(o),c=new cI(_b.min(),new Map,new Cx(kb),u,s),e.next=9,NN(i,c);case 9:i.ua=i.ua.remove(o),i.aa.delete(n),GN(i),e.next=16;break;case 14:return e.next=16,yT(i.localStore,n,!1).then((function(){return BN(i,n,r)})).catch(LE);case 16:case"end":return e.stop()}}),e)}))),ON.apply(this,arguments)}function DN(e,t){return LN.apply(this,arguments)}function LN(){return LN=Gu(Qu().mark((function e(t,n){var r,i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ib(t),i=n.batch.batchId,e.prev=1,e.next=4,fT(r.localStore,n);case 4:return a=e.sent,zN(r,i,null),VN(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,HN(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,LE(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),LN.apply(this,arguments)}function MN(e,t,n){return FN.apply(this,arguments)}function FN(){return FN=Gu(Qu().mark((function e(t,n,r){var i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=ib(t),e.prev=1,e.next=4,function(e,t){var n=ib(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.Bs.lookupMutationBatch(e,t).next((function(t){return rb(null!==t),r=t.keys(),n.Bs.removeMutationBatch(e,t)})).next((function(){return n.Bs.performConsistencyCheck(e)})).next((function(){return n.fi.Ks(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,zN(i,n,r),VN(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,HN(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,LE(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),FN.apply(this,arguments)}function jN(e,t){return UN.apply(this,arguments)}function UN(){return UN=Gu(Qu().mark((function e(t,n){var r,i,a,o;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return kC((r=ib(t)).remoteStore)||Xw("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled."),e.prev=2,e.next=5,function(e){var t=ib(e);return t.persistence.runTransaction("Get highest unacknowledged batch id","readonly",(function(e){return t.Bs.getHighestUnacknowledgedBatchId(e)}))}(r.localStore);case 5:if(-1!==(i=e.sent)){e.next=8;break}return e.abrupt("return",void n.resolve());case 8:(a=r.la.get(i)||[]).push(n),r.la.set(i,a),e.next=16;break;case 12:e.prev=12,e.t0=e.catch(2),o=JC(e.t0,"Initialization of waitForPendingWrites() operation failed"),n.reject(o);case 16:case"end":return e.stop()}}),e,null,[[2,12]])}))),UN.apply(this,arguments)}function VN(e,t){(e.la.get(t)||[]).forEach((function(e){e.resolve()})),e.la.delete(t)}function zN(e,t,n){var r=ib(e),i=r.ha[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.ha[r.currentUser.toKey()]=i}}function BN(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=du(e.ra.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.ia.delete(a),n&&e.sa.wa(a,n)}}catch(o){i.e(o)}finally{i.f()}e.ra.delete(t),e.isPrimaryClient&&e.ca.vi(t).forEach((function(t){e.ca.containsKey(t)||qN(e,t)}))}function qN(e,t){e.oa.delete(t.path.canonicalString());var n=e.ua.get(t);null!==n&&(pC(e.remoteStore,n),e.ua=e.ua.remove(t),e.aa.delete(n),GN(e))}function WN(e,t,n){var r,i=du(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof vN?(e.ca.addReference(a.key,t),KN(e,a)):a instanceof mN?(Xw("SyncEngine","Document no longer in limbo: "+a.key),e.ca.removeReference(a.key,t),e.ca.containsKey(a.key)||qN(e,a.key)):nb()}}catch(o){i.e(o)}finally{i.f()}}function KN(e,t){var n=t.key,r=n.path.canonicalString();e.ua.get(n)||e.oa.has(r)||(Xw("SyncEngine","New document in limbo: "+n),e.oa.add(r),GN(e))}function GN(e){for(;e.oa.size>0&&e.ua.size<e.maxConcurrentLimboResolutions;){var t=e.oa.values().next().value;e.oa.delete(t);var n=new Kb(Cb.fromString(t)),r=e.fa.next();e.aa.set(r,new kN(n)),e.ua=e.ua.insert(n,r),dC(e.remoteStore,new US(o_(t_(n.path)),r,2,mb.A))}}function HN(e,t,n){return QN.apply(this,arguments)}function QN(){return QN=Gu(Qu().mark((function e(t,n,r){var i,a,o,u;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=ib(t),a=[],o=[],u=[],e.t0=i.ia.isEmpty(),e.t0){e.next=9;break}return i.ia.forEach((function(e,t){u.push(i._a(t,n,r).then((function(e){if(e){i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,e.fromCache?"not-current":"current"),a.push(e);var n=aT.Ys(t.targetId,e);o.push(n)}})))})),e.next=6,Promise.all(u);case 6:return i.sa.zo(a),e.next=9,function(){var e=Gu(Qu().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ib(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return IS.forEach(n,(function(t){return IS.forEach(t.Hs,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return IS.forEach(t.Js,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),NS(e.t0)){e.next=10;break}throw e.t0;case 10:Xw("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=du(n);try{for(i.s();!(a=i.n()).done;)o=a.value,u=o.targetId,o.fromCache||(s=r.ui.get(u),c=s.snapshotVersion,l=s.withLastLimboFreeSnapshotVersion(c),r.ui=r.ui.insert(u,l))}catch(f){i.e(f)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,o);case 9:case"end":return e.stop()}}),e)}))),QN.apply(this,arguments)}function $N(e,t){return YN.apply(this,arguments)}function YN(){return YN=Gu(Qu().mark((function e(t,n){var r,i;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=ib(t)).currentUser.isEqual(n)){e.next=11;break}return Xw("SyncEngine","User change. New user:",n.toKey()),e.next=5,cT(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.la.forEach((function(e){e.forEach((function(e){e.reject(new ob(ab.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))}))})),e.la.clear()}(r),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,HN(r,i.di);case 11:case"end":return e.stop()}}),e)}))),YN.apply(this,arguments)}function JN(e,t){var n=ib(e),r=n.aa.get(t);if(r&&r.na)return oI().add(r.key);var i=oI(),a=n.ra.get(t);if(!a)return i;var o,u=du(a);try{for(u.s();!(o=u.n()).done;){var s=o.value,c=n.ia.get(s);i=i.unionWith(c.view.ju)}}catch(l){u.e(l)}finally{u.f()}return i}function XN(e,t){return ZN.apply(this,arguments)}function ZN(){return ZN=Gu(Qu().mark((function e(t,n){var r,i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ib(t),e.next=3,kT(r.localStore,n.query,!0);case 3:return i=e.sent,a=n.view.ta(i),e.abrupt("return",(r.isPrimaryClient&&WN(r,n.targetId,a.Xu),a));case 6:case"end":return e.stop()}}),e)}))),ZN.apply(this,arguments)}function eA(e,t){return tA.apply(this,arguments)}function tA(){return tA=Gu(Qu().mark((function e(t,n){var r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ib(t),e.abrupt("return",bT(r.localStore,n).then((function(e){return HN(r,e)})));case 2:case"end":return e.stop()}}),e)}))),tA.apply(this,arguments)}function nA(e,t,n,r){return rA.apply(this,arguments)}function rA(){return rA=Gu(Qu().mark((function e(t,n,r,i){var a,o;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=ib(t),e.next=3,function(e,t){var n=ib(e),r=ib(n.Bs);return n.persistence.runTransaction("Lookup mutation documents","readonly",(function(e){return r.fn(e,t).next((function(t){return t?n.fi.Ks(e,t):IS.resolve(null)}))}))}(a.localStore,n);case 3:if(null===(o=e.sent)){e.next=15;break}if("pending"!==r){e.next=10;break}return e.next=8,AC(a.remoteStore);case 8:e.next=11;break;case 10:"acknowledged"===r||"rejected"===r?(zN(a,n,i||null),VN(a,n),function(e,t){ib(ib(e).Bs)._n(t)}(a.localStore,n)):nb();case 11:return e.next=13,HN(a,o);case 13:e.next=16;break;case 15:Xw("SyncEngine","Cannot apply mutation batch with id: "+n);case 16:case"end":return e.stop()}}),e)}))),rA.apply(this,arguments)}function iA(e,t){return aA.apply(this,arguments)}function aA(){return aA=Gu(Qu().mark((function e(t,n){var r,i,a,o,u,s,c,l;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(pA(r=ib(t)),vA(r),!0!==n||!0===r.da){e.next=13;break}return i=r.sharedClientState.getAllActiveQueryTargets(),e.next=5,oA(r,i.toArray());case 5:return a=e.sent,r.da=!0,e.next=9,GC(r.remoteStore,!0);case 9:o=du(a);try{for(o.s();!(u=o.n()).done;)s=u.value,dC(r.remoteStore,s)}catch(f){o.e(f)}finally{o.f()}e.next=25;break;case 13:if(!1!==n||!1===r.da){e.next=25;break}return c=[],l=Promise.resolve(),r.ra.forEach((function(e,t){r.sharedClientState.isLocalQueryTarget(t)?c.push(t):l=l.then((function(){return BN(r,t),yT(r.localStore,t,!0)})),pC(r.remoteStore,t)})),e.next=19,l;case 19:return e.next=21,oA(r,c);case 21:return function(e){var t=ib(e);t.aa.forEach((function(e,n){pC(t.remoteStore,n)})),t.ca.Si(),t.aa=new Map,t.ua=new Sx(Kb.comparator)}(r),r.da=!1,e.next=25,GC(r.remoteStore,!1);case 25:case"end":return e.stop()}}),e)}))),aA.apply(this,arguments)}function oA(e,t,n){return uA.apply(this,arguments)}function uA(){return uA=Gu(Qu().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h,d,p,v,m,y;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:i=ib(t),a=[],o=[],u=du(n),e.prev=2,u.s();case 4:if((s=u.n()).done){e.next=45;break}if(c=s.value,l=void 0,!(f=i.ra.get(c))||0===f.length){e.next=34;break}return e.next=11,mT(i.localStore,o_(f[0]));case 11:l=e.sent,h=du(f),e.prev=13,h.s();case 15:if((d=h.n()).done){e.next=24;break}return p=d.value,v=i.ia.get(p),e.next=20,XN(i,v);case 20:(m=e.sent).snapshot&&o.push(m.snapshot);case 22:e.next=15;break;case 24:e.next=29;break;case 26:e.prev=26,e.t0=e.catch(13),h.e(e.t0);case 29:return e.prev=29,h.f(),e.finish(29);case 32:e.next=42;break;case 34:return e.next=36,wT(i.localStore,c);case 36:return y=e.sent,e.next=39,mT(i.localStore,y);case 39:return l=e.sent,e.next=42,_N(i,sA(y),c,!1);case 42:a.push(l);case 43:e.next=4;break;case 45:e.next=50;break;case 47:e.prev=47,e.t1=e.catch(2),u.e(e.t1);case 50:return e.prev=50,u.f(),e.finish(50);case 53:return e.abrupt("return",(i.sa.zo(o),a));case 54:case"end":return e.stop()}}),e,null,[[2,47,50,53],[13,26,29,32]])}))),uA.apply(this,arguments)}function sA(e){return e_(e.path,e.collectionGroup,e.orderBy,e.filters,e.limit,"F",e.startAt,e.endAt)}function cA(e){var t=ib(e);return ib(ib(t.localStore).persistence).Fs()}function lA(e,t,n,r){return fA.apply(this,arguments)}function fA(){return fA=Gu(Qu().mark((function e(t,n,r,i){var a,o,u,s;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(a=ib(t)).da){e.next=3;break}return e.abrupt("return",void Xw("SyncEngine","Ignoring unexpected query state notification."));case 3:if(!((o=a.ra.get(n))&&o.length>0)){e.next=20;break}e.t0=r,e.next="current"===e.t0||"not-current"===e.t0?8:"rejected"===e.t0?15:19;break;case 8:return e.next=10,bT(a.localStore,h_(o[0]));case 10:return u=e.sent,s=cI.createSynthesizedRemoteEventForCurrentChange(n,"current"===r),e.next=14,HN(a,u,s);case 14:return e.abrupt("break",20);case 15:return e.next=17,yT(a.localStore,n,!0);case 17:return BN(a,n,i),e.abrupt("break",20);case 19:nb();case 20:case"end":return e.stop()}}),e)}))),fA.apply(this,arguments)}function hA(e,t,n){return dA.apply(this,arguments)}function dA(){return dA=Gu(Qu().mark((function e(t,n,r){var i,a,o,u,s,c,l,f,h;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(i=pA(t)).da){e.next=45;break}a=du(n),e.prev=3,a.s();case 5:if((o=a.n()).done){e.next=21;break}if(u=o.value,!i.ra.has(u)){e.next=10;break}return Xw("SyncEngine","Adding an already active target "+u),e.abrupt("continue",19);case 10:return e.next=12,wT(i.localStore,u);case 12:return s=e.sent,e.next=15,mT(i.localStore,s);case 15:return c=e.sent,e.next=18,_N(i,sA(s),c.targetId,!1);case 18:dC(i.remoteStore,c);case 19:e.next=5;break;case 21:e.next=26;break;case 23:e.prev=23,e.t0=e.catch(3),a.e(e.t0);case 26:return e.prev=26,a.f(),e.finish(26);case 29:l=du(r),e.prev=30,h=Qu().mark((function e(){var t;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=f.value,e.t0=i.ra.has(t),!e.t0){e.next=5;break}return e.next=5,yT(i.localStore,t,!1).then((function(){pC(i.remoteStore,t),BN(i,t)})).catch(LE);case 5:case"end":return e.stop()}}),e)})),l.s();case 33:if((f=l.n()).done){e.next=37;break}return e.delegateYield(h(),"t1",35);case 35:e.next=33;break;case 37:e.next=42;break;case 39:e.prev=39,e.t2=e.catch(30),l.e(e.t2);case 42:return e.prev=42,l.f(),e.finish(42);case 45:case"end":return e.stop()}}),e,null,[[3,23,26,29],[30,39,42,45]])}))),dA.apply(this,arguments)}function pA(e){var t=ib(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=NN.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=JN.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=RN.bind(null,t),t.sa.zo=uN.bind(null,t.eventManager),t.sa.wa=sN.bind(null,t.eventManager),t}function vA(e){var t=ib(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=DN.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=MN.bind(null,t),t}function mA(e,t,n){var r=ib(e);(function(){var e=Gu(Qu().mark((function e(t,n,r){var i,a,o,u,s;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,n.getMetadata();case 3:return i=e.sent,e.next=6,function(e,t){var n=ib(e),r=II(t.createTime);return n.persistence.runTransaction("hasNewerBundle","readonly",(function(e){return n._s.getBundleMetadata(e,t.id)})).then((function(e){return!!e&&e.createTime.compareTo(r)>=0}))}(t.localStore,i);case 6:if(!e.sent){e.next=11;break}return e.next=9,n.close();case 9:return r._completeWith(function(e){return{taskState:"Success",documentsLoaded:e.totalDocuments,bytesLoaded:e.totalBytes,totalDocuments:e.totalDocuments,totalBytes:e.totalBytes}}(i)),e.abrupt("return",Promise.resolve(new Set));case 11:return r._updateProgress(pN(i)),a=new dN(i,t.localStore,n.M),e.next=15,n.ma();case 15:o=e.sent;case 16:if(!o){e.next=26;break}return e.next=19,a.Fu(o);case 19:return(u=e.sent)&&r._updateProgress(u),e.next=23,n.ma();case 23:o=e.sent;case 24:e.next=16;break;case 26:return e.next=28,a.complete();case 28:return s=e.sent,e.next=31,HN(t,s.Lu,void 0);case 31:return e.next=33,function(e,t){var n=ib(e);return n.persistence.runTransaction("Save bundle","readwrite",(function(e){return n._s.saveBundleMetadata(e,t)}))}(t.localStore,i);case 33:return r._completeWith(s.progress),e.abrupt("return",Promise.resolve(s.Bu));case 37:return e.prev=37,e.t0=e.catch(0),e.abrupt("return",(eb("SyncEngine","Loading bundle failed with ".concat(e.t0)),r._failWith(e.t0),Promise.resolve(new Set)));case 40:case"end":return e.stop()}}),e,null,[[0,37]])})));return function(t,n,r){return e.apply(this,arguments)}})()(r,t,n).then((function(e){r.sharedClientState.notifyBundleLoaded(e)}))}var yA=function(){function e(){Ka(this,e),this.synchronizeTabs=!1}return Ha(e,[{key:"initialize",value:function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.M=tC(t.databaseInfo.databaseId),this.sharedClientState=this.ga(t),this.persistence=this.ya(t),e.next=5,this.persistence.start();case 5:this.gcScheduler=this.pa(t),this.localStore=this.Ia(t);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"pa",value:function(e){return null}},{key:"Ia",value:function(e){return sT(this.persistence,new oT,e.initialUser,this.M)}},{key:"ya",value:function(e){return new LT(FT.Yi,this.M)}},{key:"ga",value:function(e){return new HT}},{key:"terminate",value:function(){var e=Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.gcScheduler&&this.gcScheduler.stop(),e.next=3,this.sharedClientState.shutdown();case 3:return e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),gA=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i){var a;return Ka(this,n),(a=t.call(this)).Ta=e,a.cacheSizeBytes=r,a.forceOwnership=i,a.synchronizeTabs=!1,a}return Ha(n,[{key:"initialize",value:function(){var e=Gu(Qu().mark((function e(t){var r=this;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wc(Fa(n.prototype),"initialize",this).call(this,t);case 2:return e.next=4,this.Ta.initialize(this,t);case 4:return e.next=6,vA(this.Ta.syncEngine);case 6:return e.next=8,AC(this.Ta.remoteStore);case 8:return e.next=10,this.persistence.Ts((function(){return r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(r.localStore),Promise.resolve()}));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Ia",value:function(e){return sT(this.persistence,new oT,e.initialUser,this.M)}},{key:"pa",value:function(e){var t=this.persistence.referenceDelegate.garbageCollector;return new UE(t,e.asyncQueue)}},{key:"ya",value:function(e){var t=rT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),n=void 0!==this.cacheSizeBytes?xE.withCacheSize(this.cacheSizeBytes):xE.DEFAULT;return new eT(this.synchronizeTabs,t,e.clientId,n,e.asyncQueue,ZT(),eC(),this.M,this.sharedClientState,!!this.forceOwnership)}},{key:"ga",value:function(e){return new HT}}]),n}(yA),kA=function(e){Ma(n,e);var t=Ba(n);function n(e,r){var i;return Ka(this,n),(i=t.call(this,e,r,!1)).Ta=e,i.cacheSizeBytes=r,i.synchronizeTabs=!0,i}return Ha(n,[{key:"initialize",value:function(){var e=Gu(Qu().mark((function e(t){var r,i=this;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,wc(Fa(n.prototype),"initialize",this).call(this,t);case 2:if(r=this.Ta.syncEngine,e.t0=this.sharedClientState instanceof GT,!e.t0){e.next=8;break}return this.sharedClientState.syncEngine={$r:nA.bind(null,r),Br:lA.bind(null,r),Lr:hA.bind(null,r),Fs:cA.bind(null,r),Fr:eA.bind(null,r)},e.next=8,this.sharedClientState.start();case 8:return e.next=10,this.persistence.Ts(function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,iA(i.Ta.syncEngine,t);case 2:i.gcScheduler&&(t&&!i.gcScheduler.started?i.gcScheduler.start(i.localStore):t||i.gcScheduler.stop());case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"ga",value:function(e){var t=ZT();if(!GT.vt(t))throw new ob(ab.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");var n=rT(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new GT(t,e.asyncQueue,n,e.clientId,e.initialUser)}}]),n}(gA),wA=function(){function e(){Ka(this,e)}return Ha(e,[{key:"initialize",value:function(){var e=Gu(Qu().mark((function e(t,n){var r=this;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return PN(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=$N.bind(null,this.syncEngine),e.next=12,GC(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)})));return function(t,n){return e.apply(this,arguments)}}()},{key:"createEventManager",value:function(e){return new nN}},{key:"createDatastore",value:function(e){var t,n=tC(e.databaseInfo.databaseId),r=(t=e.databaseInfo,new XT(t));return function(e,t,n,r){return new oC(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,r,n)}},{key:"createRemoteStore",value:function(e){var t,n,r,i,a,o=this;return t=this.localStore,n=this.datastore,r=e.asyncQueue,i=function(e){return PN(o.syncEngine,e,0)},a=$T.vt()?new $T:new QT,new sC(t,n,r,i,a)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var u=new wN(e,t,n,r,i,a);return o&&(u.da=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:function(){return function(){var e=Gu(Qu().mark((function e(t){var n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=ib(t),Xw("RemoteStore","RemoteStore shutting down."),n.wu.add(5),e.next=5,fC(n);case 5:n.gu.shutdown(),n.yu.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore)}}]),e}();function bA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10240,n=0;return{read:function(){return Gu(Qu().mark((function r(){var i;return Qu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(!(n<e.byteLength)){r.next=3;break}return i={value:e.slice(n,n+t),done:!1},r.abrupt("return",(n+=t,i));case 3:return r.abrupt("return",{done:!0});case 4:case"end":return r.stop()}}),r)})))()},cancel:function(){return Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()},releaseLock:function(){},closed:Promise.reject("unimplemented")}}var xA=function(){function e(t){Ka(this,e),this.observer=t,this.muted=!1}return Ha(e,[{key:"next",value:function(e){this.observer.next&&this.Ea(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.Ea(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}},{key:"Aa",value:function(){this.muted=!0}},{key:"Ea",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}]),e}(),_A=function(){function e(t,n){var r=this;Ka(this,e),this.Ra=t,this.M=n,this.metadata=new ub,this.buffer=new Uint8Array,this.ba=new TextDecoder("utf-8"),this.Pa().then((function(e){e&&e.Mu()?r.metadata.resolve(e.payload.metadata):r.metadata.reject(new Error("The first element of the bundle is not a metadata, it is\n             ".concat(JSON.stringify(null==e?void 0:e.payload))))}),(function(e){return r.metadata.reject(e)}))}return Ha(e,[{key:"close",value:function(){return this.Ra.cancel()}},{key:"getMetadata",value:function(){var e=Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",this.metadata.promise);case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"ma",value:function(){var e=Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.getMetadata();case 2:return e.abrupt("return",this.Pa());case 3:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Pa",value:function(){var e=Gu(Qu().mark((function e(){var t,n,r,i;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Va();case 2:if(null!==(t=e.sent)){e.next=5;break}return e.abrupt("return",null);case 5:return n=this.ba.decode(t),r=Number(n),isNaN(r)&&this.va("length string (".concat(n,") is not valid number")),e.next=9,this.Sa(r);case 9:return i=e.sent,e.abrupt("return",new fN(JSON.parse(i),t.length+r));case 11:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Da",value:function(){return this.buffer.findIndex((function(e){return e==="{".charCodeAt(0)}))}},{key:"Va",value:function(){var e=Gu(Qu().mark((function e(){var t,n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.Da()<0)){e.next=7;break}return e.next=3,this.Ca();case 3:if(!e.sent){e.next=5;break}return e.abrupt("break",7);case 5:e.next=0;break;case 7:if(0!==this.buffer.length){e.next=9;break}return e.abrupt("return",null);case 9:return(t=this.Da())<0&&this.va("Reached the end of bundle when a length string is expected."),n=this.buffer.slice(0,t),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 13:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Sa",value:function(){var e=Gu(Qu().mark((function e(t){var n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(this.buffer.length<t)){e.next=8;break}return e.next=3,this.Ca();case 3:if(e.t0=e.sent,!e.t0){e.next=6;break}this.va("Reached the end of bundle when more is expected.");case 6:e.next=0;break;case 8:return n=this.ba.decode(this.buffer.slice(0,t)),e.abrupt("return",(this.buffer=this.buffer.slice(t),n));case 10:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"va",value:function(e){throw this.Ra.cancel(),new Error("Invalid bundle format: ".concat(e))}},{key:"Ca",value:function(){var e=Gu(Qu().mark((function e(){var t,n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.Ra.read();case 2:return(t=e.sent).done||((n=new Uint8Array(this.buffer.length+t.value.length)).set(this.buffer),n.set(t.value,this.buffer.length),this.buffer=n),e.abrupt("return",t.done);case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()}]),e}(),IA=function(){function e(t){Ka(this,e),this.datastore=t,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}return Ha(e,[{key:"lookup",value:function(){var e=Gu(Qu().mark((function e(t){var n,r=this;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!(this.mutations.length>0)){e.next=2;break}throw new ob(ab.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");case 2:return e.next=4,function(){var e=Gu(Qu().mark((function e(t,n){var r,i,a,o,u,s;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ib(t),i=PI(r.M)+"/documents",a={documents:n.map((function(e){return TI(r.M,e)}))},e.next=5,r._o("BatchGetDocuments",i,a);case 5:return o=e.sent,u=new Map,o.forEach((function(e){var t=LI(r.M,e);u.set(t.key.toString(),t)})),s=[],e.abrupt("return",(n.forEach((function(e){var t=u.get(e.toString());rb(!!t),s.push(t)})),s));case 10:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,t);case 4:return n=e.sent,e.abrupt("return",(n.forEach((function(e){return r.recordVersion(e)})),n));case 6:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"set",value:function(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"update",value:function(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(e){this.lastWriteError=e}this.writtenDocs.add(e.toString())}},{key:"delete",value:function(e){this.write(new H_(e,this.precondition(e))),this.writtenDocs.add(e.toString())}},{key:"commit",value:function(){var e=Gu(Qu().mark((function e(){var t,n=this;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.ensureCommitNotCalled(),!this.lastWriteError){e.next=2;break}throw this.lastWriteError;case 2:return t=this.readVersions,this.mutations.forEach((function(e){t.delete(e.key.toString())})),t.forEach((function(e,t){var r=Kb.fromPath(t);n.mutations.push(new Q_(r,n.precondition(r)))})),e.next=7,function(){var e=Gu(Qu().mark((function e(t,n){var r,i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=ib(t),i=PI(r.M)+"/documents",a={writes:n.map((function(e){return MI(r.M,e)}))},e.next=3,r.co("Commit",i,a);case 3:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(this.datastore,this.mutations);case 7:this.committed=!0;case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"recordVersion",value:function(e){var t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw nb();t=_b.min()}var n=this.readVersions.get(e.key.toString());if(n){if(!t.isEqual(n))throw new ob(ab.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}},{key:"precondition",value:function(e){var t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?R_.updateTime(t):R_.none()}},{key:"preconditionForUpdate",value:function(e){var t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(_b.min()))throw new ob(ab.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return R_.updateTime(t)}return R_.exists(!0)}},{key:"write",value:function(e){this.ensureCommitNotCalled(),this.mutations.push(e)}},{key:"ensureCommitNotCalled",value:function(){}}]),e}(),SA=function(){function e(t,n,r,i,a){Ka(this,e),this.asyncQueue=t,this.datastore=n,this.options=r,this.updateFunction=i,this.deferred=a,this.xa=r.maxAttempts,this.No=new nC(this.asyncQueue,"transaction_retry")}return Ha(e,[{key:"run",value:function(){this.xa-=1,this.Na()}},{key:"Na",value:function(){var e=this;this.No.Ro(Gu(Qu().mark((function t(){var n,r;return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=new IA(e.datastore),(r=e.ka(n))&&r.then((function(t){e.asyncQueue.enqueueAndForget((function(){return n.commit().then((function(){e.deferred.resolve(t)})).catch((function(t){e.Ma(t)}))}))})).catch((function(t){e.Ma(t)}));case 2:case"end":return t.stop()}}),t)}))))}},{key:"ka",value:function(e){try{var t=this.updateFunction(e);return!Bb(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(e){return this.deferred.reject(e),null}}},{key:"Ma",value:function(e){var t=this;this.xa>0&&this.Oa(e)?(this.xa-=1,this.asyncQueue.enqueueAndForget((function(){return t.Na(),Promise.resolve()}))):this.deferred.reject(e)}},{key:"Oa",value:function(e){if("FirebaseError"===e.name){var t=e.code;return"aborted"===t||"failed-precondition"===t||!Y_(t)}return!1}}]),e}(),EA=function(){function e(t,n,r,i){var a=this;Ka(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Qw.UNAUTHENTICATED,this.clientId=gb.R(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Xw("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Xw("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}return Ha(e,[{key:"getConfiguration",value:function(){var e=Gu(Qu().mark((function e(){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100});case 1:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new ob(ab.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new ub;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(Gu(Qu().mark((function n(){var r;return Qu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e.onlineComponents,!n.t0){n.next=5;break}return n.next=5,e.onlineComponents.terminate();case 5:if(n.t1=e.offlineComponents,!n.t1){n.next=9;break}return n.next=9,e.offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=JC(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}]),e}();function TA(e,t){return CA.apply(this,arguments)}function CA(){return CA=Gu(Qu().mark((function e(t,n){var r,i;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Xw("FirestoreClient","Initializing OfflineComponentProvider"),e.next=3,t.getConfiguration();case 3:return r=e.sent,e.next=6,n.initialize(r);case 6:i=r.initialUser,t.setCredentialChangeListener(function(){var e=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,cT(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t.offlineComponents=n;case 8:case"end":return e.stop()}}),e)}))),CA.apply(this,arguments)}function NA(e,t){return AA.apply(this,arguments)}function AA(){return AA=Gu(Qu().mark((function e(t,n){var r,i;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,PA(t);case 3:return r=e.sent,Xw("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,t.getConfiguration();case 7:return i=e.sent,e.next=10,n.initialize(r,i);case 10:t.setCredentialChangeListener((function(e){return WC(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return WC(n.remoteStore,t)})),t.onlineComponents=n;case 13:case"end":return e.stop()}}),e)}))),AA.apply(this,arguments)}function PA(e){return RA.apply(this,arguments)}function RA(){return RA=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.offlineComponents,e.t0){e.next=5;break}return Xw("FirestoreClient","Using default OfflineComponentProvider"),e.next=5,TA(t,new yA);case 5:return e.abrupt("return",t.offlineComponents);case 6:case"end":return e.stop()}}),e)}))),RA.apply(this,arguments)}function OA(e){return DA.apply(this,arguments)}function DA(){return DA=Gu(Qu().mark((function e(t){return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t.onlineComponents,e.t0){e.next=5;break}return Xw("FirestoreClient","Using default OnlineComponentProvider"),e.next=5,NA(t,new wA);case 5:return e.abrupt("return",t.onlineComponents);case 6:case"end":return e.stop()}}),e)}))),DA.apply(this,arguments)}function LA(e){return PA(e).then((function(e){return e.persistence}))}function MA(e){return PA(e).then((function(e){return e.localStore}))}function FA(e){return OA(e).then((function(e){return e.remoteStore}))}function jA(e){return OA(e).then((function(e){return e.syncEngine}))}function UA(e){return VA.apply(this,arguments)}function VA(){return VA=Gu(Qu().mark((function e(t){var n,r;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,OA(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=bN.bind(null,n.syncEngine),r.onUnlisten=SN.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),VA.apply(this,arguments)}function zA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ub;return e.asyncQueue.enqueueAndForget(Gu(Qu().mark((function i(){return Qu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new xA({next:function(a){t.enqueueAndForget((function(){return aN(e,o)}));var u=a.docs.has(n);!u&&a.fromCache?i.reject(new ob(ab.UNAVAILABLE,"Failed to get document because the client is offline.")):u&&a.fromCache&&r&&"server"===r.source?i.reject(new ob(ab.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new lN(t_(n.path),a,{includeMetadataChanges:!0,ku:!0});return rN(e,o)},i.next=3,UA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}function BA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new ub;return e.asyncQueue.enqueueAndForget(Gu(Qu().mark((function i(){return Qu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new xA({next:function(n){t.enqueueAndForget((function(){return aN(e,o)})),n.fromCache&&"server"===r.source?i.reject(new ob(ab.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):i.resolve(n)},error:function(e){return i.reject(e)}}),o=new lN(n,a,{includeMetadataChanges:!0,ku:!0});return rN(e,o)},i.next=3,UA(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}var qA=new Map;function WA(e,t,n){if(!n)throw new ob(ab.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function KA(e,t,n,r){if(!0===t&&!0===r)throw new ob(ab.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))}function GA(e){if(!Kb.isDocumentKey(e))throw new ob(ab.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function HA(e){if(Kb.isDocumentKey(e))throw new ob(ab.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function QA(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":nb()}function $A(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new ob(ab.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=QA(e);throw new ob(ab.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}function YA(e,t){if(t<=0)throw new ob(ab.INVALID_ARGUMENT,"Function ".concat(e,"() requires a positive number, but it was: ").concat(t,"."))}var JA=function(){function e(t){var n;if(Ka(this,e),void 0===t.host){if(void 0!==t.ssl)throw new ob(ab.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new ob(ab.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.useFetchStreams=!!t.useFetchStreams,KA("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling)}return Ha(e,[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}]),e}(),XA=function(){function e(t,n,r){Ka(this,e),this._authCredentials=n,this._appCheckCredentials=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new JA({}),this._settingsFrozen=!1,t instanceof zb?this._databaseId=t:(this._app=t,this._databaseId=function(e){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new ob(ab.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zb(e.options.projectId)}(t))}return Ha(e,[{key:"app",get:function(){if(!this._app)throw new ob(ab.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new ob(ab.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new JA(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new cb;switch(e.type){case"gapi":var t=e.client;return rb(!("object"!=typeof t||null===t||!t.auth||!t.auth.getAuthHeaderValueForFirstParty)),new db(t,e.sessionIndex||"0",e.iamToken||null);case"provider":return e.client;default:throw new ob(ab.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=qA.get(e);t&&(Xw("ComponentProvider","Removing Datastore"),qA.delete(e),t.terminate())}(this),Promise.resolve()}}]),e}();function ZA(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=(e=$A(e,XA))._getSettings();if("firestore.googleapis.com"!==a.host&&a.host!==t&&eb("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},a),{host:"".concat(t,":").concat(n),ssl:!1})),i.mockUserToken){var o,u;if("string"==typeof i.mockUserToken)o=i.mockUserToken,u=Qw.MOCK_USER;else{o=_u(i.mockUserToken,null===(r=e._app)||void 0===r?void 0:r.options.projectId);var s=i.mockUserToken.sub||i.mockUserToken.user_id;if(!s)throw new ob(ab.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Qw(s)}e._authCredentials=new lb(new sb(o,u))}}var eP=function(){function e(t,n,r){Ka(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return Ha(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new nP(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}]),e}(),tP=function(){function e(t,n,r){Ka(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return Ha(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}]),e}(),nP=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i){var a;return Ka(this,n),(a=t.call(this,e,r,t_(i)))._path=i,a.type="collection",a}return Ha(n,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new eP(this.firestore,null,new Kb(e))}},{key:"withConverter",value:function(e){return new n(this.firestore,e,this._path)}}]),n}(tP);function rP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Wu(e),WA("collection","path",t),e instanceof XA){var a=Cb.fromString.apply(Cb,[t].concat(r));return HA(a),new nP(e,null,a)}if(!(e instanceof eP||e instanceof nP))throw new ob(ab.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Cb.fromString.apply(Cb,[t].concat(r)));return HA(o),new nP(e.firestore,null,o)}function iP(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Wu(e),1===arguments.length&&(t=gb.R()),WA("doc","path",t),e instanceof XA){var a=Cb.fromString.apply(Cb,[t].concat(r));return GA(a),new eP(e,null,new Kb(a))}if(!(e instanceof eP||e instanceof nP))throw new ob(ab.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(Cb.fromString.apply(Cb,[t].concat(r)));return GA(o),new eP(e.firestore,e instanceof nP?e.converter:null,new Kb(o))}function aP(e,t){return e=Wu(e),t=Wu(t),(e instanceof eP||e instanceof nP)&&(t instanceof eP||t instanceof nP)&&e.firestore===t.firestore&&e.path===t.path&&e.converter===t.converter}function oP(e,t){return e=Wu(e),t=Wu(t),e instanceof tP&&t instanceof tP&&e.firestore===t.firestore&&s_(e._query,t._query)&&e.converter===t.converter}var uP=function(){function e(){var t=this;Ka(this,e),this.Fa=Promise.resolve(),this.$a=[],this.Ba=!1,this.La=[],this.Ua=null,this.qa=!1,this.Ka=!1,this.Ga=[],this.No=new nC(this,"async_queue_retry"),this.Qa=function(){var e=eC();e&&Xw("AsyncQueue","Visibility state changed to "+e.visibilityState),t.No.Po()};var n=eC();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.Qa)}return Ha(e,[{key:"isShuttingDown",get:function(){return this.Ba}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.ja(),this.Wa(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.Ba){this.Ba=!0,this.Ka=e||!1;var t=eC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Qa)}}},{key:"enqueue",value:function(e){var t=this;if(this.ja(),this.Ba)return new Promise((function(){}));var n=new ub;return this.Wa((function(){return t.Ba&&t.Ka?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.$a.push(e),t.za()}))}},{key:"za",value:function(){var e=Gu(Qu().mark((function e(){var t=this;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.$a.length){e.next=14;break}return e.prev=1,e.next=4,this.$a[0]();case 4:this.$a.shift(),this.No.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),NS(e.t0)){e.next=12;break}throw e.t0;case 12:Xw("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.$a.length>0&&this.No.Ro((function(){return t.za()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])})));return function(){return e.apply(this,arguments)}}()},{key:"Wa",value:function(e){var t=this,n=this.Fa.then((function(){return t.qa=!0,e().catch((function(e){t.Ua=e,t.qa=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw Zw("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t.qa=!1,e}))}));return this.Fa=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.ja(),this.Ga.indexOf(e)>-1&&(t=0);var i=YC.createAndSchedule(this,e,t,n,(function(e){return r.Ha(e)}));return this.La.push(i),i}},{key:"ja",value:function(){this.Ua&&nb()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Ja",value:function(){var e=Gu(Qu().mark((function e(){var t;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.Fa,e.next=3,t;case 3:if(t!==this.Fa){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"Ya",value:function(e){var t,n=du(this.La);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"Xa",value:function(e){var t=this;return this.Ja().then((function(){t.La.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=du(t.La);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Ja()}))}},{key:"Za",value:function(e){this.Ga.push(e)}},{key:"Ha",value:function(e){var t=this.La.indexOf(e);this.La.splice(t,1)}}]),e}();function sP(e){return function(e,t){if("object"!=typeof e||null===e)return!1;var n,r=e,i=du(["next","error","complete"]);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e)}var cP=function(){function e(){Ka(this,e),this._progressObserver={},this._taskCompletionResolver=new ub,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}return Ha(e,[{key:"onProgress",value:function(e,t,n){this._progressObserver={next:e,error:t,complete:n}}},{key:"catch",value:function(e){return this._taskCompletionResolver.promise.catch(e)}},{key:"then",value:function(e,t){return this._taskCompletionResolver.promise.then(e,t)}},{key:"_completeWith",value:function(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}},{key:"_failWith",value:function(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}},{key:"_updateProgress",value:function(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}]),e}(),lP=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i){var a;return Ka(this,n),(a=t.call(this,e,r,i)).type="firestore",a._queue=new uP,a._persistenceKey="name"in e?e.name:"[DEFAULT]",a}return Ha(n,[{key:"_terminate",value:function(){return this._firestoreClient||hP(this),this._firestoreClient.terminate()}}]),n}(XA);function fP(e){return e._firestoreClient||hP(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function hP(e){var t,n=e._freezeSettings(),r=function(e,t,n,r){return new Vb(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,n);e._firestoreClient=new EA(e._authCredentials,e._appCheckCredentials,e._queue,r)}function dP(e,t,n){var r=new ub;return e.asyncQueue.enqueue(Gu(Qu().mark((function i(){return Qu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.prev=0,i.next=3,TA(e,n);case 3:return i.next=5,NA(e,t);case 5:r.resolve(),i.next=13;break;case 8:if(i.prev=8,i.t0=i.catch(0),function(e){return"FirebaseError"===e.name?e.code===ab.FAILED_PRECONDITION||e.code===ab.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||(22===e.code||20===e.code||11===e.code)}(i.t0)){i.next=12;break}throw i.t0;case 12:console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+i.t0),r.reject(i.t0);case 13:case"end":return i.stop()}}),i,null,[[0,8]])})))).then((function(){return r.promise}))}function pP(e){return function(e){return e.asyncQueue.enqueue(Gu(Qu().mark((function t(){var n,r;return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,LA(e);case 2:return n=t.sent,t.next=5,FA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!0),function(e){var t=ib(e);return t.wu.delete(0),cC(t)}(r)));case 7:case"end":return t.stop()}}),t)}))))}(fP(e=$A(e,lP)))}function vP(e){return function(e){return e.asyncQueue.enqueue(Gu(Qu().mark((function t(){var n,r;return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,LA(e);case 2:return n=t.sent,t.next=5,FA(e);case 5:return r=t.sent,t.abrupt("return",(n.setNetworkEnabled(!1),function(){var e=Gu(Qu().mark((function e(t){var n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=ib(t)).wu.add(0),e.next=4,fC(n);case 4:n.yu.set("Offline");case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(r)));case 7:case"end":return t.stop()}}),t)}))))}(fP(e=$A(e,lP)))}function mP(e,t){var n=fP(e=$A(e,lP)),r=new cP;return function(e,t,n,r){var i=function(e,t){return function(e,t){return new _A(e,t)}(function(e,t){if(e instanceof Uint8Array)return bA(e,t);if(e instanceof ArrayBuffer)return bA(new Uint8Array(e),t);if(e instanceof ReadableStream)return e.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}("string"==typeof e?(new TextEncoder).encode(e):e),t)}(n,tC(t));e.asyncQueue.enqueueAndForget(Gu(Qu().mark((function t(){return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=mA,t.next=3,jA(e);case 3:t.t1=t.sent,t.t2=i,t.t3=r,(0,t.t0)(t.t1,t.t2,t.t3);case 7:case"end":return t.stop()}}),t)}))))}(n,e._databaseId,t,r),r}function yP(e,t){return function(e,t){return e.asyncQueue.enqueue(Gu(Qu().mark((function n(){return Qu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=function(e,t){var n=ib(e);return n.persistence.runTransaction("Get named query","readonly",(function(e){return n._s.getNamedQuery(e,t)}))},n.next=3,MA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)}))))}(fP(e=$A(e,lP)),t).then((function(t){return t?new tP(e,null,t.query):null}))}function gP(e){if(e._initialized||e._terminated)throw new ob(ab.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}var kP=function(){function e(){Ka(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new ob(ab.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ab(n)}return Ha(e,[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}]),e}();var wP=function(){function e(t){Ka(this,e),this._byteString=t}return Ha(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Rb.fromBase64String(t))}catch(t){throw new ob(ab.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Rb.fromUint8Array(t))}}]),e}(),bP=Ha((function e(t){Ka(this,e),this._methodName=t})),xP=function(){function e(t,n){if(Ka(this,e),!isFinite(t)||t<-90||t>90)throw new ob(ab.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new ob(ab.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}return Ha(e,[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return kb(this._lat,e._lat)||kb(this._long,e._long)}}]),e}(),_P=/^__.*__$/,IP=function(){function e(t,n,r){Ka(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ha(e,[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new z_(e,this.data,this.fieldMask,t,this.fieldTransforms):new V_(e,this.data,t,this.fieldTransforms)}}]),e}(),SP=function(){function e(t,n,r){Ka(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}return Ha(e,[{key:"toMutation",value:function(e,t){return new z_(e,this.data,this.fieldMask,t,this.fieldTransforms)}}]),e}();function EP(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw nb()}}var TP=function(){function e(t,n,r,i,a,o){Ka(this,e),this.settings=t,this.databaseId=n,this.M=r,this.ignoreUndefinedProperties=i,void 0===a&&this.tc(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return Ha(e,[{key:"path",get:function(){return this.settings.path}},{key:"ec",get:function(){return this.settings.ec}},{key:"nc",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"sc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.rc(e),r}},{key:"oc",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.nc({path:n,ic:!1});return r.tc(),r}},{key:"uc",value:function(e){return this.nc({path:void 0,ic:!0})}},{key:"ac",value:function(e){return HP(e,this.settings.methodName,this.settings.cc||!1,this.path,this.settings.hc)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"tc",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.rc(this.path.get(e))}},{key:"rc",value:function(e){if(0===e.length)throw this.ac("Document fields must not be empty");if(EP(this.ec)&&_P.test(e))throw this.ac('Document fields cannot begin and end with "__"')}}]),e}(),CP=function(){function e(t,n,r){Ka(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.M=r||tC(t)}return Ha(e,[{key:"lc",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new TP({ec:e,methodName:t,hc:n,path:Ab.emptyPath(),ic:!1,cc:r},this.databaseId,this.M,this.ignoreUndefinedProperties)}}]),e}();function NP(e){var t=e._freezeSettings(),n=tC(e._databaseId);return new CP(e._databaseId,!!t.ignoreUndefinedProperties,n)}function AP(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.lc(a.merge||a.mergeFields?2:0,t,n,i);qP("Data must be an object, but it was:",o,r);var u,s,c=zP(r,o);if(a.merge)u=new Pb(o.fieldMask),s=o.fieldTransforms;else if(a.mergeFields){var l,f=[],h=du(a.mergeFields);try{for(h.s();!(l=h.n()).done;){var d=l.value,p=WP(t,d,n);if(!o.contains(p))throw new ob(ab.INVALID_ARGUMENT,"Field '".concat(p,"' is specified in your field mask but missing from your input data."));QP(f,p)||f.push(p)}}catch(v){h.e(v)}finally{h.f()}u=new Pb(f),s=o.fieldTransforms.filter((function(e){return u.covers(e.field)}))}else u=null,s=o.fieldTransforms;return new IP(new dx(c),u,s)}var PP=function(e){Ma(n,e);var t=Ba(n);function n(){return Ka(this,n),t.apply(this,arguments)}return Ha(n,[{key:"_toFieldTransform",value:function(e){if(2!==e.ec)throw 1===e.ec?e.ac("".concat(this._methodName,"() can only appear at the top level of your update data")):e.ac("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(bP);function RP(e,t,n){return new TP({ec:3,hc:t.settings.hc,methodName:e._methodName,ic:n},t.databaseId,t.M,t.ignoreUndefinedProperties)}var OP=function(e){Ma(n,e);var t=Ba(n);function n(){return Ka(this,n),t.apply(this,arguments)}return Ha(n,[{key:"_toFieldTransform",value:function(e){return new A_(e.path,new x_)}},{key:"isEqual",value:function(e){return e instanceof n}}]),n}(bP),DP=function(e){Ma(n,e);var t=Ba(n);function n(e,r){var i;return Ka(this,n),(i=t.call(this,e)).fc=r,i}return Ha(n,[{key:"_toFieldTransform",value:function(e){var t=RP(this,e,!0),n=this.fc.map((function(e){return VP(e,t)})),r=new __(n);return new A_(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bP),LP=function(e){Ma(n,e);var t=Ba(n);function n(e,r){var i;return Ka(this,n),(i=t.call(this,e)).fc=r,i}return Ha(n,[{key:"_toFieldTransform",value:function(e){var t=RP(this,e,!0),n=this.fc.map((function(e){return VP(e,t)})),r=new S_(n);return new A_(e.path,r)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bP),MP=function(e){Ma(n,e);var t=Ba(n);function n(e,r){var i;return Ka(this,n),(i=t.call(this,e)).dc=r,i}return Ha(n,[{key:"_toFieldTransform",value:function(e){var t=new T_(e.M,y_(e.M,this.dc));return new A_(e.path,t)}},{key:"isEqual",value:function(e){return this===e}}]),n}(bP);function FP(e,t,n,r){var i=e.lc(1,t,n);qP("Data must be an object, but it was:",i,r);var a=[],o=dx.empty();Sb(r,(function(e,r){var u=GP(t,e,n);r=Wu(r);var s=i.oc(u);if(r instanceof PP)a.push(u);else{var c=VP(r,s);null!=c&&(a.push(u),o.set(u,c))}}));var u=new Pb(a);return new SP(o,u,i.fieldTransforms)}function jP(e,t,n,r,i,a){var o=e.lc(1,t,n),u=[WP(t,r,n)],s=[i];if(a.length%2!=0)throw new ob(ab.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var c=0;c<a.length;c+=2)u.push(WP(t,a[c])),s.push(a[c+1]);for(var l=[],f=dx.empty(),h=u.length-1;h>=0;--h)if(!QP(l,u[h])){var d=u[h],p=s[h];p=Wu(p);var v=o.oc(d);if(p instanceof PP)l.push(d);else{var m=VP(p,v);null!=m&&(l.push(d),f.set(d,m))}}var y=new Pb(l);return new SP(f,y,o.fieldTransforms)}function UP(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return VP(n,e.lc(r?4:3,t))}function VP(e,t){if(BP(e=Wu(e)))return qP("Unsupported field value:",t,e),zP(e,t);if(e instanceof bP)return function(e,t){if(!EP(t.ec))throw t.ac("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.ac("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.ic&&4!==t.ec)throw t.ac("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=du(e);try{for(a.s();!(n=a.n()).done;){var o=VP(n.value,t.uc(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(u){a.e(u)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=Wu(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return y_(t.M,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=xb.fromDate(e);return{timestampValue:bI(t.M,n)}}if(e instanceof xb){var r=new xb(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:bI(t.M,r)}}if(e instanceof xP)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof wP)return{bytesValue:xI(t.M,e._byteString)};if(e instanceof eP){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.ac("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:SI(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.ac("Unsupported field value: ".concat(QA(e)))}(e,t)}function zP(e,t){var n={};return Eb(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Sb(e,(function(e,r){var i=VP(r,t.sc(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function BP(e){return!("object"!=typeof e||null===e||e instanceof Array||e instanceof Date||e instanceof xb||e instanceof xP||e instanceof wP||e instanceof eP||e instanceof bP)}function qP(e,t,n){if(!BP(n)||!function(e){return"object"==typeof e&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=QA(n);throw"an object"===r?t.ac(e+" a custom object"):t.ac(e+" "+r)}}function WP(e,t,n){if((t=Wu(t))instanceof kP)return t._internalPath;if("string"==typeof t)return GP(e,t);throw HP("Field path arguments must be of type string or ",e,!1,void 0,n)}var KP=new RegExp("[~\\*/\\[\\]]");function GP(e,t,n){if(t.search(KP)>=0)throw HP("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return pu(kP,Wa(t.split(".")))._internalPath}catch(r){throw HP("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function HP(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,u="Function ".concat(t,"() called with invalid data");n&&(u+=" (via `toFirestore()`)"),u+=". ";var s="";return(a||o)&&(s+=" (found",a&&(s+=" in field ".concat(r)),o&&(s+=" in document ".concat(i)),s+=")"),new ob(ab.INVALID_ARGUMENT,u+e+s)}function QP(e,t){return e.some((function(e){return e.isEqual(t)}))}var $P=function(){function e(t,n,r,i,a){Ka(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}return Ha(e,[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new eP(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new YP(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(JP("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}]),e}(),YP=function(e){Ma(n,e);var t=Ba(n);function n(){return Ka(this,n),t.apply(this,arguments)}return Ha(n,[{key:"data",value:function(){return wc(Fa(n.prototype),"data",this).call(this)}}]),n}($P);function JP(e,t){return"string"==typeof t?GP(e,t):t instanceof kP?t._internalPath:t._delegate._internalPath}var XP=function(){function e(t,n){Ka(this,e),this.hasPendingWrites=t,this.fromCache=n}return Ha(e,[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}]),e}(),ZP=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i,a,o,u){var s;return Ka(this,n),(s=t.call(this,e,r,i,a,u))._firestore=e,s._firestoreImpl=e,s.metadata=o,s}return Ha(n,[{key:"exists",value:function(){return wc(Fa(n.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new eR(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(JP("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}]),n}($P),eR=function(e){Ma(n,e);var t=Ba(n);function n(){return Ka(this,n),t.apply(this,arguments)}return Ha(n,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return wc(Fa(n.prototype),"data",this).call(this,e)}}]),n}(ZP),tR=function(){function e(t,n,r,i){Ka(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new XP(i.hasPendingWrites,i.fromCache),this.query=r}return Ha(e,[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new eR(n._firestore,n._userDataWriter,r.key,r,new XP(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ob(ab.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){return{type:"added",doc:new eR(e._firestore,e._userDataWriter,t.doc.key,t.doc,new XP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new eR(e._firestore,e._userDataWriter,t.doc.key,t.doc,new XP(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:nR(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}]),e}();function nR(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return nb()}}function rR(e,t){return e instanceof ZP&&t instanceof ZP?e._firestore===t._firestore&&e._key.isEqual(t._key)&&(null===e._document?null===t._document:e._document.isEqual(t._document))&&e._converter===t._converter:e instanceof tR&&t instanceof tR&&e._firestore===t._firestore&&oP(e.query,t.query)&&e.metadata.isEqual(t.metadata)&&e._snapshot.isEqual(t._snapshot)}function iR(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new ob(ab.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var aR=Ha((function e(){Ka(this,e)}));function oR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=o._apply(e)}return e}var uR=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i){var a;return Ka(this,n),(a=t.call(this))._c=e,a.wc=r,a.mc=i,a.type="where",a}return Ha(n,[{key:"_apply",value:function(e){var t=NP(e.firestore),n=function(e,t,n,r,i,a,o){var u;if(i.isKeyField()){if("array-contains"===a||"array-contains-any"===a)throw new ob(ab.INVALID_ARGUMENT,"Invalid Query. You can't perform '".concat(a,"' queries on documentId()."));if("in"===a||"not-in"===a){gR(o,a);var s,c=[],l=du(o);try{for(l.s();!(s=l.n()).done;){var f=s.value;c.push(yR(r,e,f))}}catch(d){l.e(d)}finally{l.f()}u={arrayValue:{values:c}}}else u=yR(r,e,o)}else"in"!==a&&"not-in"!==a&&"array-contains-any"!==a||gR(o,a),u=UP(n,"where",o,"in"===a||"not-in"===a);var h=Ux.create(i,a,u);return function(e,t){if(t.S()){var n=r_(e);if(null!==n&&!n.isEqual(t.field))throw new ob(ab.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '".concat(n.toString(),"' and '").concat(t.field.toString(),"'"));var r=n_(e);null!==r&&kR(e,t.field,r)}var i=function(e,t){var n,r=du(e.filters);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(t.indexOf(i.op)>=0)return i.op}}catch(d){r.e(d)}finally{r.f()}return null}(e,function(e){switch(e){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(null!==i)throw i===t.op?new ob(ab.INVALID_ARGUMENT,"Invalid query. You cannot use more than one '".concat(t.op.toString(),"' filter.")):new ob(ab.INVALID_ARGUMENT,"Invalid query. You cannot use '".concat(t.op.toString(),"' filters with '").concat(i.toString(),"' filters."))}(e,h),h}(e._query,0,t,e.firestore._databaseId,this._c,this.wc,this.mc);return new tP(e.firestore,e.converter,function(e,t){var n=e.filters.concat([t]);return new Zx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}(e._query,n))}}]),n}(aR);var sR=function(e){Ma(n,e);var t=Ba(n);function n(e,r){var i;return Ka(this,n),(i=t.call(this))._c=e,i.gc=r,i.type="orderBy",i}return Ha(n,[{key:"_apply",value:function(e){var t=function(e,t,n){if(null!==e.startAt)throw new ob(ab.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==e.endAt)throw new ob(ab.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");var r=new $x(t,n);return function(e,t){if(null===n_(e)){var n=r_(e);null!==n&&kR(e,n,t.field)}}(e,r),r}(e._query,this._c,this.gc);return new tP(e.firestore,e.converter,function(e,t){var n=e.explicitOrderBy.concat([t]);return new Zx(e.path,e.collectionGroup,n,e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(e._query,t))}}]),n}(aR);var cR=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i){var a;return Ka(this,n),(a=t.call(this)).type=e,a.yc=r,a.Ic=i,a}return Ha(n,[{key:"_apply",value:function(e){return new tP(e.firestore,e.converter,u_(e._query,this.yc,this.Ic))}}]),n}(aR);var lR=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i){var a;return Ka(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return Ha(n,[{key:"_apply",value:function(e){var t=mR(e,this.type,this.Tc,this.Ec);return new tP(e.firestore,e.converter,function(e,t){return new Zx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,t,e.endAt)}(e._query,t))}}]),n}(aR);function fR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lR("startAt",t,!0)}function hR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new lR("startAfter",t,!1)}var dR=function(e){Ma(n,e);var t=Ba(n);function n(e,r,i){var a;return Ka(this,n),(a=t.call(this)).type=e,a.Tc=r,a.Ec=i,a}return Ha(n,[{key:"_apply",value:function(e){var t=mR(e,this.type,this.Tc,this.Ec);return new tP(e.firestore,e.converter,function(e,t){return new Zx(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,t)}(e._query,t))}}]),n}(aR);function pR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dR("endBefore",t,!1)}function vR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new dR("endAt",t,!0)}function mR(e,t,n,r){if(n[0]=Wu(n[0]),n[0]instanceof $P)return function(e,t,n,r,i){if(!r)throw new ob(ab.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for ".concat(n,"()."));var a,o=[],u=du(a_(e));try{for(u.s();!(a=u.n()).done;){var s=a.value;if(s.field.isKeyField())o.push(tx(t,r.key));else{var c=r.data.field(s.field);if(Fb(c))throw new ob(ab.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+s.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===c){var l=s.field.canonicalString();throw new ob(ab.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '".concat(l,"' (used as the orderBy) does not exist."))}o.push(c)}}}catch(f){u.e(f)}finally{u.f()}return new Qx(o,i)}(e._query,e.firestore._databaseId,t,n[0]._document,r);var i=NP(e.firestore);return function(e,t,n,r,i,a){var o=e.explicitOrderBy;if(i.length>o.length)throw new ob(ab.INVALID_ARGUMENT,"Too many arguments provided to ".concat(r,"(). The number of arguments must be less than or equal to the number of orderBy() clauses"));for(var u=[],s=0;s<i.length;s++){var c=i[s];if(o[s].field.isKeyField()){if("string"!=typeof c)throw new ob(ab.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in ".concat(r,"(), but got a ").concat(typeof c));if(!i_(e)&&-1!==c.indexOf("/"))throw new ob(ab.INVALID_ARGUMENT,"Invalid query. When querying a collection and ordering by documentId(), the value passed to ".concat(r,"() must be a plain document ID, but '").concat(c,"' contains a slash."));var l=e.path.child(Cb.fromString(c));if(!Kb.isDocumentKey(l))throw new ob(ab.INVALID_ARGUMENT,"Invalid query. When querying a collection group and ordering by documentId(), the value passed to ".concat(r,"() must result in a valid document path, but '").concat(l,"' is not because it contains an odd number of segments."));var f=new Kb(l);u.push(tx(t,f))}else{var h=UP(n,r,c);u.push(h)}}return new Qx(u,a)}(e._query,e.firestore._databaseId,i,t,n,r)}function yR(e,t,n){if("string"==typeof(n=Wu(n))){if(""===n)throw new ob(ab.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!i_(t)&&-1!==n.indexOf("/"))throw new ob(ab.INVALID_ARGUMENT,"Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '".concat(n,"' contains a '/' character."));var r=t.path.child(Cb.fromString(n));if(!Kb.isDocumentKey(r))throw new ob(ab.INVALID_ARGUMENT,"Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '".concat(r,"' is not because it has an odd number of segments (").concat(r.length,")."));return tx(e,new Kb(r))}if(n instanceof eP)return tx(e,n._key);throw new ob(ab.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ".concat(QA(n),"."))}function gR(e,t){if(!Array.isArray(e)||0===e.length)throw new ob(ab.INVALID_ARGUMENT,"Invalid Query. A non-empty array is required for '".concat(t.toString(),"' filters."));if(e.length>10)throw new ob(ab.INVALID_ARGUMENT,"Invalid Query. '".concat(t.toString(),"' filters support a maximum of 10 elements in the value array."))}function kR(e,t,n){if(!n.isEqual(t))throw new ob(ab.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '".concat(t.toString(),"' and so you must also use '").concat(t.toString(),"' as your first argument to orderBy(), but your first orderBy() is on field '").concat(n.toString(),"' instead."))}var wR={maxAttempts:5},bR=function(){function e(){Ka(this,e)}return Ha(e,[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(Qb(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Lb(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Mb(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw nb()}}},{key:"convertObject",value:function(e,t){var n=this,r={};return Sb(e.fields,(function(e,i){r[e]=n.convertValue(i,t)})),r}},{key:"convertGeoPoint",value:function(e){return new xP(Lb(e.latitude),Lb(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=jb(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(Ub(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=Db(e);return new xb(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=Cb.fromString(e);rb($I(n));var r=new zb(n.get(1),n.get(3)),i=new Kb(n.popFirst(5));return r.isEqual(t)||Zw("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}]),e}();function xR(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}var _R=function(e){Ma(n,e);var t=Ba(n);function n(e){var r;return Ka(this,n),(r=t.call(this)).firestore=e,r}return Ha(n,[{key:"convertBytes",value:function(e){return new wP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new eP(this.firestore,null,t)}}]),n}(bR),IR=function(){function e(t,n){Ka(this,e),this._firestore=t,this._commitHandler=n,this._mutations=[],this._committed=!1,this._dataReader=NP(t)}return Ha(e,[{key:"set",value:function(e,t,n){this._verifyNotCommitted();var r=SR(e,this._firestore),i=xR(r.converter,t,n),a=AP(this._dataReader,"WriteBatch.set",r._key,i,null!==r.converter,n);return this._mutations.push(a.toMutation(r._key,R_.none())),this}},{key:"update",value:function(e,t,n){this._verifyNotCommitted();for(var r,i=SR(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Wu(t))||t instanceof kP?jP(this._dataReader,"WriteBatch.update",i._key,t,n,o):FP(this._dataReader,"WriteBatch.update",i._key,t),this._mutations.push(r.toMutation(i._key,R_.exists(!0))),this}},{key:"delete",value:function(e){this._verifyNotCommitted();var t=SR(e,this._firestore);return this._mutations=this._mutations.concat(new H_(t._key,R_.none())),this}},{key:"commit",value:function(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}},{key:"_verifyNotCommitted",value:function(){if(this._committed)throw new ob(ab.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}]),e}();function SR(e,t){if((e=Wu(e)).firestore!==t)throw new ob(ab.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}var ER=function(e){Ma(n,e);var t=Ba(n);function n(e){var r;return Ka(this,n),(r=t.call(this)).firestore=e,r}return Ha(n,[{key:"convertBytes",value:function(e){return new wP(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new eP(this.firestore,null,t)}}]),n}(bR);function TR(e){e=$A(e,eP);var t=$A(e.firestore,lP),n=fP(t),r=new ER(t);return function(e,t){var n=new ub;return e.asyncQueue.enqueueAndForget(Gu(Qu().mark((function r(){return Qu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Gu(Qu().mark((function e(t,n,r){var i,a;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,function(e,t){var n=ib(e);return n.persistence.runTransaction("read document","readonly",(function(e){return n.fi.Ls(e,t)}))}(t,n);case 3:(i=e.sent).isFoundDocument()?r.resolve(i):i.isNoDocument()?r.resolve(null):r.reject(new ob(ab.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),a=JC(e.t0,"Failed to get document '".concat(n," from cache")),r.reject(a);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,MA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._key).then((function(n){return new ZP(t,r,e._key,n,new XP(null!==n&&n.hasLocalMutations,!0),e.converter)}))}function CR(e){e=$A(e,tP);var t=$A(e.firestore,lP),n=fP(t),r=new ER(t);return function(e,t){var n=new ub;return e.asyncQueue.enqueueAndForget(Gu(Qu().mark((function r(){return Qu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=function(){var e=Gu(Qu().mark((function e(t,n,r){var i,a,o,u,s;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,kT(t,n,!0);case 3:i=e.sent,a=new yN(n,i._i),o=a.Wu(i.documents),u=a.applyChanges(o,!1),r.resolve(u.snapshot),e.next=14;break;case 10:e.prev=10,e.t0=e.catch(0),s=JC(e.t0,"Failed to execute query '".concat(n," against cache")),r.reject(s);case 14:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(t,n,r){return e.apply(this,arguments)}}(),r.next=3,MA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(n,e._query).then((function(n){return new tR(t,r,e,n)}))}function NR(e,t,n){e=$A(e,eP);var r=$A(e.firestore,lP),i=xR(e.converter,t,n);return OR(r,[AP(NP(r),"setDoc",e._key,i,null!==e.converter,n).toMutation(e._key,R_.none())])}function AR(e,t,n){e=$A(e,eP);for(var r=$A(e.firestore,lP),i=NP(r),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return OR(r,[("string"==typeof(t=Wu(t))||t instanceof kP?jP(i,"updateDoc",e._key,t,n,o):FP(i,"updateDoc",e._key,t)).toMutation(e._key,R_.exists(!0))])}function PR(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,o;e=Wu(e);var u={includeMetadataChanges:!1},s=0;"object"!=typeof n[s]||sP(n[s])||(u=n[s],s++);var c,l,f,h={includeMetadataChanges:u.includeMetadataChanges};if(sP(n[s])){var d=n[s];n[s]=null===(i=d.next)||void 0===i?void 0:i.bind(d),n[s+1]=null===(a=d.error)||void 0===a?void 0:a.bind(d),n[s+2]=null===(o=d.complete)||void 0===o?void 0:o.bind(d)}if(e instanceof eP)l=$A(e.firestore,lP),f=t_(e._key.path),c={next:function(t){n[s]&&n[s](DR(l,e,t))},error:n[s+1],complete:n[s+2]};else{var p=$A(e,tP);l=$A(p.firestore,lP),f=p._query;var v=new ER(l);c={next:function(e){n[s]&&n[s](new tR(l,v,p,e))},error:n[s+1],complete:n[s+2]},iR(e._query)}return function(e,t,n,r){var i=new xA(r),a=new lN(t,i,n);return e.asyncQueue.enqueueAndForget(Gu(Qu().mark((function t(){return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=rN,t.next=3,UA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Aa(),e.asyncQueue.enqueueAndForget(Gu(Qu().mark((function t(){return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=aN,t.next=3,UA(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(fP(l),f,h,c)}function RR(e,t){return function(e,t){var n=new xA(t);return e.asyncQueue.enqueueAndForget(Gu(Qu().mark((function t(){return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ib(e).bu.add(t),t.next()},t.next=3,UA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){n.Aa(),e.asyncQueue.enqueueAndForget(Gu(Qu().mark((function t(){return Qu().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=function(e,t){ib(e).bu.delete(t)},t.next=3,UA(e);case 3:return t.t1=t.sent,t.t2=n,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(fP(e=$A(e,lP)),sP(t)?t:{next:t})}function OR(e,t){return function(e,t){var n=new ub;return e.asyncQueue.enqueueAndForget(Gu(Qu().mark((function r(){return Qu().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=TN,r.next=3,jA(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(fP(e),t)}function DR(e,t,n){var r=n.docs.get(t._key),i=new ER(e);return new ZP(e,i,t._key,r,new XP(n.hasPendingWrites,n.fromCache),t.converter)}var LR=function(e){Ma(n,e);var t=Ba(n);function n(e,r){var i;return Ka(this,n),(i=t.call(this,e,r))._firestore=e,i}return Ha(n,[{key:"get",value:function(e){var t=this,r=SR(e,this._firestore),i=new ER(this._firestore);return wc(Fa(n.prototype),"get",this).call(this,e).then((function(e){return new ZP(t._firestore,i,r._key,e._document,new XP(!1,!1),r.converter)}))}}]),n}(function(){function e(t,n){Ka(this,e),this._firestore=t,this._transaction=n,this._dataReader=NP(t)}return Ha(e,[{key:"get",value:function(e){var t=this,n=SR(e,this._firestore),r=new _R(this._firestore);return this._transaction.lookup([n._key]).then((function(e){if(!e||1!==e.length)return nb();var i=e[0];if(i.isFoundDocument())return new $P(t._firestore,r,i.key,i,n.converter);if(i.isNoDocument())return new $P(t._firestore,r,n._key,null,n.converter);throw nb()}))}},{key:"set",value:function(e,t,n){var r=SR(e,this._firestore),i=xR(r.converter,t,n),a=AP(this._dataReader,"Transaction.set",r._key,i,null!==r.converter,n);return this._transaction.set(r._key,a),this}},{key:"update",value:function(e,t,n){for(var r,i=SR(e,this._firestore),a=arguments.length,o=new Array(a>3?a-3:0),u=3;u<a;u++)o[u-3]=arguments[u];return r="string"==typeof(t=Wu(t))||t instanceof kP?jP(this._dataReader,"Transaction.update",i._key,t,n,o):FP(this._dataReader,"Transaction.update",i._key,t),this._transaction.update(i._key,r),this}},{key:"delete",value:function(e){var t=SR(e,this._firestore);return this._transaction.delete(t._key),this}}]),e}());function MR(e,t,n){e=$A(e,lP);var r=Object.assign(Object.assign({},wR),n);return function(e){if(e.maxAttempts<1)throw new ob(ab.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(e,t,n){var r=new ub;return e.asyncQueue.enqueueAndForget(Gu(Qu().mark((function i(){var a;return Qu().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,function(e){return OA(e).then((function(e){return e.datastore}))}(e);case 2:a=i.sent,new SA(e.asyncQueue,a,n,t,r).run();case 4:case"end":return i.stop()}}),i)})))),r.promise}(fP(e),(function(n){return t(new LR(e,n))}),r)}function FR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new DP("arrayUnion",t)}function jR(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new LP("arrayRemove",t)}!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){$w=e}(Bs),Ls(new $u("firestore",(function(e,n){var r=n.options,i=e.getProvider("app").getImmediate(),a=new lP(i,new fb(e.getProvider("auth-internal")),new vb(e.getProvider("app-check-internal")));return r=Object.assign({useFetchStreams:t},r),a._setSettings(r),a}),"PUBLIC")),Qs(Hw,"3.4.9",e),Qs(Hw,"3.4.9","esm2017")}();function UR(e,t){if(void 0===t)return{merge:!1};if(void 0!==t.mergeFields&&void 0!==t.merge)throw new ob("invalid-argument","Invalid options passed to function ".concat(e,"(): You cannot ")+'specify both "merge" and "mergeFields".');return t}function VR(){if("undefined"===typeof Uint8Array)throw new ob("unimplemented","Uint8Arrays are not available in this environment.")}function zR(){if("undefined"==typeof atob)throw new ob("unimplemented","Blobs are unavailable in Firestore in this environment.")}var BR=function(){function e(t){Ka(this,e),this._delegate=t}return Ha(e,[{key:"toBase64",value:function(){return zR(),this._delegate.toBase64()}},{key:"toUint8Array",value:function(){return VR(),this._delegate.toUint8Array()}},{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}},{key:"toString",value:function(){return"Blob(base64: "+this.toBase64()+")"}}],[{key:"fromBase64String",value:function(t){return zR(),new e(wP.fromBase64String(t))}},{key:"fromUint8Array",value:function(t){return VR(),new e(wP.fromUint8Array(t))}}]),e}();function qR(e){return function(e,t){if("object"!==typeof e||null===e)return!1;var n,r=e,i=du(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"===typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}(e,["next","error","complete"])}var WR=function(){function e(){Ka(this,e)}return Ha(e,[{key:"enableIndexedDbPersistence",value:function(e,t){return function(e,t){gP(e=$A(e,lP));var n=fP(e),r=e._freezeSettings(),i=new wA;return dP(n,i,new gA(i,r.cacheSizeBytes,null==t?void 0:t.forceOwnership))}(e._delegate,{forceOwnership:t})}},{key:"enableMultiTabIndexedDbPersistence",value:function(e){return function(e){gP(e=$A(e,lP));var t=fP(e),n=e._freezeSettings(),r=new wA;return dP(t,r,new kA(r,n.cacheSizeBytes))}(e._delegate)}},{key:"clearIndexedDbPersistence",value:function(e){return function(e){if(e._initialized&&!e._terminated)throw new ob(ab.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");var t=new ub;return e._queue.enqueueAndForgetEvenWhileRestricted(Gu(Qu().mark((function n(){return Qu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,function(){var e=Gu(Qu().mark((function e(t){var n;return Qu().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(ES.vt()){e.next=2;break}return e.abrupt("return",Promise.resolve());case 2:return n=t+"main",e.next=5,ES.delete(n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(rT(e._databaseId,e._persistenceKey));case 3:t.resolve(),n.next=9;break;case 6:n.prev=6,n.t0=n.catch(0),t.reject(n.t0);case 9:case"end":return n.stop()}}),n,null,[[0,6]])})))),t.promise}(e._delegate)}}]),e}(),KR=function(){function e(t,n,r){var i=this;Ka(this,e),this._delegate=n,this._persistenceProvider=r,this.INTERNAL={delete:function(){return i.terminate()}},t instanceof zb||(this._appCompat=t)}return Ha(e,[{key:"_databaseId",get:function(){return this._delegate._databaseId}},{key:"settings",value:function(e){var t=this._delegate._getSettings();e.merge||t.host===e.host||eb("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}},{key:"useEmulator",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};ZA(this._delegate,e,t,n)}},{key:"enableNetwork",value:function(){return pP(this._delegate)}},{key:"disableNetwork",value:function(){return vP(this._delegate)}},{key:"enablePersistence",value:function(e){var t=!1,n=!1;return e&&KA("synchronizeTabs",t=!!e.synchronizeTabs,"experimentalForceOwningTab",n=!!e.experimentalForceOwningTab),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,n)}},{key:"clearPersistence",value:function(){return this._persistenceProvider.clearIndexedDbPersistence(this)}},{key:"terminate",value:function(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}},{key:"waitForPendingWrites",value:function(){return function(e){return function(e){var t=new ub;return e.asyncQueue.enqueueAndForget(Gu(Qu().mark((function n(){return Qu().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.t0=jN,n.next=3,jA(e);case 3:return n.t1=n.sent,n.t2=t,n.abrupt("return",(0,n.t0)(n.t1,n.t2));case 6:case"end":return n.stop()}}),n)})))),t.promise}(fP(e=$A(e,lP)))}(this._delegate)}},{key:"onSnapshotsInSync",value:function(e){return RR(this._delegate,e)}},{key:"app",get:function(){if(!this._appCompat)throw new ob("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}},{key:"collection",value:function(e){try{return new aO(this,rP(this._delegate,e))}catch(t){throw JR(t,"collection()","Firestore.collection()")}}},{key:"doc",value:function(e){try{return new YR(this,iP(this._delegate,e))}catch(t){throw JR(t,"doc()","Firestore.doc()")}}},{key:"collectionGroup",value:function(e){try{return new nO(this,function(e,t){if(e=$A(e,XA),WA("collectionGroup","collection id",t),t.indexOf("/")>=0)throw new ob(ab.INVALID_ARGUMENT,"Invalid collection ID '".concat(t,"' passed to function collectionGroup(). Collection IDs must not contain '/'."));return new tP(e,null,function(e){return new Zx(Cb.emptyPath(),e)}(t))}(this._delegate,e))}catch(t){throw JR(t,"collectionGroup()","Firestore.collectionGroup()")}}},{key:"runTransaction",value:function(e){var t=this;return MR(this._delegate,(function(n){return e(new HR(t,n))}))}},{key:"batch",value:function(){var e=this;return fP(this._delegate),new QR(new IR(this._delegate,(function(t){return OR(e._delegate,t)})))}},{key:"loadBundle",value:function(e){return mP(this._delegate,e)}},{key:"namedQuery",value:function(e){var t=this;return yP(this._delegate,e).then((function(e){return e?new nO(t,e):null}))}}]),e}(),GR=function(e){Ma(n,e);var t=Ba(n);function n(e){var r;return Ka(this,n),(r=t.call(this)).firestore=e,r}return Ha(n,[{key:"convertBytes",value:function(e){return new BR(new wP(e))}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return YR.forKey(t,this.firestore,null)}}]),n}(bR);var HR=function(){function e(t,n){Ka(this,e),this._firestore=t,this._delegate=n,this._userDataWriter=new GR(t)}return Ha(e,[{key:"get",value:function(e){var t=this,n=oO(e);return this._delegate.get(n).then((function(e){return new eO(t._firestore,new ZP(t._firestore._delegate,t._userDataWriter,e._key,e._document,e.metadata,n.converter))}))}},{key:"set",value:function(e,t,n){var r=oO(e);return n?(UR("Transaction.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=oO(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=oO(e);return this._delegate.delete(t),this}}]),e}(),QR=function(){function e(t){Ka(this,e),this._delegate=t}return Ha(e,[{key:"set",value:function(e,t,n){var r=oO(e);return n?(UR("WriteBatch.set",n),this._delegate.set(r,t,n)):this._delegate.set(r,t),this}},{key:"update",value:function(e,t,n){for(var r=arguments.length,i=new Array(r>3?r-3:0),a=3;a<r;a++)i[a-3]=arguments[a];var o,u=oO(e);2===arguments.length?this._delegate.update(u,t):(o=this._delegate).update.apply(o,[u,t,n].concat(i));return this}},{key:"delete",value:function(e){var t=oO(e);return this._delegate.delete(t),this}},{key:"commit",value:function(){return this._delegate.commit()}}]),e}(),$R=function(){function e(t,n,r){Ka(this,e),this._firestore=t,this._userDataWriter=n,this._delegate=r}return Ha(e,[{key:"fromFirestore",value:function(e,t){var n=new eR(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new tO(this._firestore,n),null!==t&&void 0!==t?t:{})}},{key:"toFirestore",value:function(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}}],[{key:"getInstance",value:function(t,n){var r=e.INSTANCES,i=r.get(t);i||(i=new WeakMap,r.set(t,i));var a=i.get(n);return a||(a=new e(t,new GR(t),n),i.set(n,a)),a}}]),e}();$R.INSTANCES=new WeakMap;var YR=function(){function e(t,n){Ka(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new GR(t)}return Ha(e,[{key:"id",get:function(){return this._delegate.id}},{key:"parent",get:function(){return new aO(this.firestore,this._delegate.parent)}},{key:"path",get:function(){return this._delegate.path}},{key:"collection",value:function(e){try{return new aO(this.firestore,rP(this._delegate,e))}catch(t){throw JR(t,"collection()","DocumentReference.collection()")}}},{key:"isEqual",value:function(e){return(e=Wu(e))instanceof eP&&aP(this._delegate,e)}},{key:"set",value:function(e,t){t=UR("DocumentReference.set",t);try{return t?NR(this._delegate,e,t):NR(this._delegate,e)}catch(n){throw JR(n,"setDoc()","DocumentReference.set()")}}},{key:"update",value:function(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];try{return 1===arguments.length?AR(this._delegate,e):AR.apply(void 0,[this._delegate,e,t].concat(r))}catch(a){throw JR(a,"updateDoc()","DocumentReference.update()")}}},{key:"delete",value:function(){return function(e){return OR($A(e.firestore,lP),[new H_(e._key,R_.none())])}(this._delegate)}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=XR(n),a=ZR(n,(function(t){return new eO(e.firestore,new ZP(e.firestore._delegate,e._userDataWriter,t._key,t._document,t.metadata,e._delegate.converter))}));return PR(this._delegate,i,a)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?TR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=$A(e,eP);var t=$A(e.firestore,lP);return zA(fP(t),e._key,{source:"server"}).then((function(n){return DR(t,e,n)}))}(this._delegate):function(e){e=$A(e,eP);var t=$A(e.firestore,lP);return zA(fP(t),e._key).then((function(n){return DR(t,e,n)}))}(this._delegate),t.then((function(e){return new eO(n.firestore,new ZP(n.firestore._delegate,n._userDataWriter,e._key,e._document,e.metadata,n._delegate.converter))}))}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter($R.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}],[{key:"forPath",value:function(t,n,r){if(t.length%2!==0)throw new ob("invalid-argument","Invalid document reference. Document references must have an even number of segments, but "+"".concat(t.canonicalString()," has ").concat(t.length));return new e(n,new eP(n._delegate,r,new Kb(t)))}},{key:"forKey",value:function(t,n,r){return new e(n,new eP(n._delegate,r,t))}}]),e}();function JR(e,t,n){return e.message=e.message.replace(t,n),e}function XR(e){var t,n=du(e);try{for(n.s();!(t=n.n()).done;){var r=t.value;if("object"===typeof r&&!qR(r))return r}}catch(i){n.e(i)}finally{n.f()}return{}}function ZR(e,t){var n,r,i;return{next:function(e){i.next&&i.next(t(e))},error:null===(n=(i=qR(e[0])?e[0]:qR(e[1])?e[1]:"function"===typeof e[0]?{next:e[0],error:e[1],complete:e[2]}:{next:e[1],error:e[2],complete:e[3]}).error)||void 0===n?void 0:n.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}var eO=function(){function e(t,n){Ka(this,e),this._firestore=t,this._delegate=n}return Ha(e,[{key:"ref",get:function(){return new YR(this._firestore,this._delegate.ref)}},{key:"id",get:function(){return this._delegate.id}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"exists",get:function(){return this._delegate.exists()}},{key:"data",value:function(e){return this._delegate.data(e)}},{key:"get",value:function(e,t){return this._delegate.get(e,t)}},{key:"isEqual",value:function(e){return rR(this._delegate,e._delegate)}}]),e}(),tO=function(e){Ma(n,e);var t=Ba(n);function n(){return Ka(this,n),t.apply(this,arguments)}return Ha(n,[{key:"data",value:function(e){var t=this._delegate.data(e);return function(e,t){e||nb()}(void 0!==t),t}}]),n}(eO),nO=function(){function e(t,n){Ka(this,e),this.firestore=t,this._delegate=n,this._userDataWriter=new GR(t)}return Ha(e,[{key:"where",value:function(t,n,r){try{return new e(this.firestore,oR(this._delegate,function(e,t,n){var r=t,i=JP("where",e);return new uR(i,r,n)}(t,n,r)))}catch(i){throw JR(i,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"orderBy",value:function(t,n){try{return new e(this.firestore,oR(this._delegate,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc",n=JP("orderBy",e);return new sR(n,t)}(t,n)))}catch(r){throw JR(r,/(orderBy|where)\(\)/,"Query.$1()")}}},{key:"limit",value:function(t){try{return new e(this.firestore,oR(this._delegate,function(e){return YA("limit",e),new cR("limit",e,"F")}(t)))}catch(n){throw JR(n,"limit()","Query.limit()")}}},{key:"limitToLast",value:function(t){try{return new e(this.firestore,oR(this._delegate,function(e){return YA("limitToLast",e),new cR("limitToLast",e,"L")}(t)))}catch(n){throw JR(n,"limitToLast()","Query.limitToLast()")}}},{key:"startAt",value:function(){try{return new e(this.firestore,oR(this._delegate,fR.apply(void 0,arguments)))}catch(t){throw JR(t,"startAt()","Query.startAt()")}}},{key:"startAfter",value:function(){try{return new e(this.firestore,oR(this._delegate,hR.apply(void 0,arguments)))}catch(t){throw JR(t,"startAfter()","Query.startAfter()")}}},{key:"endBefore",value:function(){try{return new e(this.firestore,oR(this._delegate,pR.apply(void 0,arguments)))}catch(t){throw JR(t,"endBefore()","Query.endBefore()")}}},{key:"endAt",value:function(){try{return new e(this.firestore,oR(this._delegate,vR.apply(void 0,arguments)))}catch(t){throw JR(t,"endAt()","Query.endAt()")}}},{key:"isEqual",value:function(e){return oP(this._delegate,e._delegate)}},{key:"get",value:function(e){var t,n=this;return t="cache"===(null===e||void 0===e?void 0:e.source)?CR(this._delegate):"server"===(null===e||void 0===e?void 0:e.source)?function(e){e=$A(e,tP);var t=$A(e.firestore,lP),n=fP(t),r=new ER(t);return BA(n,e._query,{source:"server"}).then((function(n){return new tR(t,r,e,n)}))}(this._delegate):function(e){e=$A(e,tP);var t=$A(e.firestore,lP),n=fP(t),r=new ER(t);return iR(e._query),BA(n,e._query).then((function(n){return new tR(t,r,e,n)}))}(this._delegate),t.then((function(e){return new iO(n.firestore,new tR(n.firestore._delegate,n._userDataWriter,n._delegate,e._snapshot))}))}},{key:"onSnapshot",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=XR(n),a=ZR(n,(function(t){return new iO(e.firestore,new tR(e.firestore._delegate,e._userDataWriter,e._delegate,t._snapshot))}));return PR(this._delegate,i,a)}},{key:"withConverter",value:function(t){return new e(this.firestore,t?this._delegate.withConverter($R.getInstance(this.firestore,t)):this._delegate.withConverter(null))}}]),e}(),rO=function(){function e(t,n){Ka(this,e),this._firestore=t,this._delegate=n}return Ha(e,[{key:"type",get:function(){return this._delegate.type}},{key:"doc",get:function(){return new tO(this._firestore,this._delegate.doc)}},{key:"oldIndex",get:function(){return this._delegate.oldIndex}},{key:"newIndex",get:function(){return this._delegate.newIndex}}]),e}(),iO=function(){function e(t,n){Ka(this,e),this._firestore=t,this._delegate=n}return Ha(e,[{key:"query",get:function(){return new nO(this._firestore,this._delegate.query)}},{key:"metadata",get:function(){return this._delegate.metadata}},{key:"size",get:function(){return this._delegate.size}},{key:"empty",get:function(){return this._delegate.empty}},{key:"docs",get:function(){var e=this;return this._delegate.docs.map((function(t){return new tO(e._firestore,t)}))}},{key:"docChanges",value:function(e){var t=this;return this._delegate.docChanges(e).map((function(e){return new rO(t._firestore,e)}))}},{key:"forEach",value:function(e,t){var n=this;this._delegate.forEach((function(r){e.call(t,new tO(n._firestore,r))}))}},{key:"isEqual",value:function(e){return rR(this._delegate,e._delegate)}}]),e}(),aO=function(e){Ma(n,e);var t=Ba(n);function n(e,r){var i;return Ka(this,n),(i=t.call(this,e,r)).firestore=e,i._delegate=r,i}return Ha(n,[{key:"id",get:function(){return this._delegate.id}},{key:"path",get:function(){return this._delegate.path}},{key:"parent",get:function(){var e=this._delegate.parent;return e?new YR(this.firestore,e):null}},{key:"doc",value:function(e){try{return new YR(this.firestore,void 0===e?iP(this._delegate):iP(this._delegate,e))}catch(t){throw JR(t,"doc()","CollectionReference.doc()")}}},{key:"add",value:function(e){var t=this;return function(e,t){var n=$A(e.firestore,lP),r=iP(e),i=xR(e.converter,t);return OR(n,[AP(NP(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,R_.exists(!1))]).then((function(){return r}))}(this._delegate,e).then((function(e){return new YR(t.firestore,e)}))}},{key:"isEqual",value:function(e){return aP(this._delegate,e._delegate)}},{key:"withConverter",value:function(e){return new n(this.firestore,e?this._delegate.withConverter($R.getInstance(this.firestore,e)):this._delegate.withConverter(null))}}]),n}(nO);function oO(e){return $A(e,eP)}var uO=function(){function e(){Ka(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this._delegate=pu(kP,n)}return Ha(e,[{key:"isEqual",value:function(e){return(e=Wu(e))instanceof kP&&this._delegate._internalPath.isEqual(e._internalPath)}}],[{key:"documentId",value:function(){return new e(Ab.keyField().canonicalString())}}]),e}(),sO=function(){function e(t){Ka(this,e),this._delegate=t}return Ha(e,[{key:"isEqual",value:function(e){return this._delegate.isEqual(e._delegate)}}],[{key:"serverTimestamp",value:function(){var t=new OP("serverTimestamp");return t._methodName="FieldValue.serverTimestamp",new e(t)}},{key:"delete",value:function(){var t=new PP("deleteField");return t._methodName="FieldValue.delete",new e(t)}},{key:"arrayUnion",value:function(){var t=FR.apply(void 0,arguments);return t._methodName="FieldValue.arrayUnion",new e(t)}},{key:"arrayRemove",value:function(){var t=jR.apply(void 0,arguments);return t._methodName="FieldValue.arrayRemove",new e(t)}},{key:"increment",value:function(t){var n=function(e){return new MP("increment",e)}(t);return n._methodName="FieldValue.increment",new e(n)}}]),e}(),cO={Firestore:KR,GeoPoint:xP,Timestamp:xb,Blob:BR,Transaction:HR,WriteBatch:QR,DocumentReference:YR,DocumentSnapshot:eO,Query:nO,QueryDocumentSnapshot:tO,QuerySnapshot:iO,CollectionReference:aO,FieldPath:uO,FieldValue:sO,setLogLevel:function(e){!function(e){Yw.setLogLevel(e)}(e)},CACHE_SIZE_UNLIMITED:-1};!function(e){!function(e,t){e.INTERNAL.registerComponent(new $u("firestore-compat",(function(e){var n=e.getProvider("app-compat").getImmediate(),r=e.getProvider("firestore").getImmediate();return t(n,r)}),"PUBLIC").setServiceProps(Object.assign({},cO)))}(e,(function(e,t){return new KR(e,t,new WR)})),e.registerVersion("@firebase/firestore-compat","0.1.18")}(gc);var lO=gc.initializeApp({apiKey:"AIzaSyDlG5MOgd-TQJl4joebY3foW-Q_6U2wc0Y",authDomain:"netflix-cloness.firebaseapp.com",projectId:"netflix-cloness",storageBucket:"netflix-cloness.appspot.com",messagingSenderId:"1069139720984",appId:"1:1069139720984:web:2dd125be0d9548ecc7fc6d"});r.createRoot(document.getElementById("root")).render((0,In.jsx)(In.Fragment,{children:(0,In.jsxs)(Zo.Provider,{value:{firebase:lO},children:[(0,In.jsx)(hu,{}),(0,In.jsx)(fu,{})]})}))}()}();
//# sourceMappingURL=main.46adab13.js.map